!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("./jzfrontend/biz-shared/bizShared.min.js"),require("./jzfrontend/utils/jzUtils.min.js"),require("./jzfrontend/request/jzRequest.min.js")):"function"==typeof define&&define.amd?define("__webpack_no_use_variable",[,,],e):"object"==typeof exports?exports.__webpack_no_use_variable=e(require("./jzfrontend/biz-shared/bizShared.min.js"),require("./jzfrontend/utils/jzUtils.min.js"),require("./jzfrontend/request/jzRequest.min.js")):t.__webpack_no_use_variable=e(t.bizShared,t.jzUtils,t.jzRequest)}(this,(function(__WEBPACK_EXTERNAL_MODULE__2__,__WEBPACK_EXTERNAL_MODULE__3__,__WEBPACK_EXTERNAL_MODULE__9__){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=37)}([function(t,e,n){function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return f(this,n)}}function f(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return d(t)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}var h=n(6),m=h.DomChanged,v=h.isGrayTest,g=n(4).isFunction,y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(a,t);var e,n,i,o=c(a);function a(t){var e;s(this,a);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return e=o.call.apply(o,[this,t].concat(i)),a._instances[t]=d(e),e.initSiteModule(),e.init(),e}return e=a,i=[{key:"destoryMutationObserver",value:function(t){var e=a._instances[t];e._mutationObserver&&e._mutationObserver.disconnect&&(e._mutationObserver.disconnect(),delete e._mutationObserver,delete e._mutationObserverOptions)}},{key:"find",value:function(t){return a._instances[t]}},{key:"install",value:function(t){var e=t.id;new(jzModule.getSiteModuleClass(t))(e,t)}}],(n=[{key:"init",value:function(){this.isCusModuleClass()&&this.throwError("未定义 init 方法")}},{key:"initSiteModule",value:function(){this.initMutationObserver()}},{key:"initMutationObserver",value:function(){if(v()&&g(this.getMutationObserverOptions)){var t=r(r({},this.getMutationObserverOptions()),{},{node:this.$el[0]?this.$el[0]:null});this._mutationObserverOptions=t,this._mutationObserver=new m(t)}}},{key:"isCusModuleClass",value:function(){return Object.getPrototypeOf(this).constructor!==a}}])&&l(e.prototype,n),i&&l(e,i),Object.defineProperty(e,"prototype",{writable:!1}),a}(n(5));y._instances={},t.exports=y},function(t,e,n){"use strict";n.r(e),n.d(e,"initSiteAnimation",(function(){return I})),n.d(e,"getSiteAnimationConfig",(function(){return b})),n.d(e,"getModuleStructureTypeForAnimation",(function(){return w})),n.d(e,"getModuleTypeForAnimation",(function(){return S})),n.d(e,"getContentDomSeqList",(function(){return k})),n.d(e,"getAnimationDirectionConf",(function(){return _})),n.d(e,"stopEffectForAnimation",(function(){return C})),n.d(e,"startEffectForAnimation",(function(){return M})),n.d(e,"siteConfigHandler",(function(){return x})),n.d(e,"refreshOneResAnimation",(function(){return O})),n.d(e,"readyForContentAnimation",(function(){return F})),n.d(e,"refreshOneSiteAnimationEl",(function(){return L}));var i=n(2),o=n(3),r=function(t,e){var n,i,o=Fai.top.$("#module"+t);1==e?((n=o.find("#photoSwitch"+t)).find(".imageSwitchBtnArea .imageSwitchBtn").eq(0).trigger("click"),n.data("intervalId")&&(i=n.data("intervalId"),Fai.stopInterval(i))):2==e?((n=o.find("#photoDotSwitch"+t)).find(".imageSwitchBtnArea .imageSwitchBtn_dot").eq(0).trigger("click"),n.data("intervalId")&&(i=n.data("intervalId"),Fai.stopInterval(i))):3==e&&(n=o.find(".photoSmallPrePicContainer")).find(".photoSmallPrePicOuter").eq(0).find(".photoSmallPicBox").trigger("click")},a=function(t,e){var n=$("#module"+t).find("#newsList"+t),i="scroll"+t,o=n.attr("scroll");o&&parseInt(o)&&(n.stop(),e?Fai.startInterval(i):Fai.stopInterval(i))},s=function(t){var e,n=[],i=Fai.top.$("#module"+t).find(".moreCardDrag"),o=i.length;if(o>0)for(var r=0;r<o;r++)e=$(i[r]).find(".moreCardTd"),n[r]=Array.from(e);return n.resetDirection=!0,n.everyItemDirection=!1,n},l=function(t){var e,n=[],i=[],o=Fai.top.$("#module"+t).find(".moreCardTd"),r=o.length;if(r>0){e=o;for(var a=0;a<r;a++)i.push(e[a]),n[a]=i,i=[]}return n.resetDirection=!0,n.everyItemDirection=!1,n},u=function(t,e){var n,i=[],o=[],r=Fai.top.$("#module"+t).find(".moreCardTd"),a=r.length;if(a>0){n=r;for(var s=0;s<a;s++){var l;s%4==2?(o.push(n[s+1]),i[s]=o,o=[],l=s):s==l+1?(o.push(n[s-1]),i[s]=o,o=[]):(o.push(n[s]),i[s]=o,o=[]),s%4==0?i[s].r=e?1:2:s%4==1?i[s].r=e?3:4:s%4==2?i[s].r=e?2:1:s%4==3&&(i[s].r=e?4:3)}}return i.everyItemDirection=!0,i},c=function(t,e){var n,i=[],o=[],r=Fai.top.$("#module"+t).find(".moreCardTd"),a=r.length;if(a>0){n=r;for(var s=0;s<a;s++)o.push(n[s]),i[s]=o,o=[],s%4==0?i[s].r=e?1:2:s%4==1?i[s].r=e?3:4:s%4==2?i[s].r=e?2:1:s%4==3&&(i[s].r=e?4:3)}return i.everyItemDirection=!0,i},f=function(t,e){var n,i=[],o=[],r=Fai.top.$("#module"+t).find(".moreCardTd"),a=r.length;if(a>0){n=r;for(var s=0;s<a;s++){var l;s%5==3?(o.push(n[s+1]),i[s]=o,o=[],l=s):s==l+1?(o.push(n[s-1]),i[s]=o,o=[]):(o.push(n[s]),i[s]=o,o=[]),s%5==0?i[s].r=e?1:2:s%5==1?i[s].r=e?3:4:s%5==2?i[s].r=e?2:1:s%5==3?i[s].r=e?4:3:s%5==4&&(i[s].r=e?1:2)}}return i.everyItemDirection=!0,i},d=function(t,e){var n,i=[],o=[],r=Fai.top.$("#module"+t).find(".moreCardTd"),a=r.length;if(a>0){n=r;for(var s=0;s<a;s++){var l;s%5==2?(o.push(n[s+2]),i[s]=o,o=[],l=s):s==l+2?(o.push(n[s-2]),i[s]=o,o=[]):(o.push(n[s]),i[s]=o,o=[]),s%5==0?i[s].r=e?1:2:s%5==1?i[s].r=e?3:4:s%5==2?i[s].r=e?2:1:s%5==3?i[s].r=e?4:3:s%5==4&&(i[s].r=e?1:2)}}return i.everyItemDirection=!0,i},p=function(t,e){var n,i=[],o=[],r=Fai.top.$("#module"+t).find(".moreCardTd"),a=r.length;if(a>0){n=r;for(var s=0;s<a;s++){var l;s%7==4?(o.push(n[s+2]),i[s]=o,o=[],l=s):s==l+2?(o.push(n[s-2]),i[s]=o,o=[]):(o.push(n[s]),i[s]=o,o=[]),s%7==0?i[s].r=e?1:2:s%7==1||s%7==2?i[s].r=e?3:4:s%7==3?i[s].r=e?2:1:s%7==4||s%7==5?i[s].r=e?4:3:s%7==6&&(i[s].r=e?1:2)}}return i.everyItemDirection=!0,i},h=function(t,e){var n,i=[],o=[],r=Fai.top.$("#module"+t).find(".moreCardTd"),a=r.length;if(a>0){n=r;for(var s=0;s<a;s++)o.push(n[s]),i[s]=o,o=[],s%3==0?i[s].r=e?1:2:s%3==1?i[s].r=e?3:4:s%3==2&&(i[s].r=e?2:1)}return i.everyItemDirection=!0,i},m=function(t,e){var n,i=[],o=[],r=Fai.top.$("#module"+t).find(".moreCardTd"),a=r.length;if(a>0){n=r;for(var s=0;s<a;s++){var l;s%3==1?(o.push(n[s+1]),i[s]=o,o=[],l=s):s==l+1?(o.push(n[s-1]),i[s]=o,o=[]):(o.push(n[s]),i[s]=o,o=[]),s%3==0?i[s].r=e?1:2:s%3==1?i[s].r=e?3:4:s%3==2&&(i[s].r=e?2:1)}}return i.everyItemDirection=!0,i},v=function(t,e){var n,i=[],o=[],r=Fai.top.$("#module"+t).find(".moreCardTd"),a=r.length;if(a>0){n=r;for(var s=0;s<a;s++){var l;s%6==3?(o.push(n[s+2]),i[s]=o,o=[],l=s):s==l+2?(o.push(n[s-2]),i[s]=o,o=[]):(o.push(n[s]),i[s]=o,o=[]),s%6==0?i[s].r=e?1:2:s%6==1?i[s].r=e?3:4:s%6==2?i[s].r=e?2:1:s%6==3||s%6==4?i[s].r=e?4:3:s%6==5&&(i[s].r=e?1:2)}}return i.everyItemDirection=!0,i},g=function(t,e){var n,i,o=Fai.top.$("#module"+t),r=[],a=[],s=0;if(10!=e&&13!=e)return n=o.find(".richModuleSlaveImgContainer"),(i=o.find(".richContent")).length>0&&a.push(i[0]),n.length>0&&a.push(n[0]),r[s++]=a,a=[],r},y=function(t,e){var n,i,o=Fai.top.$("#module"+t),r=[],a=[],s=0;if(7!=e)return n=o.find(".richModuleSlaveImgContainer"),i=o.find(".richContent"),n.length>0&&(a.push(n[0]),r[s++]=a,a=[]),i.length>0&&(a.push(i[0]),r[s++]=a,a=[]),r},b=function(t){if(jzUtils.isPlainObject(t)){var e={contentTerminal:"site"};return e.manageMode=Fai.top._manageMode,e.Monitor=Site.Monitor,e.JzFdpLog=Site.JzFdpLog,i.AnimationApis.getAnimationConfig(t,e)}},_=function(t){var e=[];if(0==t)return e;switch(t){case 1:case 3:e=[0,1,2,3,4];break;case 2:case 6:case 11:case 12:e=[1,2,3,4];break;case 4:case 5:case 7:case 9:case 10:default:e=[];break;case 8:case 28:e=[12,34]}return e},w=function(t,e){var n,i,o=$("#module"+e),r=-1,a=parseInt(jzModule.Module.getPerformAttr(e,"_modulestyle"));switch(t){case 1:88==a?r=1:89==a?r=2:90==a&&(r=3);break;case 2:(n=o.find(".richContent")).length>0&&(n.hasClass("richContent0")?r=7:n.hasClass("richContent1")?r=8:n.hasClass("richContent2")?r=9:n.hasClass("richContent3")?r=10:n.hasClass("richContent4")?r=11:n.hasClass("richContent5")?r=12:n.hasClass("richContent6")&&(r=13));break;case 3:91==a?r=4:92==a?r=5:93==a&&(r=6);break;case 4:var s=o.find(".photoMoreCardInner");s.hasClass("cardStyle0")?r=100:s.hasClass("cardStyle1")?r=101:s.hasClass("cardStyle2")?r=102:s.hasClass("cardStyle3")?r=103:s.hasClass("cardStyle4")?r=104:s.hasClass("cardStyle5")?r=105:s.hasClass("cardStyle6")?r=106:s.hasClass("cardStyle7")?r=107:s.hasClass("cardStyle8")?r=108:s.hasClass("cardStyle9")?r=109:s.hasClass("cardStyle10")?r=110:s.hasClass("cardStyle11")?r=111:s.hasClass("cardStyle12")&&(r=112);break;case 5:2==a?r=14:3==a?r=15:8==a?r=16:30==a?r=17:41==a?r=18:74==a&&(r=19);break;case 6:(n=o.find(".J_newsList")).length>0&&(0==(i=parseInt(n.attr("newslisttype")))?r=20:6==i?r=21:2==i?r=22:1==i?r=23:5==i?r=24:3==i?r=25:4==i&&(r=26));break;case 7:(n=o.find("#newsList"+e)).length>0&&(0==(i=parseInt(n.attr("_showsetting")))?r=27:1==i&&(r=28));break;case 8:if((n=o.find(".news_list_wrap")).length>0){var l=jzModule.SiteModule.find(e).module.blob0.selectStyle;l&&!l||(r=116)}}return r},S=function(t){$("#module"+t);var e=Site.getModuleStatus(t),n=parseInt(jzModule.Module.getPerformAttr(t,"_modulestyle")),i=-1;return 3==e||(88==n||89==n||90==n?i=1:1==n?i=2:91==n||92==n||93==n?i=3:98==n?i=4:2==n||3==n||8==n||30==n||41==n||74==n?i=5:6==n||7==n?i=6:116==n&&(i=8)),i},k=function(t,e,n){var i=[],o=w(t,n);switch(o){case 1:0==e?i=function(t){var e,n,i,o,r,a,s=Fai.top.$("#module"+t),l=[],u=[],c=0,f=s.find("#photoForms"+t);if(!(f.length<1)){for(e=(a=f.find(".J_photoForm")).length,o=(n=(n=f.width()/a.outerWidth(!0))<1?1:parseInt(n))*(i=Math.ceil(f.parents(".formMiddleContent"+t).height()/a.outerHeight(!0)))<e?n*i:e,r=0;r<o;r++)r%n==0&&0!=r&&(l[c++]=u,u=[]),u.push(a[r]);return u.length>0&&(l[c++]=u,u=[]),(a=s.find("#pagenation"+t)).length>0&&u.push(a[0]),u.special=1,u.animationCls="fadeIn",l.push(u),l}}(n):1==e&&(i=function(t){var e,n,i,o,r,a,s=Fai.top.$("#module"+t),l=[],u=[],c=0,f=s.find("#photoForms"+t);if(!(f.length<1)){for(a=f.find(".J_photoForm"),o=(i=(i=f.width()/a.outerWidth(!0))<1?1:parseInt(i))*(n=Math.ceil(f.parents(".formMiddleContent"+t).height()/a.outerHeight(!0)))<(e=a.length)?i*n:e,r=0;r<o;r++)u.push(a[r]),l[c++]=u,u=[];return(a=s.find("#pagenation"+t)).length>0&&u.push(a[0]),u.special=1,u.animationCls="fadeIn",l.push(u),l}}(n));break;case 2:0==e?i=function(t){var e,n,i,o,r,a=[],s=[],l=0,u=Fai.top.$("#module"+t).find("#photo-gallery-container"+t);if(!(u.length<1)){for(i=(e=(r=u.find(".J_photoForm")).length)<(n=Math.ceil(u.parent().width()/r.outerWidth(!0)))?e:n,o=0;o<i;o++)s.push(r[o]);return a[l++]=s,s=[],a}}(n):1==e&&(i=function(t){var e,n,i,o,r,a=[],s=[],l=0,u=Fai.top.$("#module"+t).find("#photo-gallery-container"+t);if(!(u.length<1)){for(i=(e=(r=u.find(".J_photoForm")).length)<(n=Math.ceil(u.parent().width()/r.outerWidth(!0)))?e:n,o=0;o<i;o++)s.push(r[o]),a[l++]=s,s=[];return a}}(n));break;case 3:0==e?i=function(t){var e,n,i,o,r,a,s,l,u,c=Fai.top.$("#module"+t),f=[],d=[],p=0,h=c.data("options"),m=h?h.phoMarqueeDirection:-1,v=c.find("#demo0"+t);if(!(v.length<1)){if(s=v.find(".J_photoForm"),l=(u=v.find('.J_photoForm[clonediv="true"]')).length,r=v.parent().width()/s.outerWidth(!0),o=Math.ceil(v.parent().height()/s.outerHeight(!0)),n=s.length,0==m){for(i=n-(i=n<(r=Math.ceil(r))?n:r),e=n-1;e>=i;e--)d.push(s[e]);f[p++]=d}else if(1==m){for(i=n<(r=Math.ceil(r))?n:r,e=0;e<i;e++)d.push(s[e]);f[p++]=d}else if(2==m)if(l>0){for(0==(a=l%(r=Math.floor(r)))&&(a=r),i=l-a,e=l-1;e>=i;e--)d.push(u[e]);for(f[p++]=d,d=[],i=l-a-(i=r*(o-1)<i?r*(o-1):i);e>=i;e--)d.push(u[e]),e%r==0&&0!=e&&(f[p++]=d,d=[]);d.length>0&&(f[p++]=d),f.reverse()}else{for(e=0;e<n;e++)d.push(s[e]);f[p++]=d}else if(3==m){for(i=o*(r=Math.floor(r))<n-l?o*r:n-l,e=0;e<i;e++)e%r==0&&0!=e&&(f[p++]=d,d=[]),d.push(s[e]);d.length>0&&(f[p++]=d)}else if(-1==m){for(e=0;e<n;e++)d.push(s[e]);f[p++]=d}return f}}(n):1==e&&(i=function(t){var e,n,i,o,r,a,s,l,u,c=Fai.top.$("#module"+t),f=[],d=[],p=0,h=c.find("#demo0"+t),m=c.data("options"),v=m?m.phoMarqueeDirection:-1;if(!(h.length<1)){if(s=h.find(".J_photoForm"),l=(u=h.find('.J_photoForm[clonediv="true"]')).length,r=h.parent().width()/s.outerWidth(!0),o=Math.ceil(h.parent().height()/s.outerHeight(!0)),n=s.length,0==v){for(i=n-(i=n<(r=Math.ceil(r))?n:r),e=n-1;e>=i;e--)d.push(s[e]),f[p++]=d,d=[];f.reverse()}else if(1==v)for(i=n<(r=Math.ceil(r))?n:r,e=0;e<i;e++)d.push(s[e]),f[p++]=d,d=[];else if(2==v)if(l>0){for(0==(a=l%(r=Math.floor(r)))&&(a=r),i=l-a,e=l-1;e>=i;e--)d.push(u[e]),f[p++]=d,d=[];for(i=l-a-(i=r*(o-1)<i?r*(o-1):i);e>=i;e--)d.push(u[e]),f[p++]=d,d=[];f.reverse()}else for(e=0;e<n;e++)d.push(s[e]),f[p++]=d,d=[];else if(3==v)for(i=n-l<o*(r=Math.floor(r))?n-l:o*r,e=0;e<i;e++)d.push(s[e]),f[p++]=d,d=[];else if(-1==v)for(e=0;e<n;e++)d.push(s[e]),f[p++]=d,d=[];return f}}(n));break;case 4:i=function(t){var e,n=[],i=[],o=0,r=Fai.top.$("#module"+t).find("#photoDotSwitch"+t);if(!(r.length<1))return e=r.find(".switchGroup a").eq(0),i.push(e[0]),i.length&&(n[o++]=i),i=[],(e=r.find(".imageSwitchBtnArea")).length>0&&i.push(e[0]),(e=r.find(".photoSwitchBg")).length>0&&i.push(e[0]),n[o++]=i,n}(n);break;case 5:i=function(t){var e,n=[],i=[],o=0,r=Fai.top.$("#module"+t).find("#photoSwitch"+t);if(!(r.length<1))return e=r.find(".switchGroup a").eq(0),i.push(e[0]),n[o++]=i,i=[],(e=r.find(".imageSwitchBtnArea")).length>0&&i.push(e[0]),(e=r.find(".photoSwitchBg")).length>0&&i.push(e[0]),n[o++]=i,n}(n);break;case 6:i=function(t){var e,n=[],i=[],o=0,r=Fai.top.$("#module"+t).find(".carouselPhotosSmallPic");if(!(r.length<1))return e=r.find(".photoContainerLeft"),i.push(e[0]),n[o++]=i,i=[],(e=r.find(".photoSmallPrePicContainer")).length>0&&i.push(e[0]),n[o++]=i,n}(n);break;case 7:i=g(n,o);break;case 10:case 13:i=y(n,o);break;case 8:case 9:case 11:case 12:0==e?i=g(n,o):1==e&&(i=y(n,o));break;case 14:0==e?i=function(t){var e,n,i,o,r,a,s,l,u,c=[],f=[],d=[],p=0,h=Fai.top.$("#module"+t).find("#productList"+t);if(!(h.length<1)){for(l=(u=Fai.top["productList"+t])&&u.data&&u.data.imgEffType?u.data.imgEffType:1,i=(a=h.find(".productTileForm")).length,o=(e=(e=h.width()/a.outerWidth(!0))<1?1:parseInt(e))*(n=Math.round(h.height()/a.outerHeight(!0)))<i?e*n:i,r=0;r<o;r++)r%e==0&&0!=r&&(c[p++]=f,f=[],d.length>0&&(c[p++]=d,d=[])),s=a.eq(r).find(".imgDiv"),f.push(s[0]),s=a.eq(r).find(".propList"),4!=l&&5!=l&&d.push(s[0]);return f.length>0&&(c[p++]=f,f=[]),d.length>0&&(c[p++]=d,d=[]),(s=h.find(".productListSytle")).length>0&&f.push(s[0]),(s=h.find(".separatorLine")).length>0&&f.push(s[0]),(s=h.find("#pagenation"+t)).length>0&&f.push(s[0]),f.special=1,f.animationCls="fadeIn",c[p++]=f,c}}(n):1==e&&(i=function(t){var e,n,i,o,r,a,s,l,u,c=Fai.top.$("#module"+t),f=[],d=[],p=[],h=0,m=c.find("#productList"+t);if(!(m.length<1)){for(l=(u=Fai.top["productList"+t])&&u.data&&u.data.imgEffType?u.data.imgEffType:1,i=(s=m.find(".productTileForm")).length,o=(e=(e=m.width()/s.outerWidth(!0))<1?1:parseInt(e))*(n=Math.round(m.height()/s.outerHeight(!0)))<i?e*n:i,r=0;r<o;r++)0!=d.length&&d.length%e==0&&($.each(d,(function(t,e){e&&(f[h++]=e)})),d=[],$.each(p,(function(t,e){e&&(f[h++]=e)})),p=[]),a=s.eq(r).find(".imgDiv"),d.push(a[0]),a=s.eq(r).find(".propList"),4!=l&&5!=l&&p.push(a[0]);return $.each(d,(function(t,e){e&&(f[h++]=e)})),$.each(p,(function(t,e){e&&(f[h++]=e)})),d=[],p=[],(a=m.find(".productListSytle")).length>0&&d.push(a[0]),(a=m.find(".separatorLine")).length>0&&d.push(a[0]),(a=m.find("#pagenation"+t)).length>0&&d.push(a[0]),d.special=1,d.animationCls="fadeIn",f.push(d),f}}(n));break;case 15:0==e?i=function(t){var e,n,i,o,r,a,s,l,u,c,f,d,p,h=Fai.top.$("#module"+t),m=[],v=[],g=[],y=0,b=h.data("options"),_=b?b.proMarqueeDirection:-1,w=h.find("#demo0"+t);if(!(w.length<1)){if(f=(d=Fai.top["Product"+t])&&d.ieOpt?d.ieOpt.effType:1,s=w.find(".productMarqueeForm"),u=(c=w.find('.productMarqueeForm[clonediv="true"]')).length,r=w.parent().width()/s.outerWidth(!0),o=Math.ceil(w.parent().height()/s.outerHeight(!0)),n=s.length,p=4!=f&&5!=f||s.find(".J_marqueePropListInfo .g_stress .fk-prop-price-other").length>0,0==_){for(i=n-(i=n<(r=Math.ceil(r))?n:r),e=n-1;e>=i;e--)l=s.eq(e).find(".imgDiv"),v.push(l[0]),l=s.eq(e).find(".J_marqueePropListInfo"),p&&g.push(l[0]);v.length>0&&(m[y++]=v),g.length>0&&(m[y++]=g)}else if(1==_){for(i=n<(r=Math.ceil(r))?n:r,e=0;e<i;e++)l=s.eq(e).find(".imgDiv"),v.push(l[0]),l=s.eq(e).find(".J_marqueePropListInfo"),p&&g.push(l[0]);v.length>0&&(m[y++]=v),g.length>0&&(m[y++]=g)}else if(2==_)if(u>0){for(0==(a=u%(r=Math.floor(r)))&&(a=r),i=u-a,e=u-1;e>=i;e--)l=c.eq(e).find(".imgDiv"),v.push(l[0]),l=c.eq(e).find(".J_marqueePropListInfo"),p&&g.push(l[0]);for(g.length>0&&(m[y++]=g,g=[]),m[y++]=v,v=[],i=u-a-(i=r*(o-1)<i?r*(o-1):i);e>=i;e--)l=c.eq(e).find(".imgDiv"),v.push(l[0]),l=c.eq(e).find(".J_marqueePropListInfo"),p&&g.push(l[0]),e%r==0&&0!=e&&(g.length>0&&(m[y++]=g,g=[]),m[y++]=v,v=[]);v.length>0&&(m[y++]=v),g.length>0&&(m[y++]=g),m.reverse()}else{for(r=Math.floor(r),e=0;e<n;e++)0!=v.length&&v.length%r==0&&(m[y++]=v,v=[],g.length>0&&(m[y++]=g,g=[])),l=s.eq(e).find(".imgDiv"),v.push(l[0]),l=s.eq(e).find(".J_marqueePropListInfo"),p&&g.push(l[0]);v.length>0&&(m[y++]=v),g.length>0&&(m[y++]=g)}else if(3==_){for(i=o*(r=Math.floor(r))<n-u?o*r:n-u,e=0;e<i;e++)e%r==0&&0!=e&&(m[y++]=v,v=[],g.length>0&&(m[y++]=g,g=[])),l=s.eq(e).find(".imgDiv"),v.push(l[0]),l=s.eq(e).find(".J_marqueePropListInfo"),p&&g.push(l[0]);v.length>0&&(m[y++]=v),g.length>0&&(m[y++]=g)}else if(-1==_){for(r=Math.floor(r),e=0;e<n;e++)0!=v.length&&v.length%r==0&&(m[y++]=v,v=[],g.length>0&&(m[y++]=g,g=[])),l=s.eq(e).find(".imgDiv"),v.push(l[0]),l=s.eq(e).find(".J_marqueePropListInfo"),p&&g.push(l[0]);v.length>0&&(m[y++]=v),g.length>0&&(m[y++]=g)}return m}}(n):1==e&&(i=function(t){var e,n,i,o,r,a,s,l,u,c,f,d,p,h=Fai.top.$("#module"+t),m=[],v=[],g=[],y=0,b=h.find("#demo0"+t),_=h.data("options"),w=_?_.proMarqueeDirection:-1;if(!(b.length<1)){if(f=(d=Fai.top["Product"+t])&&d.ieOpt?d.ieOpt.effType:1,s=b.find(".productMarqueeForm"),u=(c=b.find('.productMarqueeForm[clonediv="true"]')).length,r=b.parent().width()/s.outerWidth(!0),o=Math.ceil(b.parent().height()/s.outerHeight(!0)),n=s.length,p=4!=f&&5!=f||s.find(".J_marqueePropListInfo .g_stress .fk-prop-price-other").length>0,0==w){for(i=n-(i=n<(r=Math.ceil(r))?n:r),e=n-1;e>=i;e--)l=s.eq(e).find(".imgDiv"),v.push(l[0]),l=s.eq(e).find(".J_marqueePropListInfo"),p&&g.push(l[0]);v.reverse(),g.reverse(),$.each(v,(function(t,e){e&&(m[y++]=e)})),$.each(g,(function(t,e){e&&(m[y++]=e)}))}else if(1==w){for(i=n<(r=Math.ceil(r))?n:r,e=0;e<i;e++)l=s.eq(e).find(".imgDiv"),v.push(l[0]),l=s.eq(e).find(".J_marqueePropListInfo"),p&&g.push(l[0]);$.each(v,(function(t,e){e&&(m[y++]=e)})),$.each(g,(function(t,e){e&&(m[y++]=e)}))}else if(2==w)if(r=Math.floor(r),u>0){for(0==(a=u%r)&&(a=r),i=u-a,e=u-1;e>=i;e--)l=c.eq(e).find(".imgDiv"),v.push(l[0]),l=c.eq(e).find(".J_marqueePropListInfo"),p&&g.push(l[0]);for($.each(g,(function(t,e){e&&(m[y++]=e)})),$.each(v,(function(t,e){e&&(m[y++]=e)})),v=[],g=[],i=u-a-(i=r*(o-1)<i?r*(o-1):i);e>=i;e--)0!=v.length&&v.length%r==0&&($.each(g,(function(t,e){e&&(m[y++]=e)})),g=[],$.each(v,(function(t,e){e&&(m[y++]=e)})),v=[]),l=c.eq(e).find(".imgDiv"),v.push(l[0]),l=c.eq(e).find(".J_marqueePropListInfo"),p&&g.push(l[0]);$.each(g,(function(t,e){e&&(m[y++]=e)})),$.each(v,(function(t,e){e&&(m[y++]=e)})),m.reverse()}else{for(e=0;e<n;e++)0!=v.length&&v.length%r==0&&($.each(v,(function(t,e){e&&(m[y++]=e)})),v=[],$.each(g,(function(t,e){e&&(m[y++]=e)})),g=[]),l=s.eq(e).find(".imgDiv"),v.push(l[0]),l=s.eq(e).find(".J_marqueePropListInfo"),p&&g.push(l[0]);v.length>0&&($.each(v,(function(t,e){e&&(m[y++]=e)})),$.each(g,(function(t,e){e&&(m[y++]=e)})))}else if(3==w){for(i=n-u<o*(r=Math.floor(r))?n-u:o*r,e=0;e<i;e++)0!=v.length&&v.length%r==0&&($.each(v,(function(t,e){e&&(m[y++]=e)})),v=[],$.each(g,(function(t,e){e&&(m[y++]=e)})),g=[]),l=s.eq(e).find(".imgDiv"),v.push(l[0]),l=s.eq(e).find(".J_marqueePropListInfo"),p&&g.push(l[0]);$.each(v,(function(t,e){e&&(m[y++]=e)})),$.each(g,(function(t,e){e&&(m[y++]=e)}))}else if(-1==w){for(r=Math.floor(r),e=0;e<n;e++)0!=v.length&&v.length%r==0&&($.each(v,(function(t,e){e&&(m[y++]=e)})),v=[],$.each(g,(function(t,e){e&&(m[y++]=e)})),g=[]),l=s.eq(e).find(".imgDiv"),v.push(l[0]),l=s.eq(e).find(".J_marqueePropListInfo"),p&&g.push(l[0]);v.length>0&&($.each(v,(function(t,e){e&&(m[y++]=e)})),$.each(g,(function(t,e){e&&(m[y++]=e)})))}return m}}(n));break;case 16:i=function(t){var e,n=Fai.top.$("#module"+t),i=[],o=[],r=n.find("#productList"+t);if(!(r.length<1))return(e=r.find(".productPicListForm")).each((function(){i.push($(this)[0])})),(e=r.find(".productListSytle")).length>0&&o.push(e[0]),(e=r.find(".separatorLine")).length>0&&o.push(e[0]),(e=r.find("#pagenation"+t)).length>0&&o.push(e[0]),o.special=1,o.animationCls="fadeIn",i.push(o),i}(n);break;case 17:0==e?i=function(t){var e,n,i,o,r,a,s,l,u=Fai.top.$("#module"+t),c=[],f=[],d=u.find("#product-gallery-container"+t);if(!(d.length<1)){for(s=(l=Fai.top["productList"+t])&&l.data&&l.data.imgEffType?l.data.imgEffType:1,i=(e=(a=d.find(".product-container")).length)<(n=Math.round(d.parent().width()/a.outerWidth(!0)))?e:n,r=a.find(".img-container"),o=0;o<i;o++)f.push(r[o]);if(c.push(f),f=[],(r=a.find(".J_containerPropListInfo")).length>0&&r.find(".sixth_ProductPanel").length>0&&(r=r.find(".sixth_ProductPanel")),4!=s&&5!=s||r.find(".g_stress .fk-prop-price-other").length>0){for(o=0;o<i;o++)f.push(r[o]);c.push(f),f=[]}return(r=u.find(".product-gallery-inner .gallery-control")).length>0&&f.push(r[0]),f.special=1,f.animationCls="fadeIn",c.push(f),c}}(n):1==e&&(i=function(t){var e,n,i,o,r,a,s,l,u=Fai.top.$("#module"+t),c=[],f=[],d=0,p=u.find("#product-gallery-container"+t);if(!(p.length<1)){for(s=(l=Fai.top["productList"+t])&&l.data&&l.data.imgEffType?l.data.imgEffType:1,i=(e=(a=p.find(".product-container")).length)<(n=Math.round(p.parent().width()/a.outerWidth(!0)))?e:n,r=a.find(".img-container"),o=0;o<i;o++)f.push(r[o]),c[d++]=f,f=[];if((r=a.find(".J_containerPropListInfo")).length>0&&r.find(".sixth_ProductPanel").length>0&&(r=r.find(".sixth_ProductPanel")),4!=s&&5!=s||r.find(".g_stress .fk-prop-price-other").length>0)for(o=0;o<i;o++)f.push(r[o]),c[d++]=f,f=[];return(r=u.find(".product-gallery-inner .gallery-control")).length>0&&f.push(r[0]),f.special=1,f.animationCls="fadeIn",c[d++]=f,c}}(n));break;case 18:0==e?i=function(t){var e,n,i,o=[],r=Fai.top.$("#module"+t).find(".productSmallPicForms");if(!(r.length<1))return n=r.find(".smallPicUpForms"),o.push(n[0]),n=(i=r.find(".smallPicDownForms")).find(".smallPicDownFormsMid"),o.push(n[0]),n=i.find(".smallPrePic_control"),o.push(n[0]),o[e=o.length-1].special=1,o[e].animationCls="fadeIn",o}(n):1==e&&(i=function(t){var e,n,i,o=Fai.top.$("#module"+t),r=[],a=o.find(".productSmallPicForms");if(!(a.length<1))return n=(i=a.find(".smallPicUpForms")).find(".containerLeft"),r.push(n[0]),n=i.find(".containerRight"),r.push(n[0]),(n=(i=a.find(".smallPicDownForms")).find(".smallPicDownFormsMid .smallPrePicOuter")).each((function(){r.push($(this)[0])})),n=i.find(".smallPrePic_control"),r.push(n[0]),e=r.length-1,r[e].special=1,r[e].animationCls="fadeIn",r}(n));break;case 19:0==e?i=function(t){var e,n=Fai.top.$("#module"+t),i=[],o=[],r=n.find("#productList"+t);if(!(r.length<1))return(e=r.find(".doubleProduct")).each((function(){i.push($(this)[0])})),(e=r.find(".productListSytle")).length>0&&o.push(e[0]),(e=r.find(".separatorLine")).length>0&&o.push(e[0]),(e=r.find("#pagenation"+t)).length>0&&o.push(e[0]),o.special=1,o.animationCls="fadeIn",i.push(o),i}(n):1==e&&(i=function(t){var e,n=Fai.top.$("#module"+t),i=[],o=[],r=n.find("#productList"+t);if(!(r.length<1))return(e=r.find(".doubleProduct")).each((function(){$(this).find(".productDoublePicListForm").each((function(){i.push($(this).find(".imgDiv")[0]),i.push($(this).find(".propList")[0])}))})),(e=r.find(".productListSytle")).length>0&&o.push(e[0]),(e=r.find(".separatorLine")).length>0&&o.push(e[0]),(e=r.find("#pagenation"+t)).length>0&&o.push(e[0]),o.special=1,o.animationCls="fadeIn",i.push(o),i}(n));break;case 20:case 22:case 23:case 25:case 26:case 27:case 28:i=function(t,e){var n,i,o=Fai.top.$("#module"+t),r=[],a=[],s=0;if(!((n=o.find("#newsList"+t)).length<0))return(20==e||22==e||23==e||25==e||26==e?n.find(".J_newsListLine"):n.find(".J_newsResultLine")).each((function(){r[s++]=$(this)[0]})),(i=n.find(".separatorLine")).length>0&&a.push(i[0]),(i=o.find("#pagenation"+t)).length>0&&a.push(i[0]),a.special=1,a.animationCls="fadeIn",r[s++]=a,r}(n,o);break;case 21:0==e?i=function(t){var e,n,i,o,r,a,s,l,u=Fai.top.$("#module"+t),c=[],f=[],d=[],p=0;if(!((a=u.find("#newsList"+t)).length<0)){for(n=(s=a.find(".J_newsListLine")).length,r=(i=(i=a.width()/s.outerWidth(!0))<1?1:parseInt(i))*(o=Math.ceil(a.height()/s.outerHeight(!0)))<n?i*o:n,e=0;e<r;e++)e%i==0&&0!=e&&(c[p++]=f,c[p++]=d,f=[],d=[]),l=s.eq(e).find(".J_articlePhotoBox"),f.push(l[0]),l=s.eq(e).find(".J_articleDesc"),d.push(l[0]);return f.length>0&&(c[p++]=f,c[p++]=d,f=[],d=[]),(l=u.find("#pagenation"+t)).length>0&&f.push(l[0]),f.special=1,f.animationCls="fadeIn",c[p++]=f,c}}(n):1==e&&(i=function(t){var e,n,i,o,r,a,s,l,u=Fai.top.$("#module"+t),c=[],f=[],d=[],p=0;if(!((a=u.find("#newsList"+t)).length<0)){for(n=(s=a.find(".J_newsListLine")).length,r=(i=(i=a.width()/s.outerWidth(!0))<1?1:parseInt(i))*(o=Math.ceil(a.height()/s.outerHeight(!0)))<n?i*o:n,e=0;e<r;e++)0!=f.length&&f.length%i==0&&($.each(f,(function(t,e){c[p++]=e})),f=[],$.each(d,(function(t,e){c[p++]=e})),d=[]),l=s.eq(e).find(".J_articlePhotoBox"),f.push(l[0]),l=s.eq(e).find(".J_articleDesc"),d.push(l[0]);return $.each(f,(function(t,e){c[p++]=e})),$.each(d,(function(t,e){c[p++]=e})),f=[],d=[],(l=u.find("#pagenation"+t)).length>0&&f.push(l[0]),f.special=1,f.animationCls="fadeIn",c[p++]=f,c}}(n));break;case 24:i=function(t){var e,n,i,o,r=Fai.top.$("#module"+t),a=[],s=[],l=0;if(!((e=r.find("#newsList"+t)).length<0))return n=e.find(".J_newsListLine"),o=e.find(".J_timeLine"),s.push(o[0]),o=n.find(".newsCircleOuter"),s.push(o[0]),a[l++]=s,s.special=1,s.animationCls="fadeIn",(s=[]).special=0,n.each((function(){s.push($(this).find(".J_newsCalendar")[0]),s.push($(this).find(".J_newsTitle")[0]),a[l++]=s,(s=[]).push($(this).find(".pic-mixNewsStyleSummary")[0]),a[l++]=s,s=[]})),(i=r.find("#pagenation"+t)).length>0&&s.push(i[0]),s.special=1,s.animationCls="fadeIn",a[l++]=s,a}(n);break;case 100:case 111:0==e?i=s(n):1==e?i=l(n):2==e?i=u(n):3==e&&(i=u(n,!0));break;case 101:0==e?i=s(n):1==e?i=l(n):2==e?i=c(n):3==e&&(i=c(n,!0));break;case 102:case 105:case 107:0==e?i=s(n):1==e?i=l(n):2==e?i=f(n):3==e&&(i=f(n,!0));break;case 103:case 104:case 108:0==e?i=s(n):1==e?i=l(n):2==e?i=d(n):3==e&&(i=d(n,!0));break;case 106:0==e?i=s(n):1==e?i=l(n):2==e?i=p(n):3==e&&(i=p(n,!0));break;case 109:0==e?i=s(n):1==e?i=l(n):2==e?i=h(n):3==e&&(i=h(n,!0));break;case 110:0==e?i=s(n):1==e?i=l(n):2==e?i=m(n):3==e&&(i=m(n,!0));break;case 112:0==e?i=s(n):1==e?i=l(n):2==e?i=v(n):3==e&&(i=v(n,!0));break;case 116:0==e&&(i=function(t){var e=jzModule.SiteModule.find(t).$el.find(".m_news_content"),n=[];return e.each((function(t,e){n.push(Array.from($(e)))})),n}(n))}return i||[]},C=function(t,e){switch(w(e,t)){case 3:case 15:!function(t,e){var n,i,o,r=Fai.top.$("#module"+t),a=r.data("options"),s=r.find("#demo0"+t);switch(n=1==e?a?a.phoMarqueeDirection:-1:a?a.proMarqueeDirection:-1,n=parseInt(n)){case 0:o=s.outerWidth(),s.parent().scrollLeft(o),Fai.stopInterval("marquee"+t);break;case 1:s.parent().scrollLeft(0),Fai.stopInterval("marquee"+t);break;case 2:i=s.outerHeight(),s.parent().scrollTop(i),Fai.stopInterval("marquee"+t);break;case 3:s.parent().scrollTop(0),Fai.stopInterval("marquee"+t)}}(t,e);break;case 4:r(t,2);break;case 5:r(t,1);break;case 6:r(t,3)}if(6===e)a(t,!1)},M=function(t,e){var n,i,o=w(e,t),r=Fai.top.$("#module"+t);switch(o){case 3:case 15:setTimeout((function(){Fai.startInterval("marquee"+t)}),0);break;case 4:(n=r.find("#photoDotSwitch"+t)).data("intervalId")&&(i=n.data("intervalId"),Fai.startInterval(i));break;case 5:(n=r.find("#photoSwitch"+t)).data("intervalId")&&(i=n.data("intervalId"),Fai.startInterval(i))}if(6===e)a(t,!0)},F=function(t,e,n){switch(e){case 1:case 2:case 5:case 7:Fai.top.Fai.setCtrlStyleCss("contentAnimationStyle","module"+t,".formMiddleContent"+t,"overflow","hidden !important");break;case 6:Fai.top.Fai.setCtrlStyleCss("contentAnimationStyle","module"+t,".formMiddleContent"+t,"overflow","hidden !important"),Fai.top.Fai.setCtrlStyleCss("contentAnimationStyle","module"+t,".formMiddleContent"+t+" .newsList","overflow","hidden");break;case 8:Fai.top.jzModule.NewsListModule.find(t).lock=!0}if(1===n)Fai.top.Fai.setCtrlStyleCss("contentAnimationStyle","module"+t,".formMiddleContent"+t+" .listPhotosList","overflow","hidden !important");C(t,e)},T=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,n=$("#module"+e).find(".formMiddle"+e);t.el.length?t.el.forEach((function(t){Object(o.isArray)(t)?t.length&&t.forEach((function(t){$(t).addClass("animateModule")})):$(t).addClass("animateModule")})):n&&n.removeClass("fk-formMiddle-hidden")},P=function(t,e){var n,i,o;if(i=S(t),o=w(i,t),0!==(n=e).t&&"undefined"!=typeof n.t){if("undefined"==typeof n.r){var r=_(undefined);n.r=r.length<1?0:r[0]}"undefined"==typeof n.o&&(n.o=0),10!=o&&13!=o||(n.o=1),n.el=k(i,n.o,t),T(n,t),n.mt=i<0?1:i,n.st=o}},x=function(t,e){var n=t.idSelector,o=$("#".concat(n)),r=e.style;i.ANIMATION_TYPE_LIST.forEach((function(e){var n=t[e]||{};switch(e){case i.ANIMATION_TYPE.CONTENT:n.beforeAnimationStart=function(e){return new Promise((function(i,o){var r=t.id,a=t.idSelector,s=$("#".concat(a)),l=Site.checkNestModule(s),u=s.find(".formMiddle".concat(r)),c=Site.getModuleStatus(r),f=n.mt,d=w(f,r);if(l.inPack);else if(l.nest||1!=c){if(l.nest||2!=c)return u.removeClass("fk-formMiddle-hidden"),void o(e)}else;u.length&&u.removeClass("fk-formMiddle-hidden"),F(r,f,d),i(e)}))},n.afterAnimationEnd=function(e){return new Promise((function(i){var o=t.id,r=n.mt;!function(t,e,n){switch(e){case 1:case 2:case 5:case 7:Fai.top.Fai.removeCtrlStyleCss("contentAnimationStyle","module"+t,".formMiddleContent"+t,"overflow");break;case 6:Fai.top.Fai.removeCtrlStyleCss("contentAnimationStyle","module"+t,".formMiddleContent"+t,"overflow"),Fai.top.Fai.removeCtrlStyleCss("contentAnimationStyle","module"+t,".formMiddleContent"+t+" .newsList","overflow");break;case 8:Fai.top.jzModule.NewsListModule.find(t).contentAnimationCount||setTimeout((function(){Fai.top.jzModule.NewsListModule.find(t).lock=!0,Fai.top.jzModule.NewsListModule.find(t).contentAnimationCount=1,Fai.top.jzModule.NewsListModule.find(t).haveAnimation=!1,Fai.top.jzModule.NewsListModule.find(t).start()()}),1e3)}1===n&&Fai.top.Fai.removeCtrlStyleCss("contentAnimationStyle","module"+t,".formMiddleContent"+t+" .listPhotosList","overflow");M(t,e)}(o,r,w(r,o)),i(e)}))},P(t.id,n);break;case i.ANIMATION_TYPE.ADMISSION:case i.ANIMATION_TYPE.EMPHASIS:default:if(29==r||110==r){var a=o.find(".tab_anim"),s=Array.from(a);n.el=s}n.beforeAnimationStart=function(e){return new Promise((function(n,i){var o=t.id,a=t.idSelector,s=$("#".concat(a)),l=Site.checkNestModule(s),u=Site.getModuleStatus(o);if(l.inPack);else if(l.nest||1!=u&&3!=u){if(l.nest||2!=u){if(29==r||110==r);else if(117!=r)return s.removeClass("animateModule"),void i(e)}else if(79!=r&&81!=r&&86!=r&&115!=r)return s.removeClass("animateModule"),void i(e)}else;n(e)}))},n.afterAnimationEnd=function(t){return new Promise((function(e){115==r&&Site.triggerScroll(o),e(t)}))}}}))},I=function(t){var e=b(t);x(e,t),i.AnimationApis.initAnimationManage(e)},O=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=t.id,n=t.commProp,r=Object(o.deepExtendClone)(n.al[1]||{}),a=Object(o.deepExtendClone)(n.al[0]||{}),s=Object(o.deepExtendClone)(n.cal[0]||{}),l={emphasis:r,admission:a,content:s},u=i.AnimationApis.getAnimationManage(e);u?(s.t>0&&P(e,l[i.ANIMATION_TYPE.CONTENT]),u.updateAnimation(l)):u=I(t)},L=function(t){var e=i.AnimationApis.getAnimationManage(t),n=S(t);if(e){var o=$("#module".concat(t)),r=parseInt(jzModule.Module.getPerformAttr(t,"_modulestyle"));i.ANIMATION_TYPE_LIST.forEach((function(a){var s=e.animation[a]||{};if(s&&s.type>0)if(a===i.ANIMATION_TYPE.CONTENT)s.el=k(n,s.order,t),e.setAnimation(),e.setAnimationElId(),T(s,t);else{if(29==r||110==r){var l=o.find(".tab_anim"),u=Array.from(l);s.el=u}else s.el=o[0];e.setAnimation(),e.setAnimationElId()}}))}}},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__2__},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__3__},function(t,e){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}t.exports={supportsIntersectionObserver:function i(){if("undefined"!=typeof i._value)return i._value;var t=Fai.isIE7()||Fai.isIE8(),e=Fai.top.window.navigator.userAgent.toLowerCase(),n=(e.includes("android")||e.includes("adr"))&&e.includes("micromessenger");return i._value="IntersectionObserver"in window&&!t&&!n},isIntersecting:function(t){return t.isIntersecting||t.intersectionRatio>0},isFunction:function(t){return"function"==typeof t},isUndefined:function(t){return void 0===t},debounce:function(t,e){var n=t,i=null;return function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];var a=this;clearTimeout(i),i=setTimeout((function(){n.apply(a,o)}),e)}},throttle:function(t,e){var n=null;return function(){var i=this,o=arguments;n||(n=setTimeout((function(){t.apply(i,o),n=null}),e))}},_typeof:function(t){var e=n(t);return"object"===e&&null!==t&&Array.isArray(t)?"array":"function"===e?"function":"symbol"===e?"symbol":null===t?"null":"object"!==e?e:"object"},tick:function(t){var e=setInterval((function(){t()}),1e3/60);return{clearTick:function(){return clearInterval(e)},times:0}}}},function(t,e,n){function i(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=n(1).initSiteAnimation,l=n(4).tick,u=[44];function c(t){return(Fai&&Fai.top._manageMode?jzModule.ManageModule.find(t):jzModule.SiteModule.find(t))||{}}function f(t,e,n,i){$("#module".concat(t," ").concat(e)).off("click.historyPagination").on("click.historyPagination",(function(){!function(t,e){var n=new Date;n.setTime(n.getTime()+432e5),$.cookie(t,e,{expires:n,path:"/",domain:location.host})}(n,i)}))}var d=[116,2,74,12,8,13,27],p=[];function h(t){return v.includes(t)}var m={"data-scrollbar":0,title:"",ssr:!1,_banId:"",_global:!1,_inFullmeasure:0,_inMulMCol:0,_inTab:0,_inaccordionpack:0,_independent:!1,_infullmeasurepack:0,_inpopupzone:0,_intabpack:0,_moduleType:1,_sys:0,bannerTitle:"",_inpack:0,_autoHeight:1},v=["data-scrollbar","title","ssr","_banId","_global","_inFullmeasure","_inMulMCol","_inTab","_inaccordionpack","_independent","_infullmeasurepack","_inpopupzone","_intabpack","_moduleType","_sys","bannerTitle"];Fai.top._manageMode||(v.push("_inpack"),v.push("_autoHeight")),t.exports=function(){function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};r(this,t),this.options=n,this.moduleId=e,this.$module=$("#module".concat(e)),this.$el=this.$module,this.module=this.options.module||{},this.pattern=this.module.pattern||{},this.perform=this.options.perform||{},this.initAnimation(),!p.includes(this.moduleId)&&this.checkHistoryPagination(),this.initPhotoSlideData()}var e,n,o;return e=t,n=[{key:"checkHistoryPagination",value:function(){var t=this;setTimeout((function(){var e=t.getStyle(),n=t.getModule(),i=n.openPagenation,o=n.blob0,r=n.prop0,a=t.$el.find(".pagenation .pageNo a").length?t.$el.find(".pagenation .pageNo a"):t.$el.find(".jz_pagenation_wrap .js_pagination");if(d.includes(e)&&a.length){var s=116==e?null==o?void 0:o.selectStyle:27==e?r:e,l="m".concat(t.moduleId,"_").concat(s,"pageno"),u=$.cookie(l);if(!u)return;116==e&&i&&4!=(null==o?void 0:o.selectStyle)&&t.getFlag(256)&&(Site.ajaxClick(a,t.moduleId,u),p.push(t.moduleId)),27==e&&t.getFlag(512)&&4!=r&&5!=r&&(Site.ajaxClick(a,t.moduleId,u),p.push(t.moduleId)),[2,74,12,8,13].includes(e)&&!t.getFlag(8)&&!t.getFlag(1)&&t.getFlag(1024)&&(Site.ajaxClick(a,t.moduleId,u),p.push(t.moduleId))}}),800)}},{key:"initPhotoSlideData",value:function(){var t=this;setTimeout((function(){!Site.photoSlide&&(Site.photoSlide={Func:{},Options:{},Plugins:{},Tool:{},PhotoSlide:{}});var e=l((function(){var n,o,r;e.times++;var a,s=null===(n=Site)||void 0===n||null===(o=n.photoSlide)||void 0===o||null===(r=o.Options)||void 0===r?void 0:r["module".concat(t.moduleId)];if((e.times>=10||!Fai.top["photoSlideTmp"+t.moduleId])&&(e.clearTick(),e=null),!s&&Fai.top["photoSlideTmp"+t.moduleId]&&(Site.photoSlide.Options["module".concat(t.moduleId)]={photoDataList:null===(a=Fai.top["photoSlideTmp"+t.moduleId])||void 0===a?void 0:a.photoDataList}),s&&Fai.top["photoSlideTmp"+t.moduleId]){var l,u,c,f,d,p,h,m,v,g,y,b,_=[];null!==(l=Site)&&void 0!==l&&null!==(u=l.photoSlide)&&void 0!==u&&null!==(c=u.Options)&&void 0!==c&&null!==(f=c["module".concat(t.moduleId)])&&void 0!==f&&f.photoDataList&&(_=null===(d=Site)||void 0===d||null===(p=d.photoSlide)||void 0===p||null===(h=p.Options)||void 0===h||null===(m=h["module".concat(t.moduleId)])||void 0===m?void 0:m.photoDataList,null===(v=Fai.top["photoSlideTmp"+t.moduleId])||void 0===v||null===(g=v.photoDataList)||void 0===g||g.forEach((function(t){var e;_=null===(e=_)||void 0===e?void 0:e.filter((function(e){return(null==t?void 0:t.id)!==(null==e?void 0:e.id)}))})),_=[].concat(i(_),i(null!==(y=null===(b=Fai.top["photoSlideTmp"+t.moduleId])||void 0===b?void 0:b.photoDataList)&&void 0!==y?y:[])),Site.photoSlide.Options["module".concat(t.moduleId)].photoDataList=_)}}))}),200)}},{key:"initAnimation",value:function(){var e=this,n=this.module.id;bizShared.AnimationApis.hasAnimationManageMap(n)?t.refreshOneSiteAnimationElPlay(n):setTimeout((function(){if(jzUtils.digGet(e.module,"commProp.cal[0].t")){var t=jzSite.getModuleTypeForAnimation(n),i=t<0?1:t,o=jzSite.getModuleStructureTypeForAnimation(i,n);jzSite.readyForContentAnimation(n,i,o)}s(e.module),e.observeAnimation()}),50)}},{key:"isAutoHeight",value:function(){return 1==parseInt(this.getPerformAttr("_autoHeight"))}},{key:"observeAnimation",value:function(){bizShared.InterSectionObserApi.initAnimationObserver(this.$el[0])}},{key:"isVueModule",value:function(){return"true"===this.getPerformAttr("ssr")}},{key:"checkNestModule",value:function(){return Site.checkNestModule(this.$module)}},{key:"resetXPackModuleAutoHeight",value:function(t){Site.resetXPackModuleAutoHeight(this.$module,undefined,t)}},{key:"getModule",value:function(){var t=this.options.module;return t||this.throwError("未在访客态输出模块数据，请在inc文件中过滤并输出"),t}},{key:"getPattern",value:function(){var t=this.getModule().pattern;return t||this.throwError("未在访客态输出 pattern 字段，请在inc文件中过滤并输出"),t}},{key:"throwError",value:function(t){var e=Object.getPrototypeOf(this).constructor.name;throw new Error("".concat(t," [").concat(e,"]"))}},{key:"getAttr",value:function(t){return this.$module.attr(t)}},{key:"setAttr",value:function(t,e){return this.$module.attr(t,e)}},{key:"getStyle",value:function(){return this.options.style}},{key:"getType",value:function(){return this.options.type}},{key:"addClass",value:function(t){return this.$module.addClass(t),this}},{key:"removeClass",value:function(t){return this.$module.removeClass(t),this}},{key:"getModuleFlag",value:function(){var t=this.getModule().flag;return isNaN(t)&&this.throwError("未在访客态输出 flag 字段，请挂载 flag 字段到模块数据中"),t}},{key:"setModuleFlag",value:function(t){this.getModule().flag=t}},{key:"getFlag",value:function(t){var e=this.getModuleFlag();return this.getBitMemory(e,t)}},{key:"setFlag",value:function(t,e){var n=this.getModuleFlag();n=this.setBitMemory(n,t,e),this.setModuleFlag(n)}},{key:"checkBit",value:function(t,e){return this.getBitMemory(t,e)}},{key:"getBitMemory",value:function(e,n){return t.getBitMemory(e,n)}},{key:"setBitMemory",value:function(t,e,n){return n?t|=e:t&=~e,t}},{key:"getPerformAttr",value:function(t){if(Fai.top._manageMode){var e=this.perform.moduleAttr[t];return void 0===e?e:String(e)}if(h(t)){var n=this.perform.moduleAttr[t];return void 0===n?(n=function(t){return m[t]}(t),void 0===n?n:String(n)):String(n)}return this.getAttr(t)}},{key:"setPerformAttr",value:function(t,e){return Fai.top._manageMode||h(t)?this.perform.moduleAttr[t]=e:this.setAttr(t,e)}}],o=[{key:"setHistoryPaginationClick",value:function(e,n){setTimeout((function(){var i=n.style,o=n.popupWay,r=n.openPagenation,a=n.blob0,s=n.flag,l=n.prop0,u=n.id;if(d.includes(i)){var c=116==i?null==a?void 0:a.selectStyle:27==i?l:i,p="m".concat(u,"_").concat(c,"pageno");(function(t){$.cookie(t,null,{expires:-2,path:"/",domain:location.host})})(p),116==i&&r&&4!=(null==a?void 0:a.selectStyle)&&null!=o&&o.includes("_self")&&f(u,".m_news_content a",p,e),27==i&&t.getBitMemory(s,512)&&4!=l&&5!=l&&f(u,2==l?".photoGroupALink":".J_photoForms a",p,e),[2,74,12,8,13].includes(i)&&!t.getBitMemory(s,8)&&!t.getBitMemory(s,1)&&t.getBitMemory(s,1024)&&f(u,"table a",p,e)}}),500)}},{key:"getBitMemory",value:function(t,e){return(t&e)==e}},{key:"getPerformAttr",value:function(t,e){if(c(t).getPerformAttr)return c(t).getPerformAttr(e)}},{key:"setPerformAttr",value:function(t,e,n){c(t).setPerformAttr&&c(t).setPerformAttr(e,n)}},{key:"install",value:function(t){jzModule.SiteModule.install(t),jzModule.ManageModule&&jzModule.ManageModule.install(t),jzModule._executeModuleLoadedCallback(t.id)}},{key:"activeModule",value:function(t){u.includes(t.module.style)&&t.module.isSSR&&new Vue({el:"#module"+t.module.id,data:function(){return{moduleInfo:t.module}},provide:{module:t.module,perform:t.perform,options:t.options,moduleOptions:t.moduleOptions},render:function(t){return t(jzModule.ModuleComponent)}}),jzModule.Module.install(t.moduleOptions)}},{key:"refreshOneSiteAnimationElPlay",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Fai.top._manageMode,n=bizShared.AnimationApis.getAnimationManage(t);bizShared.AnimationApis.hasAnimationManageMap(t)&&bizShared.ANIMATION_TYPE_LIST.forEach((function(i){var o=n.animation[i]||{};if(o.type||o.type&&(!e||Site.getModuleAttrAnimation(t).contentAnimationList[0].t))switch(i){case bizShared.ANIMATION_TYPE.CONTENT:jzSite.refreshOneSiteAnimationEl(t),n.contentPlay();break;case bizShared.ANIMATION_TYPE.ADMISSION:case bizShared.ANIMATION_TYPE.EMPHASIS:jzSite.refreshOneSiteAnimationEl(t),$("#module"+t).removeClass("animateModule").find(".animateModule").removeClass("animateModule");break;default:return}}))}}],n&&a(e.prototype,n),o&&a(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){function i(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||o(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=n(4),l=s.throttle,u=s.debounce,c=function h(){if("undefined"!=typeof h._value)return h._value;var t=Fai.isIE7()||Fai.isIE8();return h._value="undefined"!=typeof MutationObserver&&!t},f={node:null,callback:function(){},filterClassList:[],config:{childList:!0,attributes:!0,subtree:!0,attributeOldValue:!0,attributeFilter:["style","_autoheight","class"]},throttleTime:250,dragingCall:!1},d=["ui-resizable-handle","J_oper_btn_wrap","J_dragHandle","J_setting_btn_box","J_packCloseIcon","tools","left-area","right-area","top-area","bottom-area","imgResizeLine","fk-setting-btn","fk-module-height-btn","fk-editor","fkEditor-wrap","siteEditor","photoSmallPic_control","carousel-img","g_borderSelected","J_carouselPhotos","carousel-img-pot","J_bigImgDetailWrap","m_cp_3D_list","m_cp_3D_item","J_imgDiv","floatBtn","J_editLayer","J_photoForm","J_listPhotoImg","gallery-control","J_photoForms","m_list_photos_accordion_content","m_news_list","m_news_content","productFilterValueCenter","paramResize","textareaResize","cardDiv","photoMoreCardEdit","moreCardTd","scrollbarLi","jz_dynamicNum_list","jz_dynamicNum_visit","J_parallax_dom"],p=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=Object.assign({},f,e),this.isSupport=c(),!this.isSupport)return this.intervalTimer=null,void this._handleNotSupport();this.filterClassSet=this._handleFilterClasses(),this.cb=this._handleCallback(this.options.callback),this.fnCalling=!1,this._observer=null,this._moduleHeightMap={},this._collectModuleHeight(),this.containerId=this._getContainerId(),this._init()}var e,n,r;return e=t,n=[{key:"_init",value:function(){null===this._observer&&(this._observer=new MutationObserver(this._mutationObserverCb.bind(this)),this.observe())}},{key:"_mutationObserverCb",value:function(t){var e=this;if(!this.isFilterDrag())if(t.length>200)this.cb(t);else if(!this.fnCalling){var n,i,r,a,s=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=o(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(l)throw a}}}}(t);try{for(s.s();!(n=s.n()).done;){var l=n.value;if(!("undefined"!=typeof(a=l.target).classList?Array.from(a.classList):($(a).attr("class")||"").trim().split(/\s+/)).some((function(t){return e.filterClassSet.has(t)}))){if(this._isAnimation(l.target))break;if(!this._isManageTools(l)){if(this._isAutoHeightChange(l)){this.cb(t);break}var u=(i=l.target,r=void 0,(r=$(i)).hasClass("form")?r:r.parents(".form")||null);if(null!==u){var c=u.attr("_moduleid");if(c){if(c==this.containerId&&"childList"==l.type){this.cb(t);break}var f=u.height(),d=parseInt(u.css("top"));if("undefined"==typeof this._moduleHeightMap[c]){this._moduleHeightMap[c]={height:f,top:d},this.cb(t);break}if(this._moduleHeightMap[c].height!=f||this._moduleHeightMap[c].top!=d){this._moduleHeightMap[c].height=f,this._moduleHeightMap[c].top=d,this.cb(t);break}}}}}}}catch(p){s.e(p)}finally{s.f()}}}},{key:"_collectModuleHeight",value:function(){var t=this;setTimeout((function(){$(t.options.node).find(".form").each((function(e,n){var i=$(n).attr("_moduleid");i&&(t._moduleHeightMap[i]={height:$(n).height(),top:$(n).css("top")})})),!Fai.top._manageMode&&t.cb()}),500)}},{key:"observe",value:function(){var t=this,e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.options.node,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.options.config;e&&null!==this._observer&&(e instanceof NodeList?i(e).forEach((function(e){return t._observer.observe(e,n)})):this._observer.observe(e,n))}},{key:"disconnect",value:function(){if(!this.isSupport)return window.clearInterval(this.intervalTimer),void(this.intervalTimer=null);null!==this._observer&&this._observer.disconnect()}},{key:"_handleCallback",value:function(t){var e=function(){var e=this;this.fnCalling=!0,t.apply(void 0,arguments),this._delay((function(){e.fnCalling=!1}))};return Fai.top._manageMode?l(e,this.options.throttleTime):u(e,16)}},{key:"isFilterDrag",value:function(){var t=document.querySelector(".moduleSortableHelperWrap"),e=$(document.querySelector(".jz_placeholder"));if(e.length>0&&"block"===e.css("display"))return!0;if(this.options.dragingCall){if(t&&"block"===t.style.display)return!0}else if(t)return!0;return!1}},{key:"_delay",value:function(t){"undefined"!=typeof Promise?Promise.resolve().then(t):setTimeout(t,0)}},{key:"_isManageTools",value:function(t){if(!Fai.top._manageMode)return!1;var e=!1,n=t.target;return"attributes"==t.type&&"class"==t.attributeName?!(!t.oldValue||!t.oldValue.includes("ui-resizable-autohide"))||n.classList.contains("ui-resizable-handle")||n.classList.contains("J_dragHandle")||n.classList.contains("fk-paddingMarginWrap")||n.classList.contains("ui-resizable-autohide")||n.classList.contains("J_packContent"):("childList"==t.type&&(e=[].concat(i(t.addedNodes),i(t.removedNodes)).some((function(t){return!!t.classList&&(t.classList.contains("ui-resizable-handle")||t.classList.contains("J_dragHandle")||t.classList.contains("fk-paddingMarginWrap"))}))),e)}},{key:"_isAnimation",value:function(t){return t.style.animation&&"none"!=t.style.animationName}},{key:"_handleFilterClasses",value:function(){return new Set(this.options.filterClassList.concat(d))}},{key:"_handleNotSupport",value:function(){this.intervalTimer=window.setInterval(this.options.callback,1e3)}},{key:"_isAutoHeightChange",value:function(t){return"attributes"===t.type&&"_autoheight"===t.attributeName}},{key:"_getContainerId",value:function(){var t=this.options.node;return t instanceof Node&&Number(t.getAttribute("_moduleid"))||null}}],n&&a(e.prototype,n),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports={DomChanged:p,isSupport:c,isGrayTest:function(){return Fai.top._mutationObGrayTest}}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var i=function(t,e){var n,i,o,r=jzModule.SiteModule.find(t).options.initalState,a=e.data("id");return(null==r||null===(n=r.formInfo)||void 0===n||null===(i=n.contentList)||void 0===i||null===(o=i.filter((function(t){return t.id===a})))||void 0===o?void 0:o[0])||{}};t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,a;return e=t,a=[{key:"init",value:function(t,e){var n=$("#module"+t).find(".J_unitCustomSearchEntry");n.length<1||(n.find(".J_unitCustomSearchEntrySubmit").off("click.submit").on("click.submit",(function(){return function(t,e,n){var r,a,s,l,u=jzModule.SiteModule.find(e).options.initalState,c=null!==(r=null==u||null===(a=u.projectInfo)||void 0===a?void 0:a.funcType)&&void 0!==r?r:0,f=null===(s=null==u||null===(l=u.formSearchVerAuth)||void 0===l?void 0:l.allow)||void 0===s||s;if(Fai.top.openMsgSearch)if(t.removeData("disabled"),t.data("disabled"))Fai.ing(LS.js_customSearchNoOpen,!0);else if(!c||f){var d=[],p=parseInt(t.data("projectId"));d.push("id="+p),n?d.push("mId="+parseInt(Fai.getUrlParam(location.search,"mId")||0)):d.push("mId="+e),function(t,e,n){for(var r,a,s=[],l=$.makeArray(t.find(".J_unitCustomSearchEntryControl")),u=jzModule.SiteModule.find(n).options.initalState,c=null!==(r=null==u||null===(a=u.projectInfo)||void 0===a?void 0:a.funcType)&&void 0!==r?r:0,f=0;f<l.length;f++){var d=l[f],p=$(d),h=p.data("type"),m=p.data("required"),v=p.data("id"),g=p.data("name"),y="",b=!1;switch(o(c,h)){case"singleLine":case"mail":case"identity":if(!(y=p.find("input").val())){if(m)return Fai.ing(Fai.format(LS.siteFormSubmitInputIsEmpty,Fai.encodeHtml(g)),!1),!1;b=!0}break;case"radio":if(!(y=p.find("input:checked").val())){if(m)return Fai.ing(Fai.format(LS.siteFormSubmitInputIsEmpty,Fai.encodeHtml(g)),!1),!1;b=!0}break;case"multipleChoice":var _=$.makeArray(p.find("input:checked")).map((function(t){return $(t).val()}));if(_.length<1){if(m)return Fai.ing(Fai.format(LS.siteFormSubmitInputIsEmpty,Fai.encodeHtml(g)),!1),!1;b=!0}y=_.join("\n");break;case"dropdown":if("none"==(y=p.find("select").val())||!y){if(m)return Fai.ing(Fai.format(LS.siteFormSubmitInputIsEmpty,Fai.encodeHtml(g)),!1),!1;b=!0}break;case"multiLine":var w=$.trim(p.find("textarea").val());if(y=w,""==w||"none"==y){if(m)return Fai.ing(Fai.format(LS.siteFormSubmitInputIsEmpty,Fai.encodeHtml(g)),!1),!1;b=!0}if(w.length>1e3&&(b=!0,m))return Fai.ing(Fai.format(LS.siteFormSubmitInputMaxLength,Fai.encodeHtml(g)),1e3),!1;break;case"address":var S=$.trim(p.find(".select_province :checked").attr("_name")),k=$.trim(p.find(".select_city :checked").attr("_name")),C=$.trim(p.find(".select_county :checked").attr("_name"));if(y=S+k+C,""==S&&""==k&&""==C&&(b=!0,m))return Fai.ing(Fai.format(LS.siteFormSubmitInputIsEmpty,Fai.encodeHtml(g)),!1),!1;break;case"multiDropdown":var M,F,T,P,x=$.trim(null===(M=p.find(".select_level1 :checked"))||void 0===M?void 0:M.attr("_name")),I=$.trim(null===(F=p.find(".select_level2 :checked"))||void 0===F?void 0:F.attr("_name")),O=$.trim(null===(T=p.find(".select_level3 :checked"))||void 0===T?void 0:T.attr("_name")),L=$.trim(null===(P=p.find(".select_level4 :checked"))||void 0===P?void 0:P.attr("_name")),j="";if(j="".concat(x),I&&(j+="-".concat(I)),O&&(j+="-".concat(O)),L&&(j+="-".concat(L)),y=j,""==j&&(b=!0,m))return Fai.ing(Fai.format(LS.siteFormSubmitInputIsEmpty,Fai.encodeHtml(g)),!1),!1;break;case"date":var A=(i(n,p).dateSetting||{}).type||0,E=$.trim(p.find(".start_time").val()),D=$.trim(p.find(".end_time").val());if(""==E&&(b=!0,m))return Fai.ing(Fai.format(LS.siteFormSubmitCheckIsEmpty,Fai.encodeHtml(g))),!1;if(y=E,1==A){if(""==D&&(b=!1,m))return Fai.ing(Fai.format(LS.siteFormSubmitCheckIsEmpty,Fai.encodeHtml(g))),!1;y+=" 至 ".concat(D)}break;case"phone":var B=i(n,p),H=p.find("select").val(),z=$.trim(p.find(".phone_number").val()),N=(B.phoneNumberLength||"7-11").split("-"),R=N[0],J=N[1]||R;if(y=H?H+z:z,""==z&&!H&&(b=!0,m))return Fai.ing(Fai.format(LS.siteFormSubmitInputIsEmpty,Fai.encodeHtml(g)),!1),!1;if(z){if(!Fai.isLimitedRangeNationMobile(z,R,J)&&(b=!0,m))return Fai.ing(Fai.format(LS.site_newMobileNumRegular,Fai.encodeHtml(g)),!1),!1;if(11==z.length&&!Fai.isMobile(z)&&(b=!0,m))return Fai.ing(Fai.format(LS.site_newMobileNumRegular,Fai.encodeHtml(g)),!1),!1}}b||s.push({index:f,prop:"prop"+v,type:h,value:y})}var U=[].concat(s).filter((function(t){var e,n;return"date"==o(c,t.type)&&" 至 "!==t.value||"date"!==o(c,t.type)&&"phone"!==o(c,t.type)||"phone"==o(c,t.type)&&t.value!==(null===(e=$(l[null==t?void 0:t.index]))||void 0===e||null===(n=e.find("select"))||void 0===n?void 0:n.val())}));return U.length||1!=c?(e(s),!0):l.length>1?(Fai.ing(LS.js_customSearch_condition,!1),!1):(l.length&&Fai.ing(Fai.format(LS.siteFormSubmitInputIsEmpty,Fai.encodeHtml($(l[0]).data("name"))),!1),!1)}(t,(function(t){d.push("condition="+Fai.encodeUrl($.toJSON(t)))}),e)&&(window.location.href=Site.preprocessUrl({path:"",oldPath:""})+"csr.jsp?".concat(d.join("&")),Site.logDog(201006,1))}else{var h;top._manageMode?Fai.top._oem?Fai.ing("表单查询为网站至尊版功能。"):Fai.ing("表单查询为网站皇冠版功能。<a target='_blank' style='color:red' href='"+(null==u||null===(h=u.formSearchVerAuth)||void 0===h?void 0:h.updateVerUrl)+"' >立即升级</a>"):Fai.ing("功能不可用，如需继续使用请联系网站管理员")}else Fai.ing("功能不可用，如需继续使用请联系网站管理员",!0)}(n,t,e)})),function(t,e){var n,o,r=jzModule.SiteModule.find(e).options.initalState;if(null!==(n=null==r||null===(o=r.projectInfo)||void 0===o?void 0:o.funcType)&&void 0!==n&&n){var a=t.find(".u_custom_search_entry--field_item6 .J_unitCustomSearchEntryControl");if(a.length){var s=i(e,a);jzModule.SiteFormModule.prototype._initDatepicker.call(jzModule.SiteFormModule.prototype,s,a,!1),1==s.dateSetting.type&&jzModule.SiteFormModule.prototype._initDatepicker.call(jzModule.SiteFormModule.prototype,s,a,!0)}var l=t.find(".u_custom_search_entry--field_item11 .J_unitCustomSearchEntryControl");if(l.length){var u=i(e,l);jzModule.SiteFormModule.prototype._initAddress.call(jzModule.SiteFormModule.prototype,u,l,window._lcid)}var c=t.find(".u_custom_search_entry--field_item8 .J_unitCustomSearchEntryControl");if(c.length){var f=i(e,c);jzModule.SiteFormModule.prototype._initPhoneValidateCode.call(jzModule.SiteFormModule.prototype,f,c)}var d=t.find(".u_custom_search_entry--field_item12 .J_unitCustomSearchEntryControl");if(d.length){var p=i(e,d);jzModule.SiteFormModule.prototype.initMultiDropDown.call(jzModule.SiteFormModule.prototype,p,d)}}}(n,t))}}],(r=null)&&n(e.prototype,r),a&&n(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}();var o=function(t,e){var n="";if(t)switch(e){case 0:n="singleLine";break;case 1:n="multiLine";break;case 2:n="radio";break;case 3:n="multipleChoice";break;case 4:n="dropdown";break;case 6:n="date";break;case 8:n="phone";break;case 9:n="mail";break;case 10:n="identity";break;case 11:n="address";break;case 12:n="multiDropdown";break;default:n="-"}else switch(e){case 0:default:n="singleLine";break;case 1:n="radio";break;case 2:n="multipleChoice";break;case 3:n="dropdown";break;case 4:n="photo"}return n}},function(t,e){t.exports={isSupportWebp:function n(){if("undefined"!=typeof n._value)return n._value;if(Fai.top._debug)return n._value=!1;var t="image/webp",e=document.createElement("canvas");return n._value=!(!e.getContext||!e.getContext("2d"))&&0===e.toDataURL(t).indexOf("data:image/webp")},imgToWebp:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"",e=/(\.faiusr\.com)|(\.aaadns\.com)/;return e.test(t)&&(t=t.replace(/(jpg|jpeg|png|gif)$|(jpg|jpeg|png|gif)\?v=/,(function(t,e,n){return e?e+".webp":n?t.replace(n,n+".webp"):void 0}))),t}}},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__9__},function(t,e,n){var i=n(0),o=n(11),r=n(14),a=n(15),s=n(16),l=n(18),u=n(19),c=n(22),f=n(23),d=n(24),p=n(25),h=n(26),m=n(27),v=n(28),g=n(29);t.exports=e={SiteFormModule:o,OnlineMapModule:r,CustomSearchModule:a,CustomSearchResultModule:s,TabModule:l,TabPackModule:u,NewsListModule:c,SimpleTextModule:f,AccordionPackModule:m,PackModule:h,FriendLinkModule:v,NewsGroupModule:g},e.getSiteModuleClass=function(t){switch(t.style){case 18:return r;case 24:return g;case 113:return a;case 114:return s;case 116:return c;case 32:return t.isVue?o:i;case 29:return t.isVue?l:i;case 110:return t.isVue?u:i;case 109:return d;case 80:return p;case 87:return h;case 117:return m;case 118:return v}return i}},function(module,exports,__webpack_require__){(function(module){function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach((function(e){_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _regeneratorRuntime(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",r=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(F){s=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var o=e&&e.prototype instanceof f?e:f,r=Object.create(o.prototype),a=new k(i||[]);return r._invoke=function(t,e,n){var i="suspendedStart";return function(o,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===o)throw r;return M()}for(n.method=o,n.arg=r;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=u(t,e,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),r}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(F){return{type:"throw",arg:F}}}t.wrap=l;var c={};function f(){}function d(){}function p(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(C([])));v&&v!==e&&n.call(v,o)&&(h=v);var g=p.prototype=f.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function i(o,r,a,s){var l=u(t[o],t,r);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==_typeof(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return i("throw",t,a,s)}))}s(l.arg)}var o;this._invoke=function(t,n){function r(){return new e((function(e,o){i(t,n,e,o)}))}return o=o?o.then(r,r):r()}}function _(t,e){var n=t.iterator[e.method];if(undefined===n){if(e.delegate=null,"throw"===e.method){if(t.iterator["return"]&&(e.method="return",e.arg=undefined,_(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var i=u(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,c;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=undefined),e.delegate=null,c):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=undefined,e.done=!0,e};return r.next=r}}return{next:M}}function M(){return{value:undefined,done:!0}}return d.prototype=p,s(g,"constructor",p),s(p,"constructor",d),d.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,r,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,i,o,r){void 0===r&&(r=Promise);var a=new b(l(e,n,i,o),r);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(g),s(g,a,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function i(){for(;e.length;){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},t.values=C,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=undefined)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=undefined),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],a=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var s=n.call(r,"catchLoc"),l=n.call(r,"finallyLoc");if(s&&l){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,c):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),c}},"catch":function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=undefined),c}},t}function asyncGeneratorStep(t,e,n,i,o,r,a){try{var s=t[r](a),l=s.value}catch(u){return void n(u)}s.done?e(l):Promise.resolve(l).then(i,o)}function _asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var r=t.apply(e,n);function a(t){asyncGeneratorStep(r,i,o,a,s,"next",t)}function s(t){asyncGeneratorStep(r,i,o,a,s,"throw",t)}a(undefined)}))}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(t);if(e){var o=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}var SiteModule=__webpack_require__(0),hasLog=!1,_require=__webpack_require__(13),getServerTime=_require.getServerTime,_bizShared=bizShared,countDownFormLimitTime=_bizShared.countDownFormLimitTime,previewFile=_bizShared.previewFile,getPreviewSize=_bizShared.getPreviewSize;module.exports=function(_SiteModule){_inherits(SiteFormModule,_SiteModule);var _super=_createSuper(SiteFormModule),_initFileUpload,_initLimitTimeTips;function SiteFormModule(){return _classCallCheck(this,SiteFormModule),_super.apply(this,arguments)}return _createClass(SiteFormModule,[{key:"formItemTypeNameArr",get:function(){return["单行文本","多行文本","单选按钮","多选按钮","下拉选项","文本说明","日期选项","文件上传","手机号","邮箱验证","身份验证","省市县区","多级下拉"]}},{key:"init",value:function(){if(this.uploadPreviewFileListMap=new Map,this.upload=null,this.getLotteryId(),this.initSubmit(),this.initLoginUrl(),this.initValidation(),this.fixLowIePlaceholder(),this.initPriceCalcRules(),this.initLimitTimeTips(),this.initFormProtocol(),hasLog||(hasLog=!0,Site.logDog(201020,1)),!_manageMode&&this.options.formId){for(var t=this.options.contentList,e=0;e<t.length;e++){var n=t[e];if(!n.hide)switch(n.type){case 6:this.initDatepicker(n);break;case 7:this.initFileUpload(n);break;case 8:this.initPhoneValidateCode(n);break;case 11:this.initAddress(n);break;case 12:this.initMultiDropDown(n)}}this.initRules(this.options.ruleList,t)}}},{key:"initLimitTimeTips",value:(_initLimitTimeTips=_asyncToGenerator(_regeneratorRuntime().mark((function t(){var e,n,i,o,r,a,s,l,u,c,f,d,p;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=_manageMode?this.options.module.id:this.options.moduleId,this.options.openSubmitLimitTime){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,getServerTime();case 6:i=t.sent,o=null!==(e=i.timeStamp)&&void 0!==e?e:0,r=this.options,a=r.startTime,s=void 0===a?0:a,l=r.endTime,u=void 0===l?0:l,c=(new Date).getTime(),f=0===o||Math.abs(o-c)<5e3?c:o,d=$("#module".concat(n," .form_limit_time_tips")),p=$("#module".concat(n," .form_limit_time_tips_text")),countDownFormLimitTime({startTimestamp:s,endTimestamp:u,nowTimestamp:f,LS:window.LS,onCountDown:function(t){var e=t.tips;""!==e?(d.show(),p.text(e).show()):d.remove()}});case 14:case"end":return t.stop()}}),t,this)}))),function(){return _initLimitTimeTips.apply(this,arguments)})},{key:"initPriceCalcRules",value:function initPriceCalcRules(){var _this=this,formId=Fai.top._manageMode?this.module.formData.id:this.options.formId;if(formId){var _this$options2=this.options,openOnlinePay=_this$options2.openOnlinePay,payType=_this$options2.payType,_this$options2$formul=_this$options2.formulaData;_this$options2$formul=void 0===_this$options2$formul?{}:_this$options2$formul;var _this$options2$formul2=_this$options2$formul.formula,formula=void 0===_this$options2$formul2?"":_this$options2$formul2;if(openOnlinePay&&1==payType){this.answerMap={},this.selectedMap={};var formItemSelector="",hasRuleFormItem=formula.match(/prop\d+/gi)||[];if(0!==hasRuleFormItem.length)hasRuleFormItem.forEach((function(t){t=Number(t.replace("prop",""))||0;var e=_this.options.contentList.find((function(e){return e.id===t}));e&&(_this.answerMap[t]=e.input.split("\n"),_this.selectedMap[t]=null,formItemSelector+="[data-formid='".concat(t,"'],"))})),this.$el.find(formItemSelector).each((function(t,e){var n=$(e),i=n.data("type"),o=n.data("formid");if(i&&!(o<0)){n.find({2:"input[type=radio]",4:"select"}[i]).off("change.calcPrice").on("change.calcPrice",(function(t){var e=$(t.target),n=_this.answerMap[o].indexOf(e.val());-1!=n&&(_this.selectedMap[o]=n,_this.checkUpdatePrice(_this.selectedMap))})).off("clearCalc").on("clearCalc",(function(){_this.selectedMap[o]=null,_this.$el.find(".pay_price").text("0.00")}))}}));else{var price="0.00";try{price=eval(formula).toFixed(2)}catch(error){console.error(error)}this.$el.find(".pay_price").text(price)}}}}},{key:"checkUpdatePrice",value:function checkUpdatePrice(){var selectedMap=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},needUpdatePrice=Object.values(selectedMap).every((function(t){return null!=t}));if(needUpdatePrice)try{var _this$options$formula=this.options.formulaData;_this$options$formula=void 0===_this$options$formula?{}:_this$options$formula;var _this$options$formula2=_this$options$formula.formula,formula=void 0===_this$options$formula2?"":_this$options$formula2,_this$options$formula3=_this$options$formula.variableList,variableList=void 0===_this$options$formula3?[]:_this$options$formula3,updatedPriceExp=formula.replace(/prop(\d+)/gi,(function(){var t=Number(arguments.length<=1?undefined:arguments[1]),e=selectedMap[t];if(null==e)throw"表单项".concat(t,"已删除");var n=variableList.find((function(e){return e.id===t}));if(!n||!n.selectList)throw"找不到表单项".concat(t,"变量数据");return n.selectList[e]})),price=eval(updatedPriceExp).toFixed(2);"Infinity"===Math.abs(price).toString()||isNaN(price)?this.$el.find(".pay_price").text(""):this.$el.find(".pay_price").text(price)}catch(err){Fai.ing("支付金额计算有误，请联系管理员",!0),console.error(err)}}},{key:"initRules",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[],e=arguments.length>1?arguments[1]:undefined;if(0!==t.length){var n=Site.checkRuleList(t,e),i=n.enableRuleList,o=n.hasRuleItemIds,r=_manageMode?this.options.module.id:this.options.moduleId;this.$el.find(".form_item").each((function(t,n){var a=$(n),s=Number(a.data("formid"));if(o.includes(s)){var l=Number(a.data("type")),u=i.filter((function(t){return t.contentId===s}));Site.initRuleEvent(a,l,u,e,i,r)}}))}}},{key:"showMsg",value:function(t){if(this.options.isPack)Fai.ing(t,!0);else{if(!this.$msgContainer){var e=$('<div class="submit_msg"><div class="g_tip"></div></div>');this.$el.find(".item_Submit_wrap").before(e),this.$msgContainer=e.find(".g_tip")}this.$msgContainer.html(t)}}},{key:"hideMsg",value:function(){this.$msgContainer&&(this.$msgContainer.parent().remove(),this.$msgContainer=null)}},{key:"initLoginUrl",value:function(){var t=this.$el.find(".login_url");t.length&&t.attr("href",Site.preprocessUrl({path:"login.jsp?url=".concat(Fai.encodeUrl(Fai.top.location.pathname+Fai.top.location.search)),oldPath:"login.jsp?url=".concat(Fai.encodeUrl(Fai.top.location.pathname+Fai.top.location.search))}))}},{key:"initValidation",value:function(){var t=this;this.$el.find(".validatecode_img, .validatecode_tip").click((function(){t.refreshValidation()}))}},{key:"initPhoneValidateCode",value:function(t){var e=this.$el.find(".item_".concat(t.id));this._initPhoneValidateCode(t,e)}},{key:"_initPhoneValidateCode",value:function(t,e){var n=this,i=!0;e.find(".phone_number").off("input").on("input",(function(t){11!=t.target.value.length?(e.find(".J_validatorCodeBtn").addClass("phone_validator_code_btn__disabled"),i=!0):(e.find(".J_validatorCodeBtn").removeClass("phone_validator_code_btn__disabled"),i=!1)}));var o=function(){var i=_asyncToGenerator(_regeneratorRuntime().mark((function o(){var i,r,a,s;return _regeneratorRuntime().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if((i=$.trim(e.find(".phone_number").val()))&&Fai.isMobile(i)){o.next=4;break}return n.showMsg(Fai.format(LS.site_newMobileNumRegular,11)),o.abrupt("return");case 4:if(r=function(e){return new Promise((function(o){var r={formId:n.options.formId,contentId:t.id,validateCode:e,mobile:i};$.ajax({type:"POST",url:Site.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/siteForm_h.jsp?cmd=wafNotCk_sendValidateCode",data:r,error:function(){o()},success:function(t){var e=$.parseJSON(t);o(e)}})}))},!t.smsImgVerify){o.next=11;break}return o.next=8,Site.createCaptchaPopup(r);case 8:o.t0=o.sent,o.next=14;break;case 11:return o.next=13,r();case 13:o.t0=o.sent;case 14:if(a=o.t0,t.smsImgVerify||(a&&a.success?Fai.ing(LS.memberDialogSendMobileCode,!0):Fai.ing(a&&a.msg?a.msg:LS.js_argsError)),!a||!a.success){o.next=20;break}return s=function(){return new Promise((function(t){var n=60,i=setInterval((function(){n--,e.find(".J_validatorCodeBtn").html(Fai.format(LS.reacquireMemCode,n)),n<1&&(clearInterval(i),t())}),1e3)}))},o.next=20,s();case 20:case"end":return o.stop()}}),o)})));return function(){return i.apply(this,arguments)}}(),r=!1;e.find(".J_validatorCodeBtn").off("click").on("click",(function(){_manageMode?Site.Message.warning("管理态不支持获取验证码"):r||i||(r=!0,o().then((function(){e.find(".J_validatorCodeBtn").html(LS.memberDialogAcquireCode),r=!1})))}))}},{key:"initDatepicker",value:function(t){var e=this.$el.find(".item_".concat(t.id));this._initDatepicker(t,e,!1),1==t.dateSetting.type&&this._initDatepicker(t,e,!0)}},{key:"_initDatepicker",value:function(t,e,n){Site.demandLoadCss(Fai.top.datePickerCssSource,(function(){var i=t.dateSetting;$.inArray(7,i.banSingleDateList)>-1&&-1===$.inArray(0,i.banSingleDateList)&&i.banSingleDateList.push(0);var o=e.find(".start_time"),r=e.find(".end_time"),a=n?r:o,s="1900:"+(parseInt($.format.date(new Date,"yyyy"))+10),l=0==i.type&&1==i.accuracy,u=new Date,c=new Date(u.getFullYear(),u.getMonth(),u.getDate()),f=g(c)[0],d=i.od.unSelectDay?i.od.unSelectDay.concat([]).sort((function(t,e){return t-e})):[],p=[];1==i.ot.t&&(p=i.ot.unSelectTime.slice());for(var h=0,m=1==i.banPassDate?c:new Date(1900,0,1),v=0;v<24;v++)if(-1==$.inArray(v,p)){h=v;break}function g(t){var e=!0,n=t.getDay(),o=t.getTime();return 0==i.od.t?[!0,""]:(1==i.banAll&&(e=!1),0!=n&&6!=n||(e=1!=i.banHoliday),i.banSingleDateList&&i.banSingleDateList.length&&1==i.od.t&&$.inArray(n,i.banSingleDateList)>-1&&(e=!1),1==i.od.t&&$.inArray(o,i.od.unSelectDay)>-1&&(e=!1),1==i.od.t&&$.inArray(o,i.od.openDay)>-1&&(e=!0),[e,""])}a.datetimepicker("destroy").datetimepicker({dateFormat:"yy-mm-dd",changeYear:!0,changeMonth:!0,showButtonPanel:f,yearRange:s,zIndex:9033,hour:h,controlType:"fkControl",showMinute:!1,showTime:!1,hourText:"",hourAccuracy:!0,minDate:m,showTimepicker:l,autoChangeMonthYear:!1,beforeShow:function(t,e){e.dpDiv.addClass("fk-siteFormDatePicker fk-moduleFormDatePicker"),!n&&e.startDateNotLimit&&(e.settings.minDate=m,e.settings.maxDate=null,e.startDateNotLimit=!1)},afterShow:function(t,e){var i;n&&(i=new Date(o.val())).getTime()&&$.datepicker._selectToMonthYearDate("#"+t.id,e,i.getMonth(),i.getFullYear(),i.getDate())},onAfterUpdatePicker:function(t){var e=t.dpDiv.find(".ui-datepicker-today").find(".ui-state-default"),n=(new Date(t.currentYear,t.currentMonth,t.currentDay),0!=t.currentYear||0!=t.currentMonth||0!=t.currentDay);new Date(u.getFullYear(),u.getHours(),u.getDate());e.hasClass("ui-state-hover")&&!n?e.addClass("fk-todayDefaultStyle"):t.dpDiv.find(".ui-state-hover").removeClass("ui-state-hover")},beforeShowTime:function(t){return!(p.length>0&&$.inArray(t,p)>-1)},beforeShowDay:function(t){return g(t)},onSelect:function(t,e){var a,s=t.replace(/-/g,"/"),u=new Date(s),c=new Date(u.getFullYear(),u.getMonth(),u.getDate()).getTime(),f={minDate:m,maxDate:null};if(n){if(n){for(var p=d.length;p>=0;p--)if(c>=d[p]){a=p;break}"number"==typeof a&&1==i.od.t&&(f.minDate=m.getTime()<d[a]?new Date(d[a]):m),e.startDateNotLimit=!1,f.maxDate=new Date(s),o.datetimepicker("option",f)}}else{if(1==i.banAll||1==i.banHoliday||d.length>0)for(p=0;p<365;p++)if(nextDay=new Date(c+864e5*p),!g(nextDay)[0]){f.maxDate=nextDay;break}e.startDateNotLimit=!0,f.minDate=new Date(s),r.datetimepicker("option",f)}l||(e.inline=!1)},onAfterSelect:function(t,e){e.inline||n||r.focus()}}),n&&r.off("click.openStart").on("click.openStart",(function(t){o.focus()}))}))}},{key:"slideshowView",value:function(t,e,n){var i=_manageMode?this.options.module.id:this.options.moduleId,o=0;e.forEach((function(e,n,i){e.key===t&&(o=n)}));var r={id:"".concat(n.id,"_").concat(i),previewSrcList:e,initialIndex:o,logEventConfig:{event:"jz_hdpzj",properties:{jz_content_terminal:"site-在线表单",jz_version:Fai.top.jzVersion}}};Site.slideshowView(r)}},{key:"retryUpload",value:function(t,e){try{var n,i,o,r,a=this.uploadPreviewFileListMap.get(e),s=a.uploadPreviewFileList,l=a.upload,u=null!==(n=null===(i=s.filter((function(e){return(null==e?void 0:e.key)===t})))||void 0===i?void 0:i[0])&&void 0!==n?n:{};null==l||null===(o=l.fileObj)||void 0===o||null===(r=o.funUploadFile)||void 0===r||r.call(o,null==u?void 0:u.originalFile)}catch(c){console.log(c)}}},{key:"delUploadFile",value:function(t,e){try{var n,i,o,r,a,s,l,u,c,f,d,p,h,m,v,g=null,y=this.uploadPreviewFileListMap.get(e.id),b=y.uploadPreviewFileList,_=y.upload;if(b.forEach((function(e,n){e.key===t&&(g=b.splice(n,1))})),this.uploadNewVersion()){if(g)"loading"===(null===(n=g)||void 0===n||null===(i=n[0])||void 0===i?void 0:i.status)&&(null==_||null===(o=_.cancel)||void 0===o||o.call(_,null===(r=g)||void 0===r||null===(a=r[0])||void 0===a||null===(s=a.originalFile)||void 0===s?void 0:s.index))}else if(g)"loading"===(null===(l=g)||void 0===l||null===(u=l[0])||void 0===u?void 0:u.status)&&(null==_||null===(c=_.stopUpload)||void 0===c||c.call(_));if(g)if(this.removePreviewFile(g[0],e),!b.length)null===(f=this.$el)||void 0===f||null===(d=f.find)||void 0===d||null===(p=d.call(f,".item_".concat(e.id)))||void 0===p||null===(h=p.find)||void 0===h||null===(m=h.call(p,".preview_file_tips"))||void 0===m||null===(v=m.show)||void 0===v||v.call(m)}catch(w){console.log(w)}}},{key:"uploadNewVersion",value:function(){return!jzUtils.browser.IEVersionCompare("10","LT")}},{key:"changePreviewClass",value:function(t,e){switch(e){case"hide":!t.hasClass("preview_hide")&&t.removeClass("preview_show").addClass("preview_hide");break;case"show":!t.hasClass("preview_show")&&t.removeClass("preview_hide").addClass("preview_show")}}},{key:"removePreviewFile",value:function(t,e){var n,i,o,r,a=_manageMode?this.options.module.id:this.options.moduleId,s=this.$el.find(".item_".concat(e.id)).find(".upload_btn"),l="".concat(t.key,"_").concat(a,"_").concat(e.id),u=$("#".concat(l)),c=(e||{}).fileNumLimit,f=void 0===c?1:c,d=this.uploadPreviewFileListMap.get(e.id).uploadPreviewFileList;null!=u&&u.length&&(u.remove(),(null==d?void 0:d.length)>=f?this.uploadNewVersion()?(null==s||null===(n=s.hasClass)||void 0===n||!n.call(s,"disable_upload"))&&(null==s||null===(i=s.addClass)||void 0===i||i.call(s,"disable_upload")):(this.upload.setButtonDisabled(!0),this.upload.setButtonCursor(-1)):this.uploadNewVersion()?(null==s||null===(o=s.hasClass)||void 0===o?void 0:o.call(s,"disable_upload"))&&(null==s||null===(r=s.removeClass)||void 0===r||r.call(s,"disable_upload")):(this.upload.setButtonDisabled(!1),this.upload.setButtonCursor(-2)))}},{key:"renderPreviewFile",value:function(t,e){var n=this,i=_manageMode?this.options.module.id:this.options.moduleId,o=this.$el.find(".item_".concat(e.id)),r=(e||{}).fileNumLimit,a=void 0===r?1:r,s=t||{},l=s.size,u=s.fileType,c=s.src,f=s.title,d=s.percent,p=s.key,h=s.status;if(this.showNewFileUpload(a)){var m=o.find(".upload_btn"),v=o.find(".preview_file_container .preview_file_list"),g="".concat(t.key,"_").concat(i,"_").concat(e.id),y=$("#".concat(g)),b=o.find(".preview_file_tips"),_="preview_file_item--progress",w="preview_file_item_retry",S="preview_file_item_del",k="preview_file_item_error",C="preview_file_item_title",M="preview_file_item_des",F=this.uploadPreviewFileListMap.get(e.id).uploadPreviewFileList;if(null!=y&&y.length)switch(h){case"loading":this.uploadNewVersion()&&this.changePreviewClass(y.find(".".concat(w)),"hide"),this.changePreviewClass(y.find(".".concat(_)),"show"),this.changePreviewClass(y.find(".".concat(k)),"hide"),this.changePreviewClass(y.find(".".concat(C)),"show"),this.changePreviewClass(y.find(".".concat(M)),"hide"),y.find(".preview_file_item--container").find(".jz_progress_bg").css("width","".concat(d,"%"));break;case"success":this.changePreviewClass(y.find(".".concat(_)),"hide"),this.uploadNewVersion()||"image"===u&&y.find(".preview_file_item_box--img").attr("src",c),"pdf"===u&&(y.find(".preview_file_icon--pdf").attr("href",c),y.find(".preview_file_item_title--pdf").attr("href",c)),setTimeout((function(){n.changePreviewClass(y.find(".".concat(M)),"show")}),300);break;case"error":this.uploadNewVersion()&&this.changePreviewClass(y.find(".".concat(w)),"show"),this.changePreviewClass(y.find(".".concat(_)),"hide"),this.changePreviewClass(y.find(".".concat(k)),"show"),this.changePreviewClass(y.find(".".concat(C)),"hide"),this.changePreviewClass(y.find(".".concat(M)),"hide")}else{var T=getPreviewSize(l),P="preview_file_icon preview_file_icon--".concat(u),x="image"===u?'<img class="preview_file_item_box--img preview_file_item_box--icon" src="'.concat(c,'" alt="').concat(f,'"></img>'):'<i class="preview_file_item_box--icon '.concat(P,' preview_file_item_box--other"></i>'),I='<p class="'.concat(C,'">').concat(null!=f?f:"","</p>"),O="\n\t\t\t\t".concat(I,'\n\t\t\t\t<div class="').concat(_,'">\n\t\t\t\t\t<div class="jz_progress_line">\n\t\t\t\t\t\t<div class="jz_progress_outer">\n\t\t\t\t\t\t\t<div class="jz_progress_inner">\n\t\t\t\t\t\t\t\t<div class="jz_progress_bg">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<p class="').concat(M,' preview_hide">').concat(T,'</p>\n\t\t\t\t<p class="').concat(k,' preview_hide">上传错误！</p>\n\t\t\t'),L='<i class="'.concat(w,' preview_file_icon action_icon preview_hide"></i>'),j='<i class="'.concat(S,' preview_file_icon action_icon"></i>'),A='\n\t\t\t\t<li id="'.concat(g,'" class="preview_file_item">\n\t\t\t\t\t<div class="preview_file_item_box preview_file_item_content">\n\t\t\t\t\t\t').concat(x,'\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="preview_file_item--container preview_file_item_content">\n\t\t\t\t\t\t').concat(O,'\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="preview_file_item--action preview_file_item_content">\n\t\t\t\t\t\t').concat(L,"\n\t\t\t\t\t\t").concat(j,"\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t");v.append(A)}if(b.is(":visible")&&b.hide(),"error"==h&&this.uploadNewVersion()&&y.off("click.retry").on("click.retry",".".concat(w),(function(){n.retryUpload(p,e.id)})),y.data("click.del")||(y.off("click.del").on("click.del",".".concat(S),(function(){n.delUploadFile(p,e)})),y.data("click.del",!0)),"error"==h||"success"==h){var E,D,B,H;if((null==F?void 0:F.length)>=a)if(this.uploadNewVersion())(null==m||null===(E=m.hasClass)||void 0===E||!E.call(m,"disable_upload"))&&(null==m||null===(D=m.addClass)||void 0===D||D.call(m,"disable_upload"));else this.upload.setButtonDisabled(!0),this.upload.setButtonCursor(-1);else if(this.uploadNewVersion())(null==m||null===(B=m.hasClass)||void 0===B?void 0:B.call(m,"disable_upload"))&&(null==m||null===(H=m.removeClass)||void 0===H||H.call(m,"disable_upload"));else this.upload.setButtonDisabled(!1),this.upload.setButtonCursor(-2);"image"===u&&y.off("click.previewImage").on("click.previewImage",(function(t){var i=n.uploadPreviewFileListMap.get(e.id).uploadPreviewFileList.filter((function(t){return"image"===(null==t?void 0:t.fileType)}));$(t.target).hasClass("preview_file_item_box--img")&&n.slideshowView(p,i,e)}))}}else"success"==h&&"image"===u&&o.find(".image_view_icon").css("display","inline-block").off("click.previewImage").on("click.previewImage",(function(t){var i=n.uploadPreviewFileListMap.get(e.id).uploadPreviewFileList.filter((function(t){return"image"===(null==t?void 0:t.fileType)}));n.slideshowView(p,i,e)}))}},{key:"showNewFileUpload",value:function(t){return t>1}},{key:"initFileUpload",value:(_initFileUpload=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,i,o,r,a,s,l,u,c,f,d,p,h,m,v,g,y,b,_,w,S,k;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k=function(e,o){var r=e.id,s=e.name,u=e.type,c=(e.size,e.path,e.fullPath),f=(e.createTime,e.groupId,e.fileId),d=e.width||0,p=e.height||0;if(u=e.type||0,!n.showNewFileUpload(a)){var h=i.find(".file_name");i.find(".limit_tip").hide(),h.css("display","inline-block"),h.text(s),h.attr("_tmpFileId",r).attr("_tmpFileName",s).attr("title",s).attr("_fileId",f).attr("_width",d).attr("_height",p).attr("_type",u)}l.forEach((function(e){var i,a=null!==(i=null==o?void 0:o.md5)&&void 0!==i?i:null==o?void 0:o.id;e.key===a&&(n.uploadNewVersion()||!n.uploadNewVersion()&&o.name===e.title)&&(e._tmpFileId=r,e._tmpFileName=s,e._fileId=f,e._width=d,e._height=p,e._type=u,!n.uploadNewVersion()&&c&&(e.src=c),e.percent=100,e.status="success",n.renderPreviewFile(e,t))}))},n=this,i=this.$el.find(".item_".concat(t.id)),o=i.find(".upload_btn"),r=(t||{}).fileNumLimit,a=void 0===r?1:r,this.uploadPreviewFileListMap.set(t.id,{uploadPreviewFileList:[],upload:null}),s=this.uploadPreviewFileListMap.get(t.id),l=s.uploadPreviewFileList,i.width()<530&&this.showNewFileUpload(a)&&i.find(".preview_file_container").addClass("preview_file_5"),!_manageMode){e.next=11;break}return o.click((function(){Fai.ing("当前为管理状态，文件上传无效。",!0)})),e.abrupt("return");case 11:if(u="*.*;",t.isAllFile||(u=((t.dftl||"")+(t.cftl||"")).split(" ").filter((function(t){return t})).map((function(t){return"*.".concat(t,";")})).join("")),c=t.size,f=this.options.fileSizeLimit||300,Fai.top._oem?Fai.top._siteVer<=120&&(f=10):Fai.top._siteVer<=10&&(f=1),c>f&&(c=f),d=o.attr("value"),p=!0,h=.31*i.width(),p&&((v=this.$el.width())<=400?(h=.95*(v-60))>161&&(h=161):h<111?h=111:h>161&&(h=161)),!this.uploadNewVersion()){e.next=30;break}return g=function(){n.uploadPreviewFileListMap.get(t.id).upload=o.uploadify(y),o.css("width",h+2),o.on("click",(function(){(null==l?void 0:l.length)>=a&&n.showNewFileUpload(a)||o.find("a")[0].click()}))},e.next=26,jzSite.libs.loadJqUpload();case 26:y={auto:!0,fileTypeExts:u,multi:!1,fileSizeLimit:1024*c*1024,fileSplitSize:1024*c*1024,breakPoints:!0,isBurst:!0,saveInfoLocal:!1,showUploadedPercent:!0,showUploadedSize:!0,removeTimeout:9999999,post_params:{app:21,type:0,fileUploadLimit:c,pieceUpload:!0},getFileSizeUrl:"/ajax/advanceUpload.jsp?cmd=_getUploadSize",uploader:"/ajax/advanceUpload.jsp?cmd=_mobiupload",onUploadStart:function(e,i){previewFile(i,(function(e,o,r){var s,u={};null!=l&&null!==(s=l.filter((function(t){return t.key===i.md5})))&&void 0!==s&&s.length?null==l||l.filter((function(t){t.key===i.md5&&(t.percent=0,t.status="loading",u=t)})):(u=_objectSpread(_objectSpread({src:o,key:i.md5},r),{},{title:i.name,size:i.size,type:i.type,percent:0,status:"loading",originalFile:i}),n.showNewFileUpload(a)?l.length<a&&l.push(u):(l.splice(0,1),l.push(u))),l.length<=a&&n.renderPreviewFile(u,t)})),$("#progressBody_"+e.id).remove(),$("#progressWrap_"+e.id).remove()},onUploadSuccess:function(e,i){var o=$.parseJSON(i);o.success?(e.id,Fai.ing(Fai.format(LS.siteFormSubmitFileUploadSucess,Fai.encodeHtml(e.name)),!0),k(o,e)):(e.id,o.msg,Fai.ing("文件:"+e.name+"，"+o.msg),l.forEach((function(i){i.key===e.md5&&(i.status="error",n.renderPreviewFile(i,t))}))),$("#progressBody_"+e.id).remove(),$("#progressWrap_"+e.id).remove()},onUploadError:function(e,i){$("#progressBody_"+e.id).remove(),$("#progressWrap_"+e.id).remove(),Fai.ing("网络繁忙，文件:"+e.name+"上传失败，请稍后重试"),l.forEach((function(i){i.key===e.md5&&(i.status="error",n.renderPreviewFile(i,t))}))},onUploadProgress:function(e,i,o){l.forEach((function(r){r.key===i.md5&&(r.percent=(e.loaded/o.size*100).toFixed(0),n.renderPreviewFile(r,t))}))}},"function"==typeof $.fn.uploadify?g():(b=document.documentElement||document.body,(_=document.createElement("script")).src=this.options.srcjQueryUploadPath,_.type="text/javascript",b.appendChild(_),_.onload=function(){g()}),e.next=36;break;case 30:return e.next=32,jzSite.libs.loadIEUploadify();case 32:m=p?5:3,navigator.userAgent.toLowerCase().indexOf("se 2.x")>-1&&(m=6),w={file_post_name:"Filedata",upload_url:"/ajax/upsiteimg_h.jsp",button_placeholder:o.get(0),file_size_limit:c+"MB",button_image_type:m,requeue_on_error:!1,button_height:p?"34":"22",button_width:p?h-2:"71",button_text:p?"<span class='fk_btText'>"+d+"</span>":"",button_text_style:p?".fk_btText{text-align:center; font-family: 微软雅黑; color: #666666;}":"",button_text_top_padding:p?8:"",post_params:{ctrl:"Filedata",app:21,type:0,isSiteForm:!0},file_types:u,file_dialog_complete_handler:function(t){this._allSuccess=!1,this.startUpload()},file_queue_error_handler:function(e,i,o){switch(i){case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:Fai.ing(LS.siteFormSubmitCheckFileSizeErr,!0);break;case SWFUpload.QUEUE_ERROR.INVALID_FILETYPE:Fai.ing("不允许的文件类型",!0);break;case SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED:Fai.ing("一次只能上传一个文件",!0);break;default:Fai.ing("请重新选择文件上传。",!0)}l.forEach((function(i){i.key===e.id&&i.title===e.name&&(i.status="error",n.renderPreviewFile(i,t))}))},upload_success_handler:function(e){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},o=jQuery.parseJSON(i);this._allSuccess=null==o?void 0:o.success,this._sysResult=null==o?void 0:o.msg,null!=o&&o.success?(Fai.ing(Fai.format(LS.siteFormSubmitFileUploadSucess,Fai.encodeHtml(e.name)),!0),k(o,e)):(Fai.ing("文件"+e.name+"，"+(null==o?void 0:o.msg)||!1),l.forEach((function(i){i.key===e.id&&i.title===e.name&&(i.status="error",n.renderPreviewFile(i,t))})))},upload_error_handler:function(e,i,o){-280==i?(Fai.ing("文件取消成功",!1),l.forEach((function(i){i.key===e.id&&i.title===e.name&&(i.status="error",n.renderPreviewFile(i,t))}))):-270==i?Fai.ing("已经存在名称为"+e.name+"的文件。",!0):(Fai.ing("服务繁忙，文件"+e.name+"上传失败，请稍候重试。"),l.forEach((function(i){i.key===e.id&&i.title===e.name&&(i.status="error",n.renderPreviewFile(i,t))})))},upload_complete_handler:function(e){e.filestatus==SWFUpload.FILE_STATUS.COMPLETE?setTimeout((function(){S.startUpload()}),S.upload_delay):e.filestatus==SWFUpload.FILE_STATUS.ERROR&&(Fai.ing("服务繁忙，文件"+e.name+"上传失败，请稍候重试。"),l.forEach((function(i){i.key===e.id&&i.title===e.name&&(i.status="error",n.renderPreviewFile(i,t))})))},upload_start_handler:function(e){var o;Fai.ing("读取文件准备上传",!1),previewFile(e,(function(i,o,r){var s,u={};null!=l&&null!==(s=l.filter((function(t){return t.key===e.id&&t.title===e.name})))&&void 0!==s&&s.length?null==l||l.filter((function(t){t.key===e.id&&t.title===e.name&&(t.percent=0,t.status="loading",u=t)})):(u=_objectSpread(_objectSpread({src:o,key:e.id},r),{},{title:e.name,size:e.size,type:e.type,percent:0,status:"loading",originalFile:e}),n.showNewFileUpload(a)?l.length<a&&l.push(u):(l.splice(0,1),l.push(u))),l.length<=a&&n.renderPreviewFile(u,t)}),null==i||null===(o=i.find(".selectbtn"))||void 0===o?void 0:o[0])},view_progress:function(e,i,o,r){Fai.ing("正在上传"+r+"%",!1),l.forEach((function(i){i.key===e.id&&i.title===e.name&&(i.percent=r,n.renderPreviewFile(i,t))}))}},S=n.uploadPreviewFileListMap.get(t.id).upload=SWFUploadCreator.create(w);case 36:case"end":return e.stop()}}),e,this)}))),function(t){return _initFileUpload.apply(this,arguments)})},{key:"changeMultiDropDownClass",value:function(t){var e=0;t.find(".select_style").each((function(t,n){$(n).is(":visible")&&e++})),t.find(".item_multi_dropdown").removeClass("item_multi_dropdown2 item_multi_dropdown1 item_multi_dropdown3 item_multi_dropdown4").addClass("item_multi_dropdown".concat(e))}},{key:"initMultiDropDown",value:function(t,e){var n=this;e||(e=this.$el.find(".item_".concat(t.id)));var i=e.find(".select_level1"),o=e.find(".select_level2"),r=e.find(".select_level3"),a=e.find(".select_level4"),s=e.find(".none_item").eq(0).clone();i.off("change.multiDropDown").on("change.multiDropDown",(function(){var l,u,c,f,d=null===(l=bizShared)||void 0===l?void 0:l.getMultiDropDownLevelData((null==t?void 0:t.input)||"",1,null==i?void 0:i.val());(null==r||null===(u=r.html(""))||void 0===u||u.attr("disabled",!0),null==a||null===(c=a.html(""))||void 0===c||c.attr("disabled",!0),null!=d&&d.length)?(null==o||o.show(),null==r||r.hide(),null==a||a.hide(),n.changeMultiDropDownClass(e),null==o||null===(f=o.html(""))||void 0===f||f.removeAttr("disabled"),null==o||o.append(s.clone()),null==o||o.append(null==d?void 0:d.map((function(t){return'<option _name="'.concat(t.value,'" value="').concat(t.value,'">').concat(t.value,"</option>\n")})))):(null==o||o.hide(),null==r||r.hide(),null==a||a.hide())})),o.off("change.multiDropDown").on("change.multiDropDown",(function(){var l,u,c,f=null===(l=bizShared)||void 0===l?void 0:l.getMultiDropDownLevelData((null==t?void 0:t.input)||"",2,null==i?void 0:i.val(),null==o?void 0:o.val());(null==a||null===(u=a.html(""))||void 0===u||u.attr("disabled",!0),null!=f&&f.length)?(null==r||r.show(),null==a||a.hide(),n.changeMultiDropDownClass(e),null==r||null===(c=r.html(""))||void 0===c||c.removeAttr("disabled"),null==r||r.append(s.clone()),null==r||r.append(null==f?void 0:f.map((function(t){return'<option _name="'.concat(t.value,'" value="').concat(t.value,'">').concat(t.value,"</option>\n")})))):(null==r||r.hide(),null==a||a.hide())})),r.off("change.multiDropDown").on("change.multiDropDown",(function(){var l,u,c=null===(l=bizShared)||void 0===l?void 0:l.getMultiDropDownLevelData((null==t?void 0:t.input)||"",3,null==i?void 0:i.val(),null==o?void 0:o.val(),null==r?void 0:r.val());null!=c&&c.length?(null==a||a.show(),n.changeMultiDropDownClass(e),null==a||null===(u=a.html(""))||void 0===u||u.removeAttr("disabled"),null==a||a.append(s.clone()),null==a||a.append(null==c?void 0:c.map((function(t){return'<option _name="'.concat(t.value,'" value="').concat(t.value,'">').concat(t.value,"</option>\n")})))):null==a||a.hide()}))}},{key:"initAddress",value:function(t){var e=this.$el.find(".item_".concat(t.id)),n=this.options.lcid;this._initAddress(t,e,n)}},{key:"_initAddress",value:function(t,e,n){var i=e.find(".select_province"),o=e.find(".select_city"),r=e.find(".select_county"),a=e.find(".none_item").eq(0).clone(),s="",l=u("getProvince");function u(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];var r;return 2052!=n&&1028!=n&&(t+="En"),window.site_cityUtil?(r=window.site_cityUtil)[t].apply(r,i):new Promise((function(e){$LAB.script(Fai.top._cityJsLink).wait((function(){var n;e((n=window.site_cityUtil)[t].apply(n,i))}))}))}jzUtils.isPromise(l)?l.then((function(t){t.forEach((function(t){var e="",n="";t.cityInfo?(e=t.cityInfo[0],n=t.cityCode):(e=t.name,n=t.id);var i=u("simpleCityNameStr",e);s+='<option _name="'.concat(e,'" value="').concat(n,'">').concat(i,"</option>\n")})),i.append(s)})):(l.forEach((function(t){var e="",n="";t.cityInfo?(e=t.cityInfo[0],n=t.cityCode):(e=t.name,n=t.id);var i=u("simpleCityNameStr",e);s+='<option _name="'.concat(e,'" value="').concat(n,'">').concat(i,"</option>\n")})),i.append(s)),i.change((function(){var t=u("getCities",i.val());r.html("").attr("disabled",!0),o.html("").removeAttr("disabled"),o.append(a.clone()),o.append(t.map((function(t){return'<option _name="'.concat(t.name,'" value="').concat(t.id,'">').concat(t.name,"</option>\n")})))})),o.change((function(){var t=u("getCounty",o.val());r.html("").removeAttr("disabled"),t.length?(r.show().append(a.clone()),r.append(t.map((function(t){return'<option _name="'.concat(t.name,'" value="').concat(t.id,'">').concat(t.name,"</option>\n")})))):r.hide()}))}},{key:"refreshValidation",value:function(){this.$el.find(".validatecode_img").attr("src","".concat(Site.preprocessUrl({path:"",oldPath:""}),"validateCode.jsp?").concat(parseInt(1e3*Math.random()),"&vCodeId=").concat(this.options.id).concat(this.options.formId))}},{key:"fixLowIePlaceholder",value:function(){(Fai.isIE6()||Fai.isIE7()||Fai.isIE8()||Fai.isIE9())&&(this.$el.find(".fk_lowIEPlaceholderStyle").remove(),this.$el.find("input, textarea").each((function(t,e){var n=$(e),i=n.attr("placeholder");i&&(n.removeAttr("placeholder"),n.defaultValue||n.val(i).addClass("phcolor"),n.focus((function(){n.val()==i&&n.val("")})),n.blur((function(){""==n.val()&&n.val(i).addClass("phcolor")})),n.keydown((function(){n.removeClass("phcolor")})))})))}},{key:"initSubmit",value:function(){var t=this;this.$el.find(".submit .l, .submit .m, .submit .r").click((function(){return t.submit()}))}},{key:"getParamValue",value:function(t,e){var n=new RegExp(e+"=([^&]*)","i");return t.match(n)&&t.match(n)[1]||""}},{key:"getLotteryId",value:function(){var t=Fai.top.location.search;if(Fai.top.location.search.includes("lotteryId")){var e=this.getParamValue(t,"lotteryId"),n=this.getParamValue(t,"phoneNumber");window.history.pushState(null,"",location.origin+location.pathname+location.search.split("lotteryId")[0]),Site.getLotteryInfo(e,n,null,!0),Site.LocalStore.set("_lotteryId",""),Site.LocalStore.set("_phoneNumber","")}var i=this,o={cmd:"getWafNotCk_getFormLotteryByFormId",formId:Fai.top._manageMode?this.module.formData.id:this.options.formId};(Fai.top._manageMode?this.module.formData.associateLottery:this.options.formData.associateLottery)&&$.ajax({type:"GET",url:Site.addRequestPrefix({newPath:"/ajax/lottery_h.jsp",oldPath:Site.genAjaxUrl("lottery_h.jsp")}),data:o,error:function(){},success:function(t){var e=JSON.parse(t);e.success&&(i.module.lotteryId=e.info.id,i.module.lotteryName=e.info.name,i.module.lotteryOpen=e.info.flag,i.module.allowLottery=e.lotterySettingInfo.allowLottery,i.module.isOpenLottery=e.lotterySettingInfo.isOpenLottery,e.info.flag&&e.lotterySettingInfo.allowLottery&&e.lotterySettingInfo.isOpenLottery&&i.$el.find(".form-lottery-20201021-style").css("opacity",1))}})}},{key:"logFormSubmitByJz",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";!1===Fai.top._manageMode&&Site.logJZFdp("jz_c_form_submit",{jz_version:Fai.top.jzVersion,jz_content_terminal:"site",jz_free_text1:t})}},{key:"transformFormItemText",value:function(){var t=this,e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(0===e.length)return"";var n=e.map((function(e){return t.formItemTypeNameArr[e.type]||""})),i=Array.from(new Set(n));return i.join(",")}},{key:"logClueSubmitForm",value:function(t,e){var n,i,o,r=null,a=bizShared,s=a.Clue,l=s.clueKey,u=s.logClueSubmitFormSourceContent,c=a.clueReuqestVm;switch(null===(n=Fai)||void 0===n||null===(i=n.top)||void 0===i?void 0:i._colId){case 2:r=null==l?void 0:l.INDEX;break;case 12:r=null==l?void 0:l.PRODUCT_RESULT}null==c||c.changeSourceContentValue(null==l?void 0:l.SUBMIT_FORM,{expand_content:{infoExtend:t}}),null==c||c.changeSourceContentDataId(null==l?void 0:l.SUBMIT_FORM,null!==(o=null==e?void 0:e.formId)&&void 0!==o?o:0),r?null==c||c.logClueSourceContent(r,null==l?void 0:l.SUBMIT_FORM):u()}},{key:"submit",value:function(){var t=this,e=(this.module.lotteryId,Monitor.startMonitor(MonitorDef.MonitorId.FORM_SUBMIT));new Promise((function(n,i){if(_manageMode)Fai.ing("当前为管理状态，提交无效。",!0);else if(_siteDemo)Fai.ing("当前为“模板网站”，请先“复制网站”再进行提交。",!0);else{if(t.options.permission&&0==t.options.buddyId){var o="".concat(Site.preprocessUrl({path:"",oldPath:""}),"login.jsp?url=").concat(Fai.encodeUrl(Fai.top.location.pathname+Fai.top.location.search));return t.showMsg("".concat(LS.siteFormSubmitNotLogin,'<a href="').concat(o,'">').concat(LS.login,"</a>").concat(LS.period))}if(t.options.isJuly3FreeUser)return Site.logDog(200964,8),void Fai.ing("免费版暂不支持此功能");for(var r=[],a=[],s=t.options.contentList,l=t.$el.find(".form_item"),u=[],c=[],f=0,d=0;d<s.length;d++){var p=s[d];if(!p.hide){var h=l.eq(f);if(f++,h.is(":visible")){if(t.options.openOnlinePay&&1==t.options.payType&&null===t.selectedMap[p.id])return t.showMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty,Fai.encodeHtml(p.name)));var m={id:p.id,type:p.type,must:p.must},v={type:1,value:p.value,key:p.name};switch(p.type){case 0:var g=0,y=100,b={};try{b=$.parseJSON(p.wordLimit)||{}}catch(dt){b={o:0}}1===b.o&&(g=b.i,y=b.a);var _=$.trim(h.find("input").val());if(p.must&&""==_)return t.showMsg(Fai.format(LS.siteFormSubmitInputIsEmpty,Fai.encodeHtml(p.name)));if(_.length>y)return t.showMsg(Fai.format(LS.siteFormSubmitInputMaxLength,Fai.encodeHtml(p.name),y));if(p.must&&_.length<g)return t.showMsg(Fai.format(LS.siteFormSubmitInputMinLength,Fai.encodeHtml(p.name),g));m.val=_||"",v.value=_||"";break;case 1:var w=$.trim(h.find("textarea").val());if(p.must&&""==w)return t.showMsg(Fai.format(LS.siteFormSubmitInputIsEmpty,Fai.encodeHtml(p.name)));if(w.length>1e3)return t.showMsg(Fai.format(LS.siteFormSubmitInputMaxLength,Fai.encodeHtml(p.name),1e3));m.val=w||"",v.value=w||"";break;case 5:break;case 9:var S=$.trim(h.find("input").val());if(p.must&&""==S)return t.showMsg(Fai.format(LS.siteFormSubmitInputIsEmpty,Fai.encodeHtml(p.name)));if(S&&!Fai.isEmail(S))return t.showMsg(Fai.format(LS.memberSignupUserAddItemCorrect,Fai.encodeHtml(p.name)));m.val=S||"",v.value=S||"";break;case 10:var k=$.trim(h.find("input").val());if(p.must&&""==k)return t.showMsg(Fai.format(LS.siteFormSubmitInputIsEmpty,Fai.encodeHtml(p.name)));if(k&&!Fai.isCardNo(k))return t.showMsg(Fai.format(LS.memberSignupUserAddItemCorrect,Fai.encodeHtml(p.name)));m.val=k||"",v.value=k||"";break;case 7:var C=t.uploadPreviewFileListMap.get(p.id).uploadPreviewFileList;if(p.must&&!C.some((function(t){return"success"==t.status})))return t.showMsg(Fai.format(LS.siteFormSubmitCheckHasFileUpload,Fai.encodeHtml(p.name)));C.length?function(){var t=[],e=[];C.forEach((function(n){var i=n._tmpFileId,o=n._tmpFileName,a=n._fileId;n._width,n._height,n._type;r.push({fileId:a,tmpFileId:i,tmpFileName:o}),t.push(a),e.push(o)})),m.val=$.toJSON(t),v.value=e||""}():(m.val="",v.value="");break;case 2:var M=$.trim(h.find("input:checked").val());if(p.must&&""==M)return t.showMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty,Fai.encodeHtml(p.name)));m.val=M,v.value=M||"";break;case 3:var F=Array.from(h.find("input:checked")).map((function(t){return t.value}));if(p.must&&0==F.length)return t.showMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty,Fai.encodeHtml(p.name)));m.val=F.join("\n"),v.value=F.join("\n")||"";break;case 4:var T=$.trim(h.find("select").val());if("none"==T&&(T=""),p.must&&""==T)return t.showMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty,Fai.encodeHtml(p.name)));m.val=T,v.value=T||"";break;case 11:var P=$.trim(h.find(".select_province :checked").attr("_name")),x=$.trim(h.find(".select_city :checked").attr("_name")),I=$.trim(h.find(".select_county :checked").attr("_name"));if(p.must&&(!P||!x))return t.showMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty,Fai.encodeHtml(p.name)));m.val=P+x+I,v.value=P+x+I||"";break;case 12:var O,L,j,A,E,D,B=$.trim(null===(O=h.find(".select_level1 :checked"))||void 0===O?void 0:O.attr("_name")),H=$.trim(null===(L=h.find(".select_level2 :checked"))||void 0===L?void 0:L.attr("_name")),z=$.trim(null===(j=h.find(".select_level3 :checked"))||void 0===j?void 0:j.attr("_name")),N=$.trim(null===(A=h.find(".select_level4 :checked"))||void 0===A?void 0:A.attr("_name")),R=null===(E=bizShared)||void 0===E?void 0:E.getMultiDropDownLevel(p.input),J=null===(D=bizShared)||void 0===D?void 0:D.getMultiDropDownInfo(p.input),U="";if(p.must&&!B)return t.showMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty,Fai.encodeHtml(p.name)));if(U="".concat(B),H&&(U+="-".concat(H)),p.must&&R>1){var q,V=null===(q=bizShared)||void 0===q?void 0:q.getMultiDropDownLevelData(J,1,B);if(null!=V&&V.length&&!H)return t.showMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty,Fai.encodeHtml(p.name)))}if(z&&(U+="-".concat(z)),p.must&&R>2){var W,Y=null===(W=bizShared)||void 0===W?void 0:W.getMultiDropDownLevelData(J,2,B,H);if(null!=Y&&Y.length&&!z)return t.showMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty,Fai.encodeHtml(p.name)))}if(N&&(U+="-".concat(N)),p.must&&R>3){var G,Q=null===(G=bizShared)||void 0===G?void 0:G.getMultiDropDownLevelData(J,3,B,H,z);if(null!=Q&&Q.length&&!N)return t.showMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty,Fai.encodeHtml(p.name)))}m.val=U,v.value=U||"";break;case 8:var Z=h.find("select").val(),X=$.trim(h.find(".phone_number").val()),K=(p.phoneNumberLength||"7-11").split("-"),tt=K[0],et=K[1]||tt,nt=$.trim(h.find(".phone_validate_code").val()),it=p.smsVerify&&module.allowedFormSms&&p.smsImgVerify;if(t.options.phoneNumber=X,p.must&&""==X)return t.showMsg(Fai.format(LS.siteFormSubmitInputIsEmpty,Fai.encodeHtml(p.name)));if(X){if(!Fai.isLimitedRangeNationMobile(X,tt,et))return t.showMsg(Fai.format(LS.site_newMobileNumRegular,K));if("11"===p.phoneNumberLength&&!Fai.isMobile(X))return t.showMsg("手机号码格式有误");if(!Fai.isPhone(X))return t.showMsg("手机号码格式有误")}if(p.must&&it&&""==nt)return t.showMsg(Fai.format(LS.msgBoardInputValidateCode));Z?(m.val=Z+X,v.value=Z+X||""):(m.val=X,v.value=X||""),nt&&u.push({id:p.id,phoneValidateCode:nt});break;case 6:var ot=(p.dateSetting||{}).type||0,rt=$.trim(h.find(".start_time").val()),at=$.trim(h.find(".end_time").val());if(p.must&&""==rt)return t.showMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty,Fai.encodeHtml(p.name)));if(m.val=rt,v.value=rt||"",1==ot){if(p.must&&""==at)return t.showMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty,Fai.encodeHtml(p.name)));m.val+=" 至 ".concat(at),v.value+=" 至 ".concat(at)}}a.push(m),c.push(v)}}}var st="";if(t.options.validation){var lt=t.$el.find(".item_ValidateCode_wrap");if(""==(st=$.trim(lt.find("input").val())))return t.showMsg(Fai.format(LS.siteFormSubmitInputIsEmpty,lt.find(".title").text()))}if(t.options.openOnlinePay&&1==t.options.payType){var ut=Number(t.$el.find(".pay_price").text());if(isNaN(ut)||ut<=0)return t.showMsg("支付金额有误，请联系管理员");if(ut>99999999)return t.showMsg("支付金额过大，请联系管理员")}if(t.options.allowFormProtocol&&t.options.isOpenFormProtocol&&!t.$el.find(".form_protocol input[type=checkbox]").prop("checked"))t.showMsg("".concat(LS.read_and_agree).concat(t.options.formProtocolTitle));else if(!t.isReCommit){t.isReCommit=!0,t.showMsg(LS.siteFormSubmitIng);var ct=document.location.href;ct.length>500&&(ct=ct.substring(0,500)),Fai.top.pageName.endsWith(" - ")&&(Fai.top.pageName=Fai.top.pageName.substring(0,Fai.top.pageName.lastIndexOf(" - ")));var ft={pageUrl:ct,pageName:"电脑网站-"+Fai.top.pageName};$.ajax({type:"post",url:Site.addRequestPrefix({newPath:"/ajax/siteForm_h.jsp",oldPath:Site.genAjaxUrl("siteForm_h.jsp")}),data:"cmd=addWafCk_addSubmit&formId=".concat(t.options.formId,"&submitContentList=").concat(Fai.encodeUrl($.toJSON(a)),"&vCodeId=").concat(t.options.moduleId).concat(t.options.formId,"&validateCode=").concat(st,"&tmpFileList=").concat(Fai.encodeUrl($.toJSON(r)),"&submitOrigin=").concat(Fai.encodeUrl($.toJSON(ft)),"&phoneValidateCodes=").concat(Fai.encodeUrl($.toJSON(u))),error:function(n){i(),t.isReCommit=!1;var o=Site.getDialogContent(!1,Fai.format(LS.siteFormSubmitError));Site.popupBox({htmlContent:o,width:205,height:78}),e(!1,n)},success:function(o){if(t.isReCommit=!1,(o=JSON.parse(o)).success){if(t.logFormSubmitByJz(t.transformFormItemText(s)),t.logClueSubmitForm(c,t.options),n(),t.options.openOnlinePay&&t.options.allowOnlinePay){if(Site.logDog(201217,5),t.handleOnlinePayVer2(o),t.module.lotteryOpen&&t.module.allowLottery){var r=t.options.phoneNumber,a=t.module.lotteryId;Site.LocalStore.set("_lotteryId",a),Site.LocalStore.set("_phoneNumber",r)}return void e()}t.checkLottery(),e()}else{if(i(),o.hasFW)return t.showMsg(o.msg);if(-4==o.rt)return t.showMsg(LS.siteFormSubmitCountLimit);if(-7==o.rt)return t.showMsg(LS.siteImgFull);if(-8==o.rt)return Fai.ing(o.msg,!0),void t.hideMsg();if(-20==o.rt)return t.showMsg(o.msg);if(-401==o.rt)return t.refreshValidation(),t.$el.find(".item_validatecode input").val(""),t.showMsg(LS.siteFormSubmitValidateCodeErr);if(-302==o.rt)return t.showMsg(LS.siteFormSubmitNotLogin+LS.login+LS.period);if(-601==o.rt)return t.showMsg(o.msg);if(-28==o.rt){t.hideMsg();var l=[];l.push("<div style='width: 80px; height:80px; border-radius:50%; border: 4px solid gray; border: 4px solid gray; margin: 0 auto; padding: 0; position: relative; top:25px; box-sizing: content-box; border-color: #F8BB86;'>"),l.push("<div style='animation: pulseWarningIns 0.75s infinite alternate; -webkit-animation: pulseWarningIns 0.75s infinite alternate;'>"),l.push("<span style='position: absolute; width: 5px; height: 47px; left: 50%; top: 10px; webkit-border-radius: 2px; border-radius: 2px; margin-left: -2px; background-color: #F8BB86;'></span>"),l.push("<span style='position: absolute; width: 7px; height: 7px; -webkit-border-radius: 50%; border-radius: 50%; margin-left: -3px; left: 50%; bottom: 10px; background-color: #F8BB86;'></span>"),l.push("</div>"),l.push("</div>"),l.push("<div style='color:#333; font-size:16px; padding-top: 48px; text-align:center;'>"+LS.hasSubmitThisSiteForm+"</div>"),Site.popupBox({htmlContent:l.join(""),width:367,height:225}),setTimeout((function(){document.location.reload()}),2e3)}else{if(-1e3==o.rt)return t.showMsg(o.msg);if(-2==o.rt){var u=s.find((function(t){return t.id==o.id}))||{};return t.showMsg((u.name||"")+"："+o.msg)}if(-303==o.rt||-304==o.rt)return Fai.ing(o.msg,!0),void t.hideMsg();e(!1,JSON.stringify(o)),t.hideMsg();var f=Site.getDialogContent(!1,Fai.format(LS.siteFormSubmitError));Site.popupBox({htmlContent:f,width:205,height:78})}if(o.needCode)return t.$el.find(".item_ValidateCode_wrap").show(),t.showMsg(o.msg)}}})}}}))}},{key:"openSuccessPopup",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3e3;console.log(this.options),this.hideMsg();var e=[],n=Fai.encodeHtml(this.options.formData.other.submitSuccessTips);this.options.showForm&&this.options.buddyId&&(n=this.options.siteOpenFormSubmitOk),e.push("<div class='voteSuccessPanel sweet-alert' style='margin-top:20px; height:180px;padding: 0 20px 20px 20px;'>"),e.push("       <div class='sa-icon sa-success animate' style='margin-top:0;'>"),e.push("           <span class='sa-line sa-tip animateSuccessTip'></span>"),e.push("           <span class='sa-line sa-long animateSuccessLong'></span>"),e.push("           <div class='sa-placeholder'></div>"),e.push("           <div class='sa-fix'></div>"),e.push("       </div>"),e.push("       <div class='voteSuccessTitle'>"+n+"</div>"),e.push("</div>"),Site.popupBox({htmlContent:e.join(""),width:407,height:265,autoClose:t}),$(".formBox").css("position","fixed").css("top","50%").css("marginTop","-112px").css("left","50%").css("marginLeft","-180px")}},{key:"handleSubmitSuccess",value:function(){var t=this;this.openSuccessPopup(),setTimeout((function(){var e=t.options.jumpToUrl,n=e.includes("Site.fileDownload");1===t.options.openType?(window.open(e),location.href=""):location.href=e||"",n&&setTimeout((function(){document.location.reload()}),1e3)}),3e3)}},{key:"handleOnLinePay",value:function(t){var e=this,n=t.id,i={cmd:"getWafNotCk_getNativePayUrl",formId:this.options.formId,siteFormSubmitId:n};$.ajax({type:"post",url:Site.addRequestPrefix({newPath:"/ajax/siteForm_h.jsp",oldPath:Site.genAjaxUrl("siteForm_h.jsp")}),data:i,error:function(){var t=Site.getDialogContent(!1,Fai.format(LS.siteFormSubmitError));Site.popupBox({htmlContent:t,width:205,height:78})},success:function(t){var i=JSON.parse(t);if(i.success&&17==i.payMode)Site.logDog(201217,6),e.showQrcode(i.url),e.payTimer=setInterval(e.checkPayStatus(n),1e3);else{var o=Site.getDialogContent(!1,Fai.format(LS.siteFormSubmitError));Site.popupBox({htmlContent:o,width:205,height:78})}}})}},{key:"handleOnlinePayVer2",value:function(t){var e=this,n=t.id;Site.payUtils.openSitePay({closeFunc:function(){e.hideMsg()},handleOnlinePayUrl:function(t){var i=t.payMode;e.getOnlinePayUrl({submitId:n,payMode:i})}})}},{key:"handleWxPay",value:function(t,e,n){var i=this;Site.payUtils.showWeChatPay({url:e.url,payMode:n,closeFunc:function(){Site.logDog(201217,7),clearInterval(i.payTimer),i.hideMsg()}}),this.payTimer=setInterval(this.checkPayStatus(t),1e3)}},{key:"handleAliPay",value:function(t,e){var n=Fai.decodeHtml(e.payForm),i=Site.payUtils.BSSTYPE_FORM,o=t,r=Fai.top.location,a=r.search;""!=this.options.jumpToUrl&&(window.sessionStorage.setItem("jumpToUrl",this.options.jumpToUrl),a=""==a?"?jumpFormId="+t:a+"&jumpFormId="+t);var s=Site.LocalStore.get("_lotteryId"),l=Site.LocalStore.get("_phoneNumber");s&&(""==a?a="?lotteryId=".concat(s,"&phoneNumber=").concat(l):a+="&lotteryId=".concat(s,"&phoneNumber=").concat(l));var u=r.pathname.split("/").filter((function(t){return t!=window._curLanCode})).join("/")+a+r.hash;Site.payUtils.showAliPay({bssType:i,bssId:o,payForm:n,url:u})}},{key:"getOnlinePayUrl",value:function(t){var e=t.submitId,n=t.payMode,i={cmd:"getWafNotCk_getNativePayUrl",formId:this.options.formId,siteFormSubmitId:e,payMode:n},o=this;$.ajax({type:"post",url:Site.addRequestPrefix({newPath:"/ajax/siteForm_h.jsp",oldPath:Site.genAjaxUrl("siteForm_h.jsp")}),data:i,error:function(){var t=Site.getDialogContent(!1,Fai.format(LS.siteFormSubmitError));Site.popupBox({htmlContent:t,width:205,height:78})},success:function(t){var i=jQuery.parseJSON(t);if(i.success)n==Site.payUtils.PAYMODE_WECHAT||n==Site.payUtils.PAYMODE_FAI_WECHAT?o.handleWxPay(e,i,n):n==Site.payUtils.PAYMODE_ALIPAY&&o.handleAliPay(e,i),Site.logDog(201217,6);else{var r=Fai.format(LS.siteFormSubmitError);""!=i.errMsg&&null!=i.errMsg&&(r=i.errMsg),Site.AlertWarmTip({tip:r}),o.hideMsg()}}})}},{key:"checkLottery",value:function(){var t=this;if(this.module.lotteryOpen&&this.module.allowLottery){$(".popupZoneAreaClose").click();var e=this.options.phoneNumber,n=this.module.lotteryId,i=Fai.top.location.search.includes("?")?Fai.top.location.href+"&lotteryId=".concat(n,"&phoneNumber=").concat(e):Fai.top.location.href+"?lotteryId=".concat(n,"&phoneNumber=").concat(e),o="login.jsp?url=".concat(Fai.encodeUrl(i));if(n){var r=0==this.options.buddyId;this.openSuccessPopup(2e3),setTimeout((function(){Site.getLotteryInfo(n,e,r?o:null,true),t.hideMsg()}),2e3)}else this.handleSubmitSuccess()}else this.handleSubmitSuccess()}},{key:"checkPayStatus",value:function(t){var e=this;return function(){var n={cmd:"wafNotCk_checkSiteFormSubmitStatue",siteFormSubmitId:t};$.ajax({type:"post",url:Site.addRequestPrefix({newPath:"/ajax/siteForm_h.jsp",oldPath:Site.genAjaxUrl("siteForm_h.jsp")}),data:n,error:function(){Fai.top.ing("网络错误")},success:function(t){JSON.parse(t).success&&(Site.logDog(201217,8),clearInterval(e.payTimer),Fai.top.$("html").css("overflow",""),Fai.top.$("#formPayCodeBox").remove(),e.hideMsg(),e.checkLottery())}})}}},{key:"showQrcode",value:function(t,e){var n=this,i="";i=e==Site.payUtils.PAYMODE_FAI_WECHAT?t:"/qrCode.jsp?cmd=wxPayQrCode&&url=".concat(t);var o='\n\t\t\t<div id="formPayCodeBox" class="site_form_pay_wrap">\n\t\t\t\t<div class="form_pay_qrcode" style="width: '.concat(860,"px; height: ").concat(550,'px;">\n\t\t\t\t\t<div class="form_pay_qrcode_top">\n\t\t\t\t\t\t<div id="siteFormClosePay" class="site_form_close"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="wxpay_content">\n\t\t\t\t\t\t<div class="wxpay_QrCode_box">\n\t\t\t\t\t\t\t<p class="wxpay_QrCode_title">微信支付</p>\n\t\t\t\t\t\t\t<div class="wxpay_QrCode_imgBox">\n\t\t\t\t\t\t\t\t<img class="wxpay_QrCode_img" src="').concat(i,'">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="wxpay_QrCode_tipBox">\n\t\t\t\t\t\t\t\t<div class="wxpay_QrCode_tipImg"></div>\n\t\t\t\t\t\t\t\t<div class="wxpayQrCodeText">\n\t\t\t\t\t\t\t\t\t请使用微信扫一扫<br>扫描二维码支付\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="wx_guard_img"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t');Fai.top.$(o).appendTo("body"),Fai.top.$("html").css("overflow","hidden"),Fai.top.$("#siteFormClosePay").click((function(){Site.logDog(201217,7),Fai.top.$("html").css("overflow",""),Fai.top.$("#formPayCodeBox").remove(),clearInterval(n.payTimer),n.hideMsg()}))}},{key:"initFormProtocol",value:function(){var t=this,e=this.$el.find(".form_protocol_title");if(e.length){var n=Fai.getLanCode(),i=n.length?"/".concat(n,"/"):"/";e.click((function(){window.open("".concat(i,"viewFormProtocol.jsp?formId=").concat(Fai.top._manageMode?t.module.formData.id:t.options.formId))}));var o=this.$el.find(".form_protocol_text");o.length&&o.click((function(){var e=t.$el.find(".form_protocol input[type=checkbox]");$(e).prop("checked",!$(e).prop("checked"))}))}}}]),SiteFormModule}(SiteModule)}).call(this,__webpack_require__(12)(module))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";n.r(e),n.d(e,"getServerTime",(function(){return r}));var i=n(9),o=n.n(i);function r(){return o.a.get("/ajax/siteForm_h.jsp?cmd=getWafNotCk_getServerTime").then((function(t){var e=t.data;return void 0===e?{}:e}))}},function(t,e,n){function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(c,t);var e,n,l,u=s(c);function c(){return o(this,c),u.apply(this,arguments)}return e=c,n=[{key:"init",value:function(){var t=this;this.initData();var e=this.isBaiduMap?this.BAI_DU_SCRIPT:this.GOOGLE_SCRIPT,n=Site.checkScriptLoad(e);c.onlineMapCallBackStack&&c.onlineMapCallBackStack.push((function(){return t.initMapJs()})),this.isBaiduMap?$("#onlineMapApi").length?Site.checkScriptLoad("".concat(this.BAI_DU_SCRIPT,"&callback=onlineMapCallBack"))&&c.finishCallBack&&this.initMapJs():this.asyncLoadBaiduScript("onlineMapCallBack"):n?this.initMapJs():$(window).load((function(){Site.demandLoadJs(e,(function(){return t.initMapJs()}))}))}},{key:"asyncLoadBaiduScript",value:function(t){var e=document.createElement("script"),n="".concat(this.BAI_DU_SCRIPT,"&callback=").concat(t);e.src=n,e.id="onlineMapApi",e.charset="utf-8",document.body.appendChild(e)}},{key:"getMapBdPos",value:function(){return this.module.prop1}},{key:"getMapInfo",value:function(){return this.module.prop3}},{key:"getType",value:function(){return this.module.prop4}},{key:"getMapGooglePos",value:function(){return this.module.prop5}},{key:"getMultiAddress",value:function(){return this.module.blob0.multiAddress}},{key:"getBdStyle",value:function(){return this.module.blob0.bds}},{key:"initData",value:function(){var t=window._aid%2==0?"AIzaSyCrzw0afo1TMqSOj32BesqUEoWU16EuH6k":"AIzaSyAPCtjvzxk3LKfIlLG164mw2jD-Slt3gK8";this.BAI_DU_SCRIPT="//api.map.baidu.com/api?v=2.0&ak=BPPrdn0rN6iz2l1o97PohYt2Q7aOT9lW",this.GOOGLE_SCRIPT="//maps.googleapis.com/maps/api/js?key=".concat(t,"&language=en-US"),this.BAI_DU_TYPE=1,this.GOOGLE_TYPE=2,this.isBaiduMap=(void 0===this.getType()?1:this.getType())==this.BAI_DU_TYPE,this.baiduContainerId=this.options.baiduContainerId||"baidu_map_"+this.moduleId,this.googleContainerId=this.options.googleContainerId||"google_map_"+this.moduleId}},{key:"initMapJs",value:function(){this.isBaiduMap?(c.ComplexCustomOverlay||(c.ComplexCustomOverlay=this.addComplexCustomOverlay()),this.initBaiDuMap(),this.initVisitModeEvent()):this.googleMapInitial()}},{key:"initBaiDuMap",value:function(){var t,e=this.baiduContainerId,n=(this.getMapBdPos(),this.getMapInfo(),this.getMultiAddress()),i=this.getBdStyle(),o=this;(t=this.map=new BMap.Map(e)).enablePinchToZoom(),t.enableDoubleClickZoom(),Fai.top._manageMode||t.enableScrollWheelZoom(!0);var r=new BMap.NavigationControl({anchor:BMAP_ANCHOR_TOP_RIGHT});t.addControl(r),this.refreshMarker(),1!=i?o.fixAddEventListener(t,"tilesloaded",(function a(){var e=$("#"+o.baiduContainerId),i=e.find(".map_msg_box"),r=i.offset(),s=e.offset();if(s.top-r.top>=18||s.left-r.left>=18||s.left+e.width()+18<r.left+i.innerWidth()){var l,u,c,f=[];n.forEach((function(t){f.push(new BMap.Point(t.x,t.y))})),u=(l=t.getViewport(f)).zoom,c=l.center,t.centerAndZoom(c,u-1)}t.removeEventListener("tilesloaded",a)})):o.fixAddEventListener(t,"tilesloaded",(function s(){var e,n,i,r,a=$("#module"+o.moduleId),l=a.find(".multi_panel"),u=a.find(".map_msg_box");l.length<1||u.length<1||(e=u.offset(),n=l.offset(),i=l.width(),(r=n.left+i-e.left)>0&&o.map.panBy(r,0,{noAnimation:"none"}),t.removeEventListener("tilesloaded",s))}))}},{key:"refreshMarker",value:function(t,e,n){var i,o,r,a=this.baiduContainerId,s=(t||this.getMapBdPos(),e||this.getMapInfo(),this.getBdStyle()),l=this.getMultiAddress(),u=1==s,f=l.length>1&&!u,d={anchor:new BMap.Size(10,25)},p=this;(i=this.map).clearOverlays(),o=new BMap.Point(l[0].x,l[0].y);for(var h=[],m=[],v=0;v<l.length;v++){var g,y,b,_=new BMap.Point(l[v].x,l[v].y);if(u&&v>0)break;m.push(_),f&&(d.imageOffset=new BMap.Size(-5-34*v,-4)),g=new BMap.Icon(Fai.top._resRoot+"/image/onlineMap/"+(f?"multi_icon":"multi_only")+".png?v=201809101152",new BMap.Size(24,29),d),y=new BMap.Marker(_,{icon:g});var w="";l[v].an&&(w+='<div class="address_name">'+Fai.encodeHtml(l[v].an)+"</div>"),l[v].da&&(w+='<div class="address_detail address_other_word">'+Fai.encodeHtml(l[v].da)+"</div>"),l[v].oi&&(w+='<div class="address_other_info address_other_word">'+Fai.encodeHtml(l[v].oi)+"</div>"),h[v]=b=new c.ComplexCustomOverlay({point:_,content:'<div class="map_msg_box__msg">'+w+"</div>",boxClass:"map_msg_box J_msg_box__"+v,arrowClass:"map_msg_box__arrow",zIndex:1,offset:{x:0,y:-35}}),i.addOverlay(y),0==v&&i.addOverlay(b),function(t,e,n,o){p.fixAddEventListener(n,"click",(function(r){h.forEach((function(e,n){n!=t&&i.removeOverlay(e)})),i.addOverlay(e),i.addOverlay(n),i.panTo(o)}))}(v,b,y,_)}if(p.fixAddEventListener(i,"resize",(function(){k()})),r=$("#"+a),this.initMapEvent(i,r,void 0,o,void 0),l.length>1&&!u)this.setZoom(m,i);else{var S=new BMap.Point(l[0].x,l[0].y);i.centerAndZoom(S,l[0].z)}function k(){var t,e,n,o,r,a,s=$("#"+p.baiduContainerId),u=[];if(1!==p.getBdStyle())l.forEach((function(t){u.push(new BMap.Point(t.x,t.y))})),a=(o=i.getViewport(u)).center,r=o.zoom,i.centerAndZoom(a,r);else{u.push(new BMap.Point(l[0].x,l[0].y)),a=(o=i.getViewport(u)).center,r=o.zoom,i.centerAndZoom(a,r),e=(t=s.find(".map_msg_box")).offset();var c=s.parent().find(".multi_panel"),f=c.offset(),d=c.width(),h=f.left+d-e.left;h>0&&p.map.panBy(h,0,{noAnimation:"none"})}e=(t=s.find(".map_msg_box")).offset(),((n=s.offset()).top-e.top>=18||n.left-e.left>=18||n.left+s.width()+18<e.left+t.innerWidth())&&i.centerAndZoom(a,r-1),i.removeEventListener("tilesloaded",k)}n&&n.fixMsgZoom&&p.fixAddEventListener(i,"tilesloaded",k)}},{key:"initVisitModeEvent",value:function(){if(!Fai.top._manageMode&&1==this.getType()){var t=$("#module"+this.moduleId).find(".multi_panel"),e=1==this.getBdStyle(),n=this.getMultiAddress(),i=this;t.off("click.panel",".multi__item"),e&&t.on("click.panel",".multi__item",(function(t){var e=$(this).attr("index");i.moveToThisPoint(n[parseInt(e)]),$(this).addClass("multi_item__select").siblings(".multi_item__select").removeClass("multi_item__select")}))}}},{key:"moveToThisPoint",value:function(t){var e,n,i,o,r=new BMap.Point(t.x,t.y);this.baiduContainerId,(e=this.map).clearOverlays(),n=new BMap.Icon(Fai.top._resRoot+"/image/onlineMap/multi_only.png?v=201809101152",new BMap.Size(24,29),{anchor:new BMap.Size(10,25)}),i=new BMap.Marker(r,{icon:n});var a="";t.an&&(a+='<div class="address_name">'+Fai.encodeHtml(t.an)+"</div>"),t.da&&(a+='<div class="address_detail address_other_word">'+Fai.encodeHtml(t.da)+"</div>"),t.oi&&(a+='<div class="address_other_info address_other_word">'+Fai.encodeHtml(t.oi)+"</div>"),o=new c.ComplexCustomOverlay({point:r,content:'<div class="map_msg_box__msg">'+a+"</div>",boxClass:"map_msg_box",arrowClass:"map_msg_box__arrow",zIndex:1,offset:{x:0,y:-35}}),e.addOverlay(i),e.addOverlay(o),e.panTo(r,{noAnimation:"none"}),this.setZoom([r],e,e.getZoom());var s,l,u,f,d=$("#module"+this.moduleId),p=d.find(".multi_panel"),h=d.find(".map_msg_box");p.length<1||h.length<1||(s=h.offset(),l=p.offset(),u=p.width(),(f=l.left+u-s.left)>0&&this.map.panBy(f,0,{noAnimation:"none"}))}},{key:"setZoom",value:function(t,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:-1,i=e.getViewport(t),o=i.zoom,r=i.center;e.centerAndZoom(r,n>0?n:o)}},{key:"updataGoogleInfo",value:function(t,e,n){try{var i=e||this.getMapInfo(),o=new google.maps.LatLng(t.x,t.y);this.g_infoWin.close(this.googleMap,this.marker),this.g_infoWin=new google.maps.InfoWindow({content:Fai.encodeHtml(i),width:"auto",height:"auto"}),this.g_infoWin.open(this.googleMap,this.marker),this.marker.setPosition(o)}catch(r){}}},{key:"googleMapInitial",value:function(){var t,e,n,i,o,r,a,s=this.googleContainerId,l=document.getElementById(s),u=this.getMapGooglePos(),c=this.getMapInfo(),f=u.x,d=u.y,p=window.google;p&&p.maps&&p.maps.LatLng?(i=new google.maps.LatLng(f,d),o=new google.maps.LatLng(f,d),r={draggable:!0,zoom:u.z,streetViewControl:!1,center:i,scaleControl:!0,mapTypeId:google.maps.MapTypeId.ROADMAP},this.googleMap=t=new google.maps.Map(l,r),a={map:t,position:o,animation:google.maps.Animation.DROP,draggable:!0},this.marker=e=new google.maps.Marker(a),e.setMap(t),this.g_infoWin=n=new google.maps.InfoWindow({content:Fai.encodeHtml(c),width:"auto",height:"auto"}),n.open(t,e),this.initGoogleMapEvent($(l)),Site.logJZFdp("jz_google_maps",{jz_content_terminal:"site",free_bool_1:!1,jz_free_bool2:!Fai.top._manageMode})):Fai.ing("当前谷歌地图在中国区已经被屏蔽",!0)}},{key:"doGoogleSearch",value:function(t,e){var n=this.googleMap,i=this.marker,o=(i.getPosition(),n.getCenter(),e.p),r=e.a,a=new google.maps.Geocoder,s=o+r;a.geocode({address:s},(function(t,e){if(e==google.maps.GeocoderStatus.OK){var o=(t=t[0]).geometry.viewport;n.fitBounds(o),i.setPosition(t.geometry.location),i.setTitle(r)}}))}},{key:"centerPoint",value:function(){var t=this.conf.mapPos,e=new BMap.Point(t.x,t.y);this.map.centerAndZoom(e,t.z)}},{key:"initMapEvent",value:function(t,e,n,i,o){var r=this;Fai.top._manageMode&&e.on("mousedown",(function(t){t.stopPropagation()})),r.fixAddEventListener(t,"click",(function(e){e.overlay&&r.fixAddEventListener(e.overlay,"infowindowopen",(function(e){t.removeOverlay(o)}))}))}},{key:"initGoogleMapEvent",value:function(t){Fai.top._manageMode&&t.on("mousedown",(function(t){t.stopPropagation()}))}},{key:"loadMapFailure",value:function(t,e){var n="<div class='mapLoadError'><div class='errormsg'>地图加载失败</div><div class='errName'>"+e+"</div></div>";$("#"+t).html(n)}},{key:"addComplexCustomOverlay",value:function(){var t=this;function e(t){this.point=t.point,this.content=t.content||"",this.zIndex=t.zIndex||1,this.boxClass=t.boxClass||"",this.boxStyle=r(t.boxStyle),this.arrowClass=t.arrowClass||"",this.arrowStyle=r(t.arrowStyle),this.offset=t.offset||{x:0,y:0}}function n(t){if(t.map)try{var e=t.map.pointToOverlayPixel(t.point);t.box.style.left=e.x-parseInt($(t.box).width())/2-(parseInt(o(t.box,"padding-left"))+parseInt(o(t.box,"padding-right")))/2+t.offset.x+"px",t.box.style.bottom=-e.y+parseInt(o(t.arrow,"height"))-t.offset.y+"px",t.arrow.style.left=parseInt($(t.box).width())/2+10+"px"}catch(n){}}function o(t,e){if("undefined"!=typeof getComputedStyle){var n=getComputedStyle(t,null).getPropertyValue(e);return"opacity"==e?100*n:n}if("undefined"!=typeof t.currentStyle)return"opacity"==e?Number(t.currentStyle.getAttribute("filter").match(/(?:opacity[=:])(\d+)/)[1]):t.currentStyle.getAttribute(e)}function r(t){var e="";if("string"==typeof t)e=t;else if("object"==i(t))for(var n in t)e+=n+":"+t[n]+";";return e}return e.prototype=new BMap.Overlay,e.prototype.initialize=function(t){return this.map=t,this.box=document.createElement("div"),this.box.className=this.boxClass,this.box.style.cssText=this.boxStyle,this.box.innerHTML=this.content,this.close=document.createElement("div"),this.close.className="close",this.arrow=document.createElement("div"),this.arrow.className=this.arrowClass,this.arrow.style.cssText=this.arrowStyle,this.box.appendChild(this.arrow),this.box.appendChild(this.close),t.getPanes().labelPane.appendChild(this.box),this.boxWidth=o(this.box,"width"),this.initDefaultEvent(t),this.box},e.prototype.addEventListener=function(e,n){t.fixAddEventListener(this.box,e,n)},e.prototype.initDefaultEvent=function(e){var n=this;t.fixAddEventListener(this,"mousedown",(function(t){t.stopPropagation()})),t.fixAddEventListener(this,"click",(function(t){t.stopPropagation()})),t.fixAddEventListener(this,"touchmove",(function(t){t.stopPropagation()})),t.fixAddEventListener(this,"touchstart",(function(t){-1!=t.target.getAttribute("class").indexOf("close")&&e.removeOverlay(n)})),t.fixAddEventListener(this,"mousedown",(function(t){-1!=t.target.getAttribute("class").indexOf("close")&&e.removeOverlay(n)}))},e.prototype.draw=function(){n(this)},e.prototype.hide=function(){this.box.style.display="none"},e.prototype.reDraw=function(){n(this)},e}},{key:"fixAddEventListener",value:function(t,e,n){t.addEventListener?t.addEventListener(e,n):t.attachEvent&&t.attachEvent(e,n)}}],n&&r(e.prototype,n),l&&r(e,l),Object.defineProperty(e,"prototype",{writable:!1}),c}(n(0));c.onlineMapCallBackStack=[],c.finishCallBack=!1,t.exports=c},function(t,e,n){function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}var c=n(0),f=n(7);t.exports=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(u,t);var e,n,i,l=s(u);function u(){return o(this,u),l.apply(this,arguments)}return e=u,(n=[{key:"init",value:function(){f.init(this.moduleId)}}])&&r(e.prototype,n),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),u}(c)},function(t,e,n){function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}var c=n(0),f=n(7),d=n(17),p=function(t,e){var n="",i=e.projectInfo,o=i.itemList,r=i.funcSetting.itemList;return(t?r:o).filter((function(t){var e=t.isShow;return t.s||e})).forEach((function(e){var i=e.type;n+=" "+function(t,e){var n="";if(e){switch(t){case 1:n="单选按钮";break;case 2:n="多选按钮";break;case 3:n="下拉选项";break;case 4:n="图片";break;default:n="单行文本"}return n}switch(t){case 0:n="单行文本";break;case 1:n="多行文本";break;case 2:n="单选按钮";break;case 3:n="多选按钮";break;case 4:n="下拉列表";break;case 6:n="日期选项";break;case 8:n="手机认证";break;case 9:n="邮箱认证";break;case 10:n="身份认证";break;case 11:n="省市县区";break;default:n="-"}return n}(i,t)})),n};t.exports=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(u,t);var e,n,i,l=s(u);function u(){return o(this,u),l.apply(this,arguments)}return e=u,i=[{key:"gotoLogin",value:function(t){var e=$(t).attr("href");e||(e="/");var n=encodeURIComponent(window.location.href);window.location.href="".concat(e,"?url=").concat(n)}}],(n=[{key:"init",value:function(){var t,e,n;f.init(this.moduleId,!0),new d(this.moduleId);var i=jzModule.SiteModule.find(this.moduleId).options.initalState,o=null!==(t=null==i||null===(e=i.projectInfo)||void 0===e?void 0:e.funcType)&&void 0!==t?t:0;Site.logJZFdp("jz_query_result_view",{jz_content_terminal:"site",jz_free_bool1:Boolean((null==i||null===(n=i.resultData)||void 0===n?void 0:n.length)>0),jz_free_text1:o?"表单查询":"信息查询",jz_free_text2:p(o,i)})}}])&&r(e.prototype,n),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),u}(c)},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vm=null,this.init(e)}var e,i,o;return e=t,(i=[{key:"init",value:function(t){var e=$("#module"+t);e.find(".j_previewCustomSearchImg").length<1||e.find(".m_custom_search_result--table").each((function(e,n){var i=$(n).find(".j_previewCustomSearchImg"),o=$(this).index(),r=[];i.each((function(t,e){var n={};n.src=$(e).data("path"),n.title=$(e).data("name"),n.id=$(e).data("id"),r.push(n)})),i.off("click.img").on("click.img",(function(e){e.preventDefault();var n=0,i=$(this).data("id");r.forEach((function(t,e){t.id===i&&(n=e)})),Site.slideshowView({id:"".concat(t).concat(o),previewSrcList:r,initialIndex:n,logEventConfig:{event:"jz_hdpzj",properties:{jz_content_terminal:"site-在线查询结果",jz_version:Fai.top.jzVersion}}})}))}))}},{key:"create",value:function(t){var e=t.$dom.data(),n=e.download,i=e.name,o=e.path,r='\n                <div id=\'j_previewImgPopup\'>\n                    <div class="p_preview_imgwrap">\n                        <img class="p_preview_img" src="'.concat(o,'" :alt="').concat(i,'">\n                        <div class="p_preview_download">').concat(i,'\n                            <a \n                                target="_self" href="').concat(n,'"\n                                class="p_preview_dowanbtn"\n                            >下载</a>\n                            <svg class="p_preview_closebtn j_previewClose">\n                                <use xlink:href="#icon_close2"></use>\n                            </svg>\n                        </div>\n                    </div>\n                </div>\n            '),a=null;$("body").append(r),(a=$("#j_previewImgPopup")).find(".j_previewClose").off("click.close").on("click.close",(function(t){t.preventDefault(),a.remove(),a=null}))}}])&&n(e.prototype,i),o&&n(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}var c=n(0),f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(u,t);var e,n,i,l=s(u);function u(){return o(this,u),l.apply(this,arguments)}return e=u,n=[{key:"init",value:function(){var t=this;Fai.top._manageMode?$((function(){return Site.setModuleHeight2(t.moduleId,t.$module.height())})):Site.setModuleHeight2(this.moduleId,this.$module.height());var e=this.$module.find(".title_list"),n=this.$module.find(".tab_list"),i="click.changeTab";e.off(i).on(i,".item",(function(i){var o=e.find(".item"),r=n.find(".item"),a=$(i.currentTarget),s=o.filter(".formTabButtonHover"),l=r.filter(".formTabCntIdHover"),u=r.eq(o.index(a));a.hasClass("formTabButtonHover")||(t.removeActiveClass(s,l),t.addActiveClass(a,u),jzModule.NewsListModule.compatDot(u),t.actionForVideo(l,u),t.triggerModuleAnimation(),t.triggerScroll(),t.resetXPackModuleAutoHeight(),t.isCustomHeight()&&(t.setCustomHeight(),Site.fixSiteWidth(Fai.top._manageMode),Fai.top._manageMode&&(Site.removeMoveFrame("module"+t.moduleId),Site.addMoveFrame("module"+t.moduleId),Site.refreshResizableHandles($("#module"+t.moduleId)))))}));var o="mouseenter.changeTab";e.off(o).on(o,".item",(function(e){t.getTabSwitchWay()||$(e.currentTarget).click()})),this.initGroupPageArrow()}},{key:"isDirectionY",value:function(){return this.getFlag(4)}},{key:"getTabSwitchWay",value:function(){return this.getFlag(8)}},{key:"isCustomHeight",value:function(){return this.getFlag(16)}},{key:"getGroupPageArrow",value:function(){return this.pattern.gpa}},{key:"setCustomHeight",value:function(){var t=this.$module,e=t.find(".formMiddle"),n=t.find(".formMiddleContent"),i=t.find(".formTab"),o=t.find(".formTabContent"),r=t.find(".formTabCntId");t.css("height","auto"),e.css("height",""),n.css("height",""),i.css("height",""),o.css("height",""),r.css("height","")}},{key:"setTabPackContentHeight",value:function(){this.$module.find(".formTabCntId").each((function(){var t=$(this).find(".J_tabPackContent"),e=Site.getModuleAutoHeight(t);t.height(e)}))}},{key:"initGroupPageArrow",value:function(){if(this.isDirectionY()&&1==this.getGroupPageArrow().y){var t=this.getGroupPageArrow().bc;jzModule.TabModule.tabDirectionY.initArrowIfNotEnough(this.moduleId,t)}}},{key:"actionForVideo",value:function(t){for(var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:t,n=Array.from(t.find("video:not([autoplay])")),i=0,o=n;i<o.length;i++)video=o[i],video.paused||video.pause();this.bindLazyLoadForVideo(e)}},{key:"bindLazyLoadForVideo",value:function(t){var e=-1;t.find(".formStyle36").each((function(t,n){(e="new-video-".concat($(n).attr("_moduleid")))&&!$("#".concat(e)).attr("src")&&Site.videoLazyLoadBind(e)}))}},{key:"triggerModuleAnimation",value:function(){}},{key:"triggerScroll",value:function(){jzUtils.run({name:"triggerScroll",base:Fai.top.Site})}},{key:"addActiveClass",value:function(t,e){t.addClass("formTabButtonHover"),t.find(".formTabLeft").addClass("formTabLeftHover"),t.find(".formTabMiddle").addClass("formTabMiddleHover"),t.find(".formTabRight").addClass("formTabRightHover"),e.addClass("formTabCntIdHover")}},{key:"removeActiveClass",value:function(t,e){t.removeClass("formTabButtonHover"),t.find(".formTabLeft").removeClass("formTabLeftHover"),t.find(".formTabMiddle").removeClass("formTabMiddleHover"),t.find(".formTabRight").removeClass("formTabRightHover"),e.removeClass("formTabCntIdHover")}},{key:"fixTabModuleHeight",value:function(){var t=200;this.$el.find(".form").each((function(e,n){var i=$(n),o=parseInt(i.css("top"))||0,r=i.height();o+r>t&&(t=o+r)})),this.$module.css("height","auto"),this.$module.find(".formMiddle"+this.moduleId+", .formMiddleContent").css("height","auto"),this.$module.find("#formTabContent".concat(this.moduleId)).height(t),this.$module.find("#formTab".concat(this.moduleId,".formTabDirectionY .titleTable")).height(t),this.$module.find(".formTabCntId").height(t)}},{key:"getMutationObserverOptions",value:function(){return{callback:this.mutationCallBack.bind(this),filterSelector:""}}},{key:"mutationCallBack",value:function(t){this.isAutoHeight()&&(Fai.top._mutationObLog&&console.log("".concat(this.moduleId,": 旧版标签模块"),t),this.isCustomHeight()?this.setCustomHeight():this.fixTabModuleHeight())}}],i=[{key:"isCustomHeight",value:function(t){t instanceof jQuery&&(t=t.attr("_moduleid"));var e=c.find(t);if(e&&e.isCustomHeight)return e.isCustomHeight()}},{key:"setCustomHeight",value:function(t){t instanceof jQuery&&(t=t.attr("_moduleid"));var e=c.find(t);if(e&&e.setCustomHeight)return e.setCustomHeight()}},{key:"setTabPackContentHeight",value:function(t){var e=t.attr("_moduleid"),n=c.find(e);if(n&&n.setTabPackContentHeight)return n.setTabPackContentHeight()}},{key:"isTabYModule",value:function(t){var e=t.attr("_moduleid"),n=c.find(e);if(n&&n.isDirectionY)return n.isDirectionY()}}],n&&r(e.prototype,n),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),u}(c);t.exports=f,function(t,e,n){var i=e.data,o=e.dom,r=e.utils,a=e.event;r.getBaseDom=function(){var t,e,n,o=i.moduleId;if((t=Fai.top.$("#module"+o)).length&&!t.hasClass("jz-moduleTabYPattern113")&&f.isTabYModule(t)&&(n=(e=t.find(".formTabButtonYList")).find(".formTabButton"),e.length&&n.length))return{module:t,formTabButtonYList:e,formTabButton:n}},r.getAllFormTabButtonHeight=function(){var e=o.formTabButton,n=0;return e.each((function(){n+=t(this).outerHeight(!0)})),n},r.checkHeightEnough=function(){var t=i.wrapperHeight,e=i.allFormTabButtonHeight,n=i.formTabButtonLength;return t>e||n<2},r.getOnePageNumForFormTabButton=function(){var t,e=i.wrapperHeight,n=i.arrowHeight,o=i.formTabButtonHeight;return t=(t=e-i.formTabButtonHoverHeight-n)<0?0:t,Math.round(t/o)+1},r.getPageNum=function(){return Math.ceil(i.formTabButtonLength/i.onePageNumForFormTabButton)},a.findOrCreateArrow=function(){var e,n,r=o.formTabButtonYList,a=i.bgColor;return(e=(e=r.find(".J_tabYArrow")).length?e:t((n=[],n.push("<div class='fk-tabYArrow J_tabYArrow'>"),n.push("<div class='f-arrowBox'>"),n.push("<div class='f-arrowBoxTop f-arrowBoxItem J_tabYArrowUp' style='display:none;'>"),n.push("<i class='f-arrow1 f-arrow J_arrowColor'></i>"),n.push("<i class='f-arrow2 f-arrow J_arrowTopBg'></i>"),n.push("</div>"),n.push("<div class='f-arrowBoxBottom f-arrowBoxItem J_tabYArrowDown f-arrowBoxBottomIndex'>"),n.push("<i class='f-arrow1 f-arrow J_arrowColor'></i>"),n.push("<i class='f-arrow2 f-arrow J_arrowBotomBg'></i>"),n.push("</div>"),n.push("</div>"),n.push("</div>"),n.join(""))).appendTo(r)).css("background-color",a),e.find(".J_arrowTopBg").css("border-bottom-color",a),e.find(".J_arrowBotomBg").css("border-top-color",a),e},a.setModuleNewHeight=function(){var t=i.onePageNumForFormTabButton,e=i.formTabButtonHeight,n=i.arrowHeight,r=i.moduleId,a=i.formTabButtonHoverHeight,s=(o.formTabButtonYList,(t-1)*e+a),l=s+n;return o.arrow.css("top",s),Site.setModuleHeight2(r,l),l},a.setPages=function(){for(var t=i.pageNum,e=i.onePageNumForFormTabButton,n=o.formTabButtonYList,r=o.formTabButton,a=0;a<t;a++)for(var s=e*a,l=e*(a+1);s<l;s++)r.eq(s).addClass("tabYPage"+a).data("tabYPage",a);r.hide(),n.find(".tabYPage0").show()},a.bindArrow=function(){var t=i.pageNum,e=o.arrow,n=o.formTabButton,r=o.formTabButtonYList,a=0,s=e.find(".J_tabYArrowUp"),l=e.find(".J_tabYArrowDown");function u(){0==a?s.find(".J_arrowColor").addClass("f-arrowDisable"):s.find(".J_arrowColor").removeClass("f-arrowDisable"),a==t-1?l.find(".J_arrowColor").addClass("f-arrowDisable"):l.find(".J_arrowColor").removeClass("f-arrowDisable")}s.off("click.page").on("click.page",(function(){0!=a&&(a--,u(),n.hide(),r.find(".tabYPage"+a).show().eq(0).click())})),l.off("click.page").on("click.page",(function(){a!=t-1&&(a++,u(),n.hide(),r.find(".tabYPage"+a).show().eq(0).click())})),l.one("click.pageOne",(function(){l.removeClass("f-arrowBoxBottomIndex"),s.show(),u()}))},a.resetDataAndDom=function(){for(var t in i)delete i[t];for(var e in o)delete o[e]},e.initArrowIfNotEnough=function(e,n){return i.moduleId=e,o=t.extend(o,r.getBaseDom()),t.isEmptyObject(o)?a.resetDataAndDom():(i.wrapperHeight=o.module.height(),i.formTabButtonHeight=o.formTabButton.not(".formTabButtonHover").outerHeight(!0),i.formTabButtonLength=o.formTabButton.length,i.allFormTabButtonHeight=r.getAllFormTabButtonHeight(),r.checkHeightEnough()?a.resetDataAndDom():(i.bgColor=n||"#fff",o.arrow=a.findOrCreateArrow(),i.arrowHeight=o.arrow.height(),i.formTabButtonHoverHeight=o.formTabButtonYList.find(".formTabButtonHover").outerHeight(!0),i.onePageNumForFormTabButton=r.getOnePageNumForFormTabButton(),i.pageNum=r.getPageNum(),i.wrapperHeight=a.setModuleNewHeight(),r.checkHeightEnough()?(o.arrow=o.arrow||a.findOrCreateArrow(),o.arrow.remove()):(a.setPages(),a.bindArrow()),void a.resetDataAndDom()))}}(jQuery,f.tabDirectionY||(f.tabDirectionY={data:{},dom:{},utils:{},event:{}}))},function(t,e,n){function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}var c=n(0),f=n(20),d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(u,t);var e,n,i,l=s(u);function u(){return o(this,u),l.apply(this,arguments)}return e=u,n=[{key:"init",value:function(){var t=this;if(this._animate={animating:!1},this.initSwitchTypeClass(),Fai.top._manageMode?setTimeout((function(){$((function(){return Site.setModuleHeight2(t.moduleId,t.$module.height())}))}),100):Site.setModuleHeight2(this.moduleId,this.$module.height()),!Fai.top._manageMode)switch(this.getStyle()){case 0:this.initDefaultTab();break;case 1:this.initFoldTab();break;case 2:this.initPictureTab()}}},{key:"initFoldTab",value:function(){var t=this,e=this,n=this.$module.find(".m_foldtab"),i="click.changeTab";function o(t,n){var i=t.find(".tab_content");t.removeClass("tab_active"),i.is(":animated")||i.css("height","auto"),i.stop().animate({height:0},{speed:300,step:function(){n||e.resetXPackModuleAutoHeight(!0)},complete:function(){i.css("height",""),e.actionForVideo(i,i.parent().siblings(".tab_active"))}})}n.off(i).on(i,".tab_title",(function(i){var r=n.find(".tab_item").filter(".tab_active"),a=$(i.currentTarget).parent(),s=a.hasClass("tab_active");t.actionForVideo(r),s?o(a):(t.getFoldDisplay()||n.children(".tab_active").each((function(){o($(this),!0)})),function(t){var n=t.find(".tab_content");t.addClass("tab_active"),n.is(":animated")||n.css("height",0),n.stop().animate({height:n.children().height()},{speed:300,step:function(){e.resetXPackModuleAutoHeight(!0)},complete:function(){n.css("height",""),e.triggerModuleAnimation(),e.triggerScroll()}})}(a))}))}},{key:"initDefaultTab",value:function(){var t=this,e=this.$module.find(".title_list"),n=this.$module.find(".tab_list"),i="click.changeTab",o=navigator.userAgent.includes("UBrowser");e.off(i).on(i,".item",(function(i){var r=e.find(".item"),a=n.children(".item"),s=$(i.currentTarget),l=r.filter(".formTabButtonHover"),u=a.filter(".formTabCntIdHover"),c=a.eq(r.index(s));s.hasClass("formTabButtonHover")||(t.toggleAnimation({$currentEl:u,$activeEl:c,currentIdx:u.index(),activeIdx:c.index()}),t.removeActiveClass(l,u),t.addActiveClass(s,c),jzModule.NewsListModule.compatDot(c),t.actionForVideo(u,c),t.enableModuleAnimation(),t.triggerScroll(),t.resetXPackModuleAutoHeight(),o&&jzSite.lazyLoad.forceLoadImages($activeItem),t.isCustomHeight()&&(t.setCustomHeight(),Site.fixSiteWidth(Fai.top._manageMode),Fai.top._manageMode&&(Site.removeMoveFrame("module"+t.moduleId),Site.addMoveFrame("module"+t.moduleId),Site.refreshResizableHandles($("#module"+t.moduleId)))))}));var r="mouseenter.changeTab";e.off(r).on(r,".item",(function(e){t.getTabSwitchWay()||$(e.currentTarget).click()})),this.bindToggleAnimationEndEvent(n,".tab_item")}},{key:"initPictureTab",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=this,n=navigator.userAgent.includes("UBrowser"),i=Object.assign({},{event:this.getTabSwitchWay()?"click":"hover",onTabChanged:function(){var t=e.$module.find(".tab_pane_item--active");jzModule.NewsListModule.compatDot(t),e.triggerModuleAnimation(),e.triggerScroll(),e.bindLazyLoadForVideo(t),n&&jzSite.lazyLoad.forceLoadImages(t)},onBeforeTabChanged:function(){e.toggleAnimation.apply(e,arguments)}},t),o=new f(this.moduleId,i);return this.bindToggleAnimationEndEvent(this.$module.find(".J_site_tabs_pane").eq(0),".J_tab_pane_item"),o}},{key:"initSwitchTypeClass",value:function(){var t=this.getTabSwitchWay()||1==this.getStyle()?"j_tappack__switchevent-click":"j_tappack__switchevent-enter";this.$el.addClass(t)}},{key:"getStyle",value:function(){return this.module.prop2}},{key:"isDirectionY",value:function(){return this.getFlag(4)}},{key:"getTabSwitchWay",value:function(){return this.getFlag(8)}},{key:"isCustomHeight",value:function(){return this.getFlag(16)||1==this.getStyle()}},{key:"getFoldDisplay",value:function(){return this.getFlag(32)}},{key:"getGroupPageArrow",value:function(){return this.pattern.gpa}},{key:"setCustomHeight",value:function(){var t=this.$module,e=t.find(".formMiddle"),n=t.find(".formMiddleContent"),i=t.find(".formTab"),o=t.find(".formTabContent"),r=t.find(".formTabCntId"),a=2===this.getStyle();a&&(o=t.find(".J_site_tabs_pane"),r=t.find(".J_tab_pane_item")),t.css("height","auto"),e.css("height",""),n.css("height",""),this.isDirectionY()||a?i.css("height",o.height()):i.css("height",""),o.css("height",""),r.css("height","")}},{key:"setTabPackContentHeight",value:function(){var t=this.$module.find(".J_tabPackContent"),e=this.$module.find(".news_list_wrap"),n=0!==e.length;n&&(this.$module.find(".formTabCntId").css("visibility","initial"),e.addClass("news_list_fix_dot")),t.each((function(){var t=$(this),e=Site.getModuleAutoHeight(t);t.height(e)})),n&&(this.$module.find(".formTabCntId").css("visibility",""),e.removeClass("news_list_fix_dot"))}},{key:"initGroupPageArrow",value:function(){if(this.isDirectionY()){var t=this.getGroupPageArrow().bc;jzModule.TabPackModule.tabDirectionY.initArrowIfNotEnough(this.moduleId,t)}}},{key:"actionForVideo",value:function(t){for(var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:t,n=Array.from(t.find("video:not([autoplay])")),i=0,o=n;i<o.length;i++){var r=o[i];r.paused||r.pause()}this.bindLazyLoadForVideo(e)}},{key:"bindLazyLoadForVideo",value:function(t){var e=-1;t.find(".formStyle36").each((function(t,n){(e="new-video-".concat($(n).attr("_moduleid")))&&!$("#".concat(e)).attr("src")&&Site.videoLazyLoadBind(e)}))}},{key:"enableModuleAnimation",value:function(){var t=this.options.enableToggleAnim?300:0;this.triggerModuleAnimation(t)}},{key:"triggerModuleAnimation",value:function(){arguments.length>0&&undefined}},{key:"triggerScroll",value:function(){jzUtils.run({name:"triggerScroll",base:Fai.top.Site})}},{key:"addActiveClass",value:function(t,e){t.addClass("formTabButtonHover"),t.find(".formTabLeft").addClass("formTabLeftHover"),t.find(".formTabMiddle").addClass("formTabMiddleHover"),t.find(".formTabRight").addClass("formTabRightHover"),e.addClass("formTabCntIdHover")}},{key:"removeActiveClass",value:function(t,e){t.removeClass("formTabButtonHover"),t.find(".formTabLeft").removeClass("formTabLeftHover"),t.find(".formTabMiddle").removeClass("formTabMiddleHover"),t.find(".formTabRight").removeClass("formTabRightHover"),e.removeClass("formTabCntIdHover")}},{key:"animating",value:function(t){this._animate.animating=t}},{key:"getToggleAnimConfig",value:function(){return{animClass:"tab_anim--anim",animEnterClass:"tab_anim--enter",animLeaveClass:"tab_anim--leave",animReverseClass:"tab_anim--reverse",animEnterToClass:"tab_anim--enter-to",animLeaveToClass:"tab_anim--leave-to"}}},{key:"toggleAnimation",value:function(t){var e=this,n=t.currentIdx,i=t.activeIdx,o=t.$currentEl,r=t.$activeEl;if(this.options.enableToggleAnim&&-1!=n&&!0!==this._animate.animating){this.animating(!0);var a=this.getToggleAnimConfig(),s=a.animClass,l=a.animEnterClass,u=a.animLeaveClass,c=a.animEnterToClass,f=a.animLeaveToClass,d=a.animReverseClass;this.removeAllToggleAnimationClass(o),this.removeAllToggleAnimationClass(r),o.addClass(u),r.addClass(l),i<n&&(o.addClass(d),r.addClass(d)),this.nextFrame((function(){o.addClass(s),r.addClass(s),o.removeClass(c).addClass(f),r.removeClass(f).addClass(c),e.animating(!1)}))}}},{key:"bindToggleAnimationEndEvent",value:function(t,e){var n=this;if(this.options.enableToggleAnim){this.getToggleAnimConfig();var i="".concat("transitionend.toggle webkitTransitionEnd.toggle oTransitionEnd.toggle"," ").concat("animationend.toggle webkitAnimationEnd.toggle oAnimationEnd.toggle");t.off(i).on(i,e,(function(t){n.removeAllToggleAnimationClass($(t.currentTarget))}))}}},{key:"removeAllToggleAnimationClass",value:function(t){var e=this.getToggleAnimConfig(),n=e.animClass,i=e.animEnterClass,o=e.animLeaveClass,r=e.animEnterToClass,a=e.animLeaveToClass,s=e.animReverseClass;t.removeClass([n,i,o,r,a,s].join(" "))}},{key:"nextFrame",value:function(t){var e=window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout;e((function(){e(t)}))}},{key:"getMutationObserverOptions",value:function(){return{callback:this.mutationCallBack.bind(this),filterSelector:""}}},{key:"mutationCallBack",value:function(t){this.isAutoHeight()&&(Fai.top._mutationObLog&&console.log("".concat(this.moduleId,": 新版标签模块"),t),Site.autoTabPackModuleHeight(this.$el))}}],i=[{key:"isCustomHeight",value:function(t){t instanceof jQuery&&(t=t.attr("_moduleid"));var e=c.find(t);if(e&&e.isCustomHeight)return e.isCustomHeight()}},{key:"setCustomHeight",value:function(t){t instanceof jQuery&&(t=t.attr("_moduleid"));var e=c.find(t);if(e&&e.setCustomHeight)return e.setCustomHeight()}},{key:"setTabPackContentHeight",value:function(t){var e=t.attr("_moduleid"),n=c.find(e);if(n&&n.setTabPackContentHeight)return n.setTabPackContentHeight()}},{key:"isTabYModule",value:function(t){var e=t.attr("_moduleid"),n=c.find(e);if(n&&n.isDirectionY)return n.isDirectionY()}}],n&&r(e.prototype,n),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),u}(c);t.exports=d,function(t,e,n){var i=e.data,o=e.dom,r=e.utils,a=e.event;r.getBaseDom=function(){var t,e,n,o=i.moduleId;if((t=Fai.top.$("#module"+o)).length&&!t.hasClass("jz-moduleTabYPattern113")&&d.isTabYModule(t)&&(n=(e=t.find(".formTabButtonYList")).find(".formTabButton"),e.length&&n.length))return{module:t,formTabButtonYList:e,formTabButton:n}},r.getAllFormTabButtonHeight=function(){var e=o.formTabButton,n=0;return e.each((function(){n+=t(this).outerHeight(!0)})),n},r.checkHeightEnough=function(){var t=i.wrapperHeight,e=i.allFormTabButtonHeight,n=i.formTabButtonLength;return t>e||n<2},r.getOnePageNumForFormTabButton=function(){var t,e=i.wrapperHeight,n=i.arrowHeight,o=i.formTabButtonHeight;return t=(t=e-i.formTabButtonHoverHeight-n)<0?0:t,Math.round(t/o)+1},r.getPageNum=function(){return Math.ceil(i.formTabButtonLength/i.onePageNumForFormTabButton)},a.findOrCreateArrow=function(){var e,n,r=o.formTabButtonYList,a=i.bgColor;return(e=(e=r.find(".J_tabYArrow")).length?e:t((n=[],n.push("<div class='fk-tabYArrow J_tabYArrow'>"),n.push("<div class='f-arrowBox'>"),n.push("<div class='f-arrowBoxTop f-arrowBoxItem J_tabYArrowUp' style='display:none;'>"),n.push("<i class='f-arrow1 f-arrow J_arrowColor'></i>"),n.push("<i class='f-arrow2 f-arrow J_arrowTopBg'></i>"),n.push("</div>"),n.push("<div class='f-arrowBoxBottom f-arrowBoxItem J_tabYArrowDown f-arrowBoxBottomIndex'>"),n.push("<i class='f-arrow1 f-arrow J_arrowColor'></i>"),n.push("<i class='f-arrow2 f-arrow J_arrowBotomBg'></i>"),n.push("</div>"),n.push("</div>"),n.push("</div>"),n.join(""))).appendTo(r)).css("background-color",a),e.find(".J_arrowTopBg").css("border-bottom-color",a),e.find(".J_arrowBotomBg").css("border-top-color",a),e},a.setModuleNewHeight=function(){var t=i.onePageNumForFormTabButton,e=i.formTabButtonHeight,n=i.arrowHeight,r=i.moduleId,a=i.formTabButtonHoverHeight,s=(o.formTabButtonYList,(t-1)*e+a),l=s+n;return o.arrow.css("top",s),Site.setModuleHeight2(r,l),l},a.setPages=function(){for(var t=i.pageNum,e=i.onePageNumForFormTabButton,n=o.formTabButtonYList,r=o.formTabButton,a=0;a<t;a++)for(var s=e*a,l=e*(a+1);s<l;s++)r.eq(s).addClass("tabYPage"+a).data("tabYPage",a);r.hide(),n.find(".tabYPage0").show()},a.bindArrow=function(){var t=i.pageNum,e=o.arrow,n=o.formTabButton,r=o.formTabButtonYList,a=0,s=e.find(".J_tabYArrowUp"),l=e.find(".J_tabYArrowDown");function u(){0==a?s.find(".J_arrowColor").addClass("f-arrowDisable"):s.find(".J_arrowColor").removeClass("f-arrowDisable"),a==t-1?l.find(".J_arrowColor").addClass("f-arrowDisable"):l.find(".J_arrowColor").removeClass("f-arrowDisable")}s.off("click.page").on("click.page",(function(){0!=a&&(a--,u(),n.hide(),r.find(".tabYPage"+a).show().eq(0).click())})),l.off("click.page").on("click.page",(function(){a!=t-1&&(a++,u(),n.hide(),r.find(".tabYPage"+a).show().eq(0).click())})),l.one("click.pageOne",(function(){l.removeClass("f-arrowBoxBottomIndex"),s.show(),u()}))},a.resetDataAndDom=function(){for(var t in i)delete i[t];for(var e in o)delete o[e]},e.initArrowIfNotEnough=function(e,n){return i.moduleId=e,o=t.extend(o,r.getBaseDom()),t.isEmptyObject(o)?a.resetDataAndDom():(i.wrapperHeight=o.module.height(),i.formTabButtonHeight=o.formTabButton.not(".formTabButtonHover").outerHeight(!0),i.formTabButtonLength=o.formTabButton.length,i.allFormTabButtonHeight=r.getAllFormTabButtonHeight(),r.checkHeightEnough()?a.resetDataAndDom():(i.bgColor=n||"#fff",o.arrow=a.findOrCreateArrow(),i.arrowHeight=o.arrow.height(),i.formTabButtonHoverHeight=o.formTabButtonYList.find(".formTabButtonHover").outerHeight(!0),i.onePageNumForFormTabButton=r.getOnePageNumForFormTabButton(),i.pageNum=r.getPageNum(),i.wrapperHeight=a.setModuleNewHeight(),r.checkHeightEnough()?(o.arrow=o.arrow||a.findOrCreateArrow(),o.arrow.remove()):(a.setPages(),a.bindArrow()),void a.resetDataAndDom()))}}(jQuery,d.tabDirectionY||(d.tabDirectionY={data:{},dom:{},utils:{},event:{}}))},function(t,e,n){function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(){return r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=a(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},r.apply(this,arguments)}function a(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return u(this,n)}}function u(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(u,t);var e,n,i,a=l(u);function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=a.call(this,t,e)).isVerticalTab=!1,n.init(),n}return e=u,(n=[{key:"init",value:function(){this.updateTabDirection()}},{key:"updateTabDirection",value:function(){var t=Fai.top.$("#module".concat(this.moduleId," .J_site_tabs_nav")).css("float");this.isVerticalTab=-1!==["left","right"].indexOf(t),this.addTabDirectionClass()}},{key:"addTabDirectionClass",value:function(){var t=this.isVerticalTab?"vertical":"horizonal";Fai.top.$("#module".concat(this.moduleId," .J_site_tabs_nav")).removeClass("jz_tabs_direction--vertical jz_tabs_direction--horizonal").addClass("jz_tabs_direction--".concat(t))}},{key:"update",value:function(t){r(c(u.prototype),"update",this).call(this,t),this.updateTabDirection()}}])&&o(e.prototype,n),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),u}(n(21).SiteTabs);t.exports=f},function(t,e){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=function(){function t(e){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};n(this,t),this.moduleId=e,this.$module=Fai.top.$("#module".concat(e)),this._config=i,this._cache={},this._init()}var e,o,r;return e=t,o=[{key:"config",get:function(){return Object.assign({},this.defaultConfig,this._config)}},{key:"defaultConfig",get:function(){return{navItemActiveClass:"tab_nav_item--active",paneItemActiveClass:"tab_pane_item--active",event:"click",initialIndex:0}}},{key:"setConfig",value:function(){var t=this,e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};Object.keys(e).forEach((function(n){t._config[n]=e[n]}))}},{key:"setCache",value:function(t,e){return this._cache[t]=e}},{key:"getCache",value:function(t){return this._cache[t]?this._cache[t]:null}},{key:"_init",value:function(){this.selectTabByIndex(this.config.initialIndex),this._bindEvents()}},{key:"_bindEvents",value:function(){var t=this.getTabInfo().$tabNav;switch(this.config.event){case"click":default:this.bindClickEvent(t);break;case"hover":this.bindHoverEvent(t)}t.removeClass("tab_nav_event--hover tab_nav_event--click").addClass("tab_nav_event--".concat(this.config.event))}},{key:"bindClickEvent",value:function(t){var e=this,n="click.changeTab";t.off(n).on(n,".J_tab_nav_item",(function(t){e.selectTabByIndex($(t.currentTarget).index())}))}},{key:"bindHoverEvent",value:function(t){var e=this,n="mouseenter.changeTab";t.off(n).on(n,".J_tab_nav_item",(function(t){e.selectTabByIndex($(t.currentTarget).index())}))}},{key:"_unbindEvents",value:function(){this.getTabInfo().$tabNav.off("click.changeTab").off("mouseenter.changeTab")}},{key:"update",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.setConfig(t),this._unbindEvents(),this._init()}},{key:"selectTabByIndex",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,e=this.getTabInfo(),n=e.$tabNavItems,i=e.$tabPaneItems;this.handleChangeTab(n,i,t)}},{key:"getTabInfo",value:function(){var t=this.getCache("$tabNav")?this.getCache("$tabNav"):this.setCache("$tabNav",this.$module.find(".J_site_tabs_nav").eq(0)),e=this.getCache("$tabPane")?this.getCache("$tabPane"):this.setCache("$tabPane",this.$module.find(".J_site_tabs_pane").eq(0));return{$tabNav:t,$tabPane:e,$tabNavItems:t.find(".J_tab_nav_item"),$tabPaneItems:e.find(".J_tab_pane_item")}}},{key:"handleChangeTab",value:function(t,e,n){var i=e.filter(".J_tab_pane_item--active"),o=e.eq(n),r=i.index();r!=n&&("function"==typeof this.config.onBeforeTabChanged&&this.config.onBeforeTabChanged.call(this,{$currentEl:i,$activeEl:o,currentIdx:r,activeIdx:n}),this.toggleActive(t,e,n),"function"==typeof this.config.onTabChanged&&this.config.onTabChanged.call(this))}},{key:"toggleActive",value:function(t,e,n){var i="".concat(this.config.navItemActiveClass," J_tab_nav_item--active"),o="".concat(this.config.paneItemActiveClass," J_tab_pane_item--active");e.removeClass(o).eq(n).addClass(o),t.removeClass(i).eq(n).addClass(i)}}],o&&i(e.prototype,o),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports={SiteTabs:o}},function(t,e,n){function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}var c=n(0);t.exports=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(u,t);var e,n,i,l=s(u);function u(){return o(this,u),l.apply(this,arguments)}return e=u,i=[{key:"compatDot",value:function(t){t.find(".news_list_wrap").length&&(t.find(".news_list_wrap").addClass("news_list_fix_dot"),setTimeout((function(){t.find(".news_list_wrap").removeClass("news_list_fix_dot")})))}}],(n=[{key:"init",value:function(){this.lock=!1,this.editPanelLock=!1,this.carouselLock=!1,this.scrollTarget=null,this.scrollCount=0,this.newsSetting=this.module.blob0,this.speedList=[1500,1100,850],this.autoWrap=this.module.autoWrap,this.contentAnimationCount=0,this.haveAnimation=!1,this.swiperTimerList=[],this.setIeClass(),this.compatIEDot(),this.compatIESummaryDot(),this.initEvent(),this.oriFdpStyleData=null}},{key:"initEvent",value:function(){var t=this;4==this.newsSetting.selectStyle&&(this.bindSliderEvent(),this.bindArrowEvent()),this.bindNewsWrapEvent(),setTimeout((function(){t.haveContentAnimate(),t.newsScroll()}),200),this.bindJumpDetailEvent(),this.bindSwiperEvent(),this.bindResize()}},{key:"isCanScroll",value:function(){var t=this.newsSetting.selectStyle,e=this.newsSetting.headlineStyle;return!!this.module.openScroll&&3!=t&&4!=t&&(6!=t||0==e)&&8!=t}},{key:"bindSliderEvent",value:function(){var t=this;this.$el.find(".m_news_wrap").on("mouseleave",(function(e){4==t.newsSetting.selectStyle&&$(".slider_arrow").removeClass("slider_arrow")})),this.$el.find(".m_news_wrap").on("mouseover",(function(e){if(4==t.newsSetting.selectStyle){var n=t.$el.find(".m_news_4"),i=t.$el.find(".m_news_4 .m_news_list");if(!(n.width()>=i.width())){var o=$(e.target),r=o.hasClass("m_news_area"),a=o.parent().hasClass("m_news_area"),s=o.parents(".m_news_area");r?o.addClass("slider_arrow"):a?o.parent().addClass("slider_arrow"):s.length&&s.addClass("slider_arrow")}}}))}},{key:"bindArrowEvent",value:function(){var t=this;this.$el.find(".m_news_arrow").on("click",(function(e){e.stopPropagation(),4==t.newsSetting.selectStyle&&t.carousel($(this))}))}},{key:"carousel",value:function(t){if(!this.carouselLock){var e=this;this.carouselLock=!0;var n=t.hasClass("news_left_arrow")?1:0,i=this.$el.find(".m_news_4").width(),o=this.$el.find(".m_col_line").outerWidth(!0),r=this.$el.find(".m_news_4 .m_news_list"),a=r.width(),s=parseInt(r.css("left"));n||(i=0-i,o=0-o);var l=s+i+o;n&&0==s||Math.abs(l)>=a?this.carouselLock=!1:(l>0?l=0:Math.abs(i)+Math.abs(l)>a&&(l=-(a-Math.abs(i))),r.animate({left:"".concat(l,"px")},800,(function(){e.carouselLock=!1})))}}},{key:"bindNewsWrapEvent",value:function(){var t=this;this.$el.on("mouseover.lock",(function(e){$(e.target).parents("#module".concat(t.options.id)).length&&(t.lock=!0)})).on("mouseleave.unlock",(function(){t.lock=!1,clearTimeout(t.timer),t.timer=setTimeout((function(){t.scrollCount||t.newsScroll()}),1e3)}))}},{key:"haveContentAnimate",value:function(){var t=this;if("undefined"==typeof _moduleListForContent)return!1;this.haveAnimation=_moduleListForContent.some((function(e){return e.moduleId==t.moduleId}))}},{key:"newsScroll",value:function(){this.lock||this.editPanelLock||!this.isCanScroll()||this.haveAnimation||(this.scrollCount=!0,this.newsSetting.colCount?this.mutiScroll():this.singleScroll())}},{key:"singleScroll",value:function(){if(this.scrollTarget=this.$el.find(".m_news_list"),this.newsSetting.scrollDir){var t=this.scrollTarget.find(".m_news_content:last"),e=t.prev(),n=e.find(".m_row_line"),i=t.outerHeight(!0);2!==this.newsSetting.selectStyle&&(i+=n.outerHeight(!0)),this.newsAnimate(i,t,e)}else{var o=this.scrollTarget.find(".m_news_content:first"),r=o.next(),a=r.find(".m_row_line"),s=o.outerHeight(!0)+a.outerHeight(!0);this.newsAnimate(-s,o,r)}}},{key:"mutiScroll",value:function(){if(this.scrollTarget=this.$el.find(".m_news_wrap"),this.newsSetting.scrollDir){var t=this.scrollTarget.find(".m_row_class:last"),e=t.outerHeight(!0);this.newsAnimate(e,t)}else{var n=this.scrollTarget.find(".m_row_class:first"),i=n.nextAll(".m_row_class").find(".m_row_line"),o=n.outerHeight(!0)+i.outerHeight(!0);this.newsAnimate(-o,n)}}},{key:"newsAnimate",value:function(t,e,n){var i=this;new Promise((function(e,n){i.scrollTarget.animate({top:t+"px"},i.speedList[i.newsSetting.scrollSpeed],(function(){e()}))})).then((function(){e.hide(),i.scrollTarget.css("top",0),i.newsSetting.colCount||(i.newsSetting.scrollDir?n.prependTo(i.scrollTarget):n.appendTo(i.scrollTarget)),i.newsSetting.scrollDir?e.prependTo(i.scrollTarget):e.appendTo(i.scrollTarget),e.fadeIn((function(){i.setTimeoutScroll()}))}))}},{key:"setTimeoutScroll",value:function(){this.scrollCount=!1,this.newsScroll()}},{key:"start",value:function(){var t=this;return function(){4==t.newsSetting.selectStyle&&(t.bindSliderEvent(),t.bindArrowEvent()),t.lock=!1,setTimeout((function(){t.scrollCount||t.newsScroll()}),1e3)}}},{key:"preventScroll",value:function(){this.editPanelLock=!0}},{key:"restartScroll",value:function(){this.editPanelLock=!1,this.start()()}},{key:"createQuestion",value:function(t){Site.popupBox({htmlContent:this.createHtml(),width:530,height:450,extClass:"goBackQuestion",paddingBottom:0,boxId:1211}),this.initQuestEvent(t)}},{key:"createHtml",value:function(){return'\n\t\t\t<div class="question_title">希望您有更好的体验，真诚得需要您的建议！</div>\n\t\t\t<div class="question_content">\n\t\t\t\t<div class="question_radio">\n\t\t\t\t\t<p class="reason">切回旧版的原因？</p>\n\t\t\t\t\t<div class="radio_list">\n\t\t\t\t\t\t<div class="radio_item">\n\t\t\t\t\t\t\t<i class="radio radio_active" data-log="7"></i>\n\t\t\t\t\t\t\t<span class="radio_text">再观察观察</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="radio_item">\n\t\t\t\t\t\t\t<i class="radio" data-log="8"></i>\n\t\t\t\t\t\t\t<span class="radio_text">影响到网站布局</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="radio_item">\n\t\t\t\t\t\t\t<i class="radio" data-log="9"></i>\n\t\t\t\t\t\t\t<span class="radio_text">展示效果没什么区别</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="radio_item">\n\t\t\t\t\t\t\t<i class="radio radio_input" data-log="4"></i>\n\t\t\t\t\t\t\t<span class="radio_text">其他</span>\n\t\t\t\t\t\t\t<input class="input">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\t\n\t\t\t\t</div>\n\t\t\t\t<button class="comfirm">确定</button>\t\n\t\t\t</div>\n\t\t'}},{key:"initQuestEvent",value:function(t){var e=this;$(".goBackQuestion .radio").click((function(){$(this).parent().siblings().find(".radio_active").removeClass("radio_active"),$(this).toggleClass("radio_active")})),$(".goBackQuestion .comfirm").click((function(n){$(".goBackQuestion .radio_active").each((function(n,i){var o=parseInt($(i).attr("data-log"));if($(i).hasClass("radio_input")){var r=$(".goBackQuestion .input").val();if(r.length>100||!r.length)return void Fai.ing("提交的文字不可超过100个或少于1个。",1e3);$.ajax({type:"get",url:Site.addRequestPrefix({newPath:"/ajax/feedback_h.jsp?cmd=addNewsListBackReason",oldPath:Site.genAjaxUrl("feedback_h.jsp?cmd=addNewsListBackReason")}),data:{reason:encodeURIComponent(r)},success:function(n){(n=$.parseJSON(n)).success&&($("#popupBg1211").remove(),$("#popupBox1211").remove(),jzModule.ManageModule.find(e.moduleId).switchModuleVersion(t))}})}else Site.logDog(201220,o),$("#popupBg1211").remove(),$("#popupBox1211").remove(),jzModule.ManageModule.find(e.moduleId).switchModuleVersion(t)}))}))}},{key:"bindJumpDetailEvent",value:function(){this.$el.find(".m_news_content").off("click.jumpDetail").on("click.jumpDetail",(function(t){var e=t.target,n=$(e);if(!["news_group","news_group_wrap","news_img","article_title","title_content","m_news_dotarea",".m_news_dot"].some((function(t){return n.hasClass(t)}))){var i=$(this).find(".article_title:visible");i.length&&i[0].click()}}))}},{key:"compatIEDot",value:function(){!Fai.isIE()||_manageMode||this.autoWrap||this.$el.find(".title_content").each((function(t,e){var n=$(e)[0].getBoundingClientRect().width;n=Math.ceil(100*n)/100,$(e).width(n).addClass("news_ie_ellipsis")}))}},{key:"compatIESummaryDot",value:function(){var t=this;Fai.isIE()&&!_manageMode&&this.module.newsSummary&&this.$el.find(".news_summary").each((function(e,n){var i=$(n).height(),o=parseInt($(n).css("line-height")),r=Math.ceil(i/o),a=i/r,s=t.newsSetting.rowCount+1,l=s*a;s<r&&$(n).height(l)}))}},{key:"setIeClass",value:function(){Fai.isIE()&&!_manageMode&&this.module.newsSummary&&this.$el.find(".news_list_wrap").addClass("news_list__wrap-ie")}},{key:"initOriFdpStyleData",value:function(){var t=this.pattern.vnl2||{};this.oriFdpStyleData={title:JSON.stringify(t.title),time:JSON.stringify(t.time),align:t.align,aw:t.aw,size:JSON.stringify(t.ni.size),scale:t.ni.scale,radius:JSON.stringify(t.ni.radius),position:t.ni.position,hover:JSON.stringify(t.hover),toggleBg:JSON.stringify(t.toggleBg),defaultBg:JSON.stringify(t.defaultBg),sp:JSON.stringify(t.sp),ti:JSON.stringify(t.ti),titleImg:JSON.stringify(t.titleImg),split:JSON.stringify(t.split)}}},{key:"logFdpStyleData",value:function(){if(this.oriFdpStyleData){var t=[],e=this.pattern.vnl2||{};this.oriFdpStyleData.title!=JSON.stringify(e.title)&&n("文章标题","文字"),this.oriFdpStyleData.time!=JSON.stringify(e.time)&&n("发布时间","文字"),this.oriFdpStyleData.align!=e.align&&n("文字对齐","文字"),this.oriFdpStyleData.aw!=e.aw&&n("标题换行","文字"),this.oriFdpStyleData.size!=JSON.stringify(e.ni.size)&&n("图片大小","图片"),this.oriFdpStyleData.scale!=e.ni.scale&&n("图片缩放","图片"),this.oriFdpStyleData.radius!=JSON.stringify(e.ni.radius)&&n("图片圆角","图片"),this.oriFdpStyleData.position!=e.ni.position&&n("图片位置","图片"),this.oriFdpStyleData.hover!=JSON.stringify(e.hover)&&n("文章标题","悬停"),this.oriFdpStyleData.toggleBg!=JSON.stringify(e.toggleBg)&&n("文章悬停背景","悬停"),this.oriFdpStyleData.defaultBg!=JSON.stringify(e.defaultBg)&&n("文章默认背景","悬停"),this.oriFdpStyleData.sp!=JSON.stringify(e.sp)&&n("文章间距","其他"),this.oriFdpStyleData.ti!=JSON.stringify(e.ti)&&n("置顶标识","其他"),this.oriFdpStyleData.titleImg!=JSON.stringify(e.titleImg)&&n("标题图标","其他"),this.oriFdpStyleData.split!=JSON.stringify(e.split)&&n("分割线","其他"),t.length&&Site.JzFdpLog.fdpRequest(t)}function n(e,n){t.push({event:"jz_site_articlelist_style_panel",properties:{jz_version:Fai.top.jzVersion,jz_free_text1:n,jz_free_text2:e}})}}},{key:"bindSwiperEvent",value:function(){if(8==this.newsSetting.selectStyle){var t=this.newsSetting.autoSlide;this.$el.find(".m_news_content").length<2||(this.curIndex=1,t&&(this.autoPlay(),this.smartStop()),this.manualSwiper(),this.dotsSwiper())}}},{key:"smartStop",value:function(){var t=this;this.$el.find(".m_news__wrap-8").off("mouseover.swiper").on("mouseover.swiper",(function(){t.stopPlay()})).off("mouseleave.swiper").on("mouseleave.swiper",(function(){!t.resizeImgFlag&&t.reStart()}))}},{key:"stopPlay",value:function(){this.swiperTimerList.forEach((function(t){clearTimeout(t)})),this.swiperTimerList=[],this.notAutoSwiper=!0}},{key:"reStart",value:function(){this.notAutoSwiper=!1,this.newsSetting.autoSlide&&this.autoPlay()}},{key:"autoPlay",value:function(){var t=this;new Promise((function(e){t.swiperTimerList.push(setTimeout((function(){t.curIndex++,t.play(e)}),1e3*t.newsSetting.slideShowTime))})).then((function(){t.notAutoSwiper||t.autoPlay()}))}},{key:"play",value:function(t){var e=this.$el.find(".m_news_content"),n=this,i=this.$el.find(".m_news_content").length;e.css("transform","translateX(".concat(-100*this.curIndex,"%)")),$(e[0]).off("transitionend.swiper").on("transitionend.swiper",(function(){var o=!1;n.curIndex==i-1?(n.curIndex=1,o=!0):0==n.curIndex&&(n.curIndex=i-2,o=!0),o&&(e.css({transition:"none",transform:"translateX(".concat(-100*n.curIndex,"%)")}),setTimeout((function(){1!=n.newsSetting.autoSlide?e.css("transition","transform ".concat(.8,"s")):e.css("transition","transform ".concat(n.newsSetting.slideSwitchTime,"s"))}))),n.notClickSwiper=!1,t&&t()})),this.changeDotActive(i)}},{key:"manualSwiper",value:function(){var t=this;this.$el.find(".m_news_arrow").off("click.swiper").on("click.swiper",(function(e){var n=e.currentTarget;t.notClickSwiper||(n.classList.contains("news_left_arrow")?(t.curIndex--,t.play()):(t.curIndex++,t.play()),t.notClickSwiper=!0)}))}},{key:"dotsSwiper",value:function(){var t=this;this.$el.find(".m_news_dotarea").off("click.swiper").on("click.swiper",(function(e){e.stopPropagation(),e.preventDefault();var n=e.currentTarget,i=t.$el.find(".m_news_content").length,o=$(n).data("index");1==o&&t.start==i-1||o==i-2&&0==t.curIndex||(t.curIndex=$(n).data("index"),t.play(),t.notClickSwiper=!0)}))}},{key:"changeDotActive",value:function(t){var e=this.curIndex;this.curIndex==t-1?e=1:0==this.curIndex&&(e=t-2),this.$el.find(".m_news_dot").each((function(t,n){$(n).removeClass("m_news_dot-active"),$(n).data("index")==e&&$(n).addClass("m_news_dot-active")}))}},{key:"bindResize",value:function(){var t,e,n,i=this.$el.find(".m_news"),o=(null===(t=this.pattern)||void 0===t||null===(e=t.vnl2)||void 0===e||null===(n=e.ni)||void 0===n?void 0:n.size)||{},r=this;8==this.newsSetting.selectStyle&&Fai.top._manageMode?i.resizable({handles:"n,e,s,w,ne,nw,sw,se",minWidth:16,minHeight:16,autoHide:!0,aspectRatio:!0,alsoResize:i,zIndex:9031,start:function(){"1"==$(this).attr("aspectRatio")?$(this).resizable("option","aspectRatio",!0):$(this).resizable("option","aspectRatio",!1),o.t=1,r.resizeImgFlag=!0,r.stopPlay()},create:function(){Site.resizeModule.customHandles(i)},resize:function(t,e){$(this).css({top:"",left:""}),$(this).css({width:"".concat(parseInt(e.size.width),"px"),height:"".concat(parseInt(e.size.height),"px")})},stop:function(){o.w=$(this).width(),o.h=$(this).height(),$(this).css({width:"",height:""}),r.resizeImgFlag=!1,r.reStart()}}):i.resizable("destroy")}}])&&r(e.prototype,n),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),u}(c)},function(t,e,n){function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}var c=n(0),f=n(4),d=f.supportsIntersectionObserver,p=f.isIntersecting,h=function(t){if(t)try{return t.offsetHeight}catch(e){return console.error(e),t.getBoundingClientRect().height}},m=function(t,e,n){t&&(t.style[e]=n)},v={root:null,rootMargin:"10px 0px",threshold:0},g=new Map,y=function _(t,e){var n=_._observer||(_._observer=new IntersectionObserver((function(t){t.forEach((function(t){if(p(t)){var e=t.target,i=Number(e.getAttribute("_moduleid")),o=g.get(i);"function"==typeof o&&o(e),g["delete"](i),n.unobserve(e)}}))}),v));g.set(t,e),function(t){Fai.top._manageMode?Fai.top.Vue.nextTick((function(){t()})):t()}((function(){var e=function(t){return document.querySelector?document.querySelector("#module".concat(t)):document.getElementById("module".concat(t))}(t);e&&n.observe(e)}))},b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(u,t);var e,n,i,l=s(u);function u(){return o(this,u),l.apply(this,arguments)}return e=u,i=[{key:"getLazyLoadFnMaps",value:function(){return g}},{key:"initSimpleTextLazyLoad",value:function(t){var e=t.moduleId,n=t.writingMode,i=t.fontList,o=t.isExecInitSimpleText,r=t.initSimpleTextData;Fai.top._simpleTextGrayTest&&d()?y(e,(function(t){if(1!=n&&2!=n){var a=t.querySelector(".simpleText");h(a)>40&&m(t,"height","auto")}o&&(Site.initSimpleText(r),m(document.querySelector("#fkEditor-module".concat(e)),"height","auto")),Site.checkIEGradientText(e),Site.initFontFaceText(e,i),JZ.setHrefEventHasReqArgs(t),function(t){if(Fai.top._manageMode){var e=t.querySelector(".fk-editor");if(e){var n=e.querySelectorAll("[contenteditable]");n&&n.forEach((function(t){return t.removeAttribute("contenteditable")}))}}}(t)})):Site.initSimpleTextContent(e,n,t)}},{key:"fixModuleHeight",value:function(t){var e,n,i,o;if(Fai.top._manageMode){var r=t.attr("_moduleid");if(86==(null===(e=Site.getModuleAttr(r))||void 0===e||null===(n=e.module)||void 0===n?void 0:n.style)){var a=null===(i=Fai.top.moduleAttr["module".concat(r)])||void 0===i||null===(o=i.module)||void 0===o?void 0:o.prop0,s=t[0];if(1!=a&&2!=a){var l=s.querySelector(".fk-editor");h(l)>40&&m(s,"height","auto")}}}}}],(n=null)&&r(e.prototype,n),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),u}(c);t.exports=b},function(t,e,n){function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}var c=n(0);t.exports=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(u,t);var e,n,i,l=s(u);function u(){return o(this,u),l.apply(this,arguments)}return e=u,(n=[{key:"init",value:function(){}},{key:"getMutationObserverOptions",value:function(){return{callback:this.mutationCallBack.bind(this),filterClassList:["fillContentRelative","fullmeasureOuterContentPage"],dragingCall:!0}}},{key:"mutationCallBack",value:function(t){if(this.isAutoHeight()&&this.isModuleValid(this.moduleId)){Fai.top._mutationObLog&&console.log("".concat(this.moduleId,": 新版通栏"),t);var e=this.$el.height();Site.autoFmPackModuleHeight(this.$el),Fai.top._manageMode&&e!==this.$el.height()&&(Site.getModuleAttrPattern(this.moduleId).changed=!0)}}},{key:"isModuleValid",value:function(t){var e=$("#module"+t);return e.length>0&&"none"!==e.css("display")&&e.hasClass("formStyle109")&&0===$("#hiddenModuleForms").find("#module"+t).length}}])&&r(e.prototype,n),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),u}(c)},function(t,e,n){function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}var c=n(0);t.exports=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(u,t);var e,n,i,l=s(u);function u(){return o(this,u),l.apply(this,arguments)}return e=u,(n=[{key:"init",value:function(){}},{key:"getMutationObserverOptions",value:function(){return{callback:this.mutationCallBack.bind(this),filterClassList:["fillContentRelative"]}}},{key:"mutationCallBack",value:function(t){this.isAutoHeight()&&(Fai.top._mutationObLog&&console.log("".concat(this.moduleId,": 旧版通栏"),t),Site.autoFmModuleHeight(this.$el))}}])&&r(e.prototype,n),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),u}(c)},function(t,e,n){function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}var c=n(0),f=[{normalToHover:function(t,e,n){1===e.showType&&(null==n||n.hoverAppearanceStop(),t.removeClass("hover_pack_hide"),null==n||n.hoverDdmissionPlay())},hoverToNormal:function(t,e,n){var i,o=e.showType,r=e.entrance;1===o&&(null==n||n.hoverDdmissionStop(),null==n||null===(i=n.hoverAppearancePlay())||void 0===i||i.then((function(){t.addClass("hover_pack_hide")})),0===r.type&&t.addClass("hover_pack_hide"))}},{normalToHover:function(t,e,n){var i,o=e.showType,r=e.exit,a=void 0===r?{}:r;2===o&&(null==n||n.hoverDdmissionStop(),null==n||null===(i=n.hoverAppearancePlay())||void 0===i||i.then((function(){t.addClass("hover_pack_hide")})),0===a.type&&t.addClass("hover_pack_hide"))},hoverToNormal:function(t,e,n){2===e.showType&&(null==n||n.hoverAppearanceStop(),t.removeClass("hover_pack_hide"),null==n||n.hoverDdmissionPlay())}},{normalToHover:function(t,e,n){0===e.showType&&(null==n||n.emphasisStop(),t[0].getBoundingClientRect())},hoverToNormal:function(t,e,n){var i,o;0===e.showType&&-1===(null===(i=n.animationVms)||void 0===i||null===(o=i.emphasis)||void 0===o?void 0:o.count)&&setTimeout((function(){null==n||n.emphasisPlay()}),350)}},{normalToHover:function(t,e){var n=e.showType,i=e.translate,o=void 0===i?{}:i,r=e.scale,a=void 0===r?{}:r,s=e.shadow,l=void 0===s?{}:s;if(0===n){if(!Fai.top._manageMode){var u="";1===o.type?u="translate(0, -15px)":2===o.type?u="translate(15px, 0)":-1===o.type&&(u="translate(".concat(o.left,"px, ").concat(o.top,"px)"));var c="";1===a.type?c="scale(1.1)":2===a.type&&(c="scale(0.9)");var f="";return 1===l.type&&(f="0px 0px 15px rgba(0, 0, 0, 0.12)"),void t.css({transform:"".concat(u," ").concat(c),boxShadow:f})}var d={transition:"top .35s, left .35s, transform .35s, box-shadow .35s"},p=t.position(),h=p.top,m=p.left;e.initialTop=h,e.initialLeft=m,1===o.type&&(d.top="".concat(h-15,"px")),2===o.type&&(d.left="".concat(m+15,"px")),-1===o.type&&(d.left="".concat(m+o.left,"px"),d.top="".concat(h+o.top,"px")),1===a.type&&(d.transform="scale(1.1)"),2===a.type&&(d.transform="scale(0.9)"),1===l.type&&(d.boxShadow="0px 0px 15px rgba(0, 0, 0, 0.12)"),t.css(d),t[0].clearTransitionTimer&&window.clearTimeout(t[0].clearTransitionTimer),t[0].clearTransitionTimer=setTimeout((function(){t.css("transition","")}),350)}},hoverToNormal:function(t,e){var n=e.showType,i=e.translate,o=void 0===i?{}:i,r=e.shadow,a=void 0===r?{}:r,s=e.initialLeft,l=e.initialTop,u=e.scale,c=void 0===u?{}:u;if(0===n){if(!Fai.top._manageMode)return 0===o.type&&0===c.type||t.css("transform",""),void(0!==a.type&&t.css("boxShadow",""));var f={transition:"top .35s, left .35s, transform .35s, box-shadow .35s"};f.left="".concat(s,"px"),f.top="".concat(l,"px"),f.transform="",f.boxShadow="",t.css(f),t[0].clearTransitionTimer&&window.clearTimeout(t[0].clearTransitionTimer),t[0].clearTransitionTimer=setTimeout((function(){t.css("transition","")}),350)}}},{normalToHover:function(t,e){var n=e.i,i=e.showType,o=e.imageStyle;0===i&&"79"===t.attr("_modulestyle")&&o&&1===o.type&&t.find("#float_img_".concat(n)).addClass("hover_image_scale hover_image_scale_transition")},hoverToNormal:function(t,e){var n=e.i,i=e.showType,o=e.imageStyle;0===i&&"79"===t.attr("_modulestyle")&&o&&1===o.type&&t.find("#float_img_".concat(n)).addClass("hover_image_scale_transition").removeClass("hover_image_scale")}},{normalToHover:function(t,e){if(0===e.showType&&"86"===t.attr("_modulestyle")&&(t.css({height:"auto",minHeight:"40px"}),t.find(".fk-editor").css({height:"auto",minHeight:"40px"}),Fai.top._manageMode)){var n=t.find(".fkEditor-wrap");n.addClass("hover_text_transition"),n.clearTransitionTimer&&window.clearTimeout(n.clearTransitionTimer),n.clearTransitionTimer=setTimeout((function(){n.removeClass("hover_text_transition")}),350)}},hoverToNormal:function(t){if(Fai.top._manageMode){var e=t.find(".fkEditor-wrap");e.addClass("hover_text_transition"),e.clearTransitionTimer&&window.clearTimeout(e.clearTransitionTimer),e.clearTransitionTimer=setTimeout((function(){e.removeClass("hover_text_transition")}),350)}}}],d=[{normalToHover:function(){if(0!=this.packEffectType&&Fai.top._manageMode){var t={transition:"transform .35s, boxShadow .35s"};1===this.packEffectType&&(t.transform="translateY(-15px)",this.$el.css(t)),2===this.packEffectType&&(t.boxShadow="0px 0px 15px rgba(0, 0, 0, 0.12)",this.$el.css(t)),3===this.packEffectType&&(t.transform="translateY(-15px)",t.boxShadow="0px 0px 15px rgba(0, 0, 0, 0.12)",this.$el.css(t))}},hoverToNormal:function(){if(0!=this.packEffectType&&Fai.top._manageMode){this.$el.css({transform:"",boxShadow:""})}}},{normalToHover:function(){if(0!==this.bgEffectType){var t={transition:"transform .35s, opacity .35s, filter .35s"};1===this.bgEffectType&&(t.transform="scale(1.1)",this.$el.find(".f-packContentBg").css(t)),2===this.bgEffectType&&(t.opacity="1",this.$el.find(".f-packContentBg").css(t)),3===this.bgEffectType&&(t.filter="blur(3px)",this.handleSubModule((function(e,n){0===n.showType&&e.css(t)})),this.$el.find(".f-packContentBg").css(t)),4===this.bgEffectType&&($("#f-packMaskBg".concat(this._module.id)).addClass("f-packMaskBg-fade-hover"),this.handleSubModule((function(t,e){0===e.showType||2===e.showType?t.css({zIndex:0}):t.css({zIndex:1})}))),5===this.bgEffectType&&($("#f-packMaskBg".concat(this._module.id)).addClass("f-packMaskBg-slide-hover"),this.handleSubModule((function(t,e){0===e.showType||2===e.showType?t.css({zIndex:0}):t.css({zIndex:1})})))}},hoverToNormal:function(){var t=this;if(0!==this.bgEffectType){var e={};1===this.bgEffectType&&(e.transform="",this.$el.find(".f-packContentBg").css(e)),2===this.bgEffectType&&(e.opacity="",this.$el.find(".f-packContentBg").css(e)),3===this.bgEffectType&&(e.filter="",this.handleSubModule((function(t,n){0===n.showType&&t.css(e)})),this.$el.find(".f-packContentBg").css(e)),4===this.bgEffectType&&($("#f-packMaskBg".concat(this._module.id)).css("zIndex","1").removeClass("f-packMaskBg-fade-hover"),setTimeout((function(){$("#f-packMaskBg".concat(t._module.id)).css("zIndex","")}),350)),5===this.bgEffectType&&$("#f-packMaskBg".concat(this._module.id)).removeClass("f-packMaskBg-slide-hover")}}}];t.exports=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(u,t);var e,n,i,l=s(u);function u(){return o(this,u),l.apply(this,arguments)}return e=u,i=[{key:"initData",value:function(t,e,n){if("undefined"!=typeof Vue&&Vue.set)return Vue.set(t,e,n);jzUtils.isObject(t)&&(t[e]=n)}},{key:"initAnimationModuleData",value:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;Fai.top._manageMode&&jzManage._store.dispatch("pauseDataWatch");var n=t.showType;0===n?(jzUtils.isObject(t.translate)||u.initData(t,"translate",{type:0,top:0,left:0}),jzUtils.isObject(t.shadow)||u.initData(t,"shadow",{type:0}),jzUtils.isObject(t.scale)||u.initData(t,"scale",{type:0})):1===n?jzUtils.isObject(t.entrance)||u.initData(t,"entrance",{type:1,direction:0}):2===n&&(jzUtils.isObject(t.exit)||u.initData(t,"exit",{type:31,direction:0})),86===e&&(jzUtils.isObject(t.textStyle)||u.initData(t,"textStyle",{color:"",fontSize:"",bold:!1,underline:!1,italic:!1})),79===e&&(jzUtils.isObject(t.imageStyle)||u.initData(t,"imageStyle",{type:0}))}},{key:"setModuleAnimation",value:function(t){var e=t.i,n=t.entrance,i=t.exit,o=t.showType,r=bizShared.AnimationApis.getAnimationManage(e);1===o&&r.updateAnimation({hoverDdmission:{t:n.type,s:.35,r:n.direction},hoverAppearance:{t:u.getExitType(n.type),s:.35,r:35===n.type||1===n.type?u.getMoveAnimationDirection(n.direction):n.direction}}),2===o&&r.updateAnimation({hoverDdmission:{t:u.getEntranceType(i.type),s:.35,r:32===i.type||31===i.type?u.getMoveAnimationDirection(i.direction):i.direction},hoverAppearance:{t:i.type,s:.35,r:i.direction}})}},{key:"getExitType",value:function(t){return{1:31,35:32,34:33}[t]}},{key:"getEntranceType",value:function(t){return{31:1,32:35,33:34}[t]}},{key:"getMoveAnimationDirection",value:function(t){return{1:2,2:1,3:4,4:3}[t]}}],(n=[{key:"init",value:function(){this.initHoverPack()}},{key:"_module",get:function(){return Fai.top._manageMode?this.module||{}:this.options||{}}},{key:"subModuleList",get:function(){return this._module.prop1||[]}},{key:"packEffectType",get:function(){return this._module.prop5.packEffect.type||0}},{key:"bgEffectType",get:function(){return this._module.prop5.bgEffect.type||0}},{key:"linkData",get:function(){return this._module.prop5.link||{}}},{key:"initHoverPack",value:function(){this.isHoverPack()&&(this._module.hoverStatus=0,this.initSubModuleAnimation(),this.$el.addClass("fk-hoverPack"),this.setPerformAttr("_autoHeight",0),this.initPackEffectInVistor(),this.initHoverPackBgMaskEffect(),this.initHoverEvent(),this.initHoverPackLink(),this.initSimpleTextTransition())}},{key:"isHoverPack",value:function(){return 1===this._module.prop2}},{key:"initSimpleTextTransition",value:function(){Fai.top._manageMode||this.handleSubModule((function(t,e){0===e.showType&&"86"===t.attr("_modulestyle")&&t.find("*").each((function(){var t=$(this);t.contents().filter((function(){return 3===this.nodeType})).text()&&t.attr("need-transition","true")}))}))}},{key:"initHoverPackLink",value:function(){if(Fai.top._manageMode)jzModule.PackManageModule.initHoverPackLinkInManage(this.module.id,this.linkData);else{var t=this.linkData,e=t.h,n=t.ot,i=t.reqArgs,o=t.isOpen;if(1===this.linkData.isOpen){var r=$('<div id="hoverPackLink" class="hover_pack_link"></div>');this.$el.append(r),e.includes("Site.hoverQrCode")?r.attr("onmouseover",Fai.decodeHtml(e.replace("_script:",""))):r.on("click.link",(function(t){1===o&&(t.stopPropagation(),t.preventDefault(),JZ.setUrlArgToCookieAndJumpByWindowOpen(e,n?"_blank":"_self",i))}))}}}},{key:"initHoverPackBgMaskEffect",value:function(){var t=this._module.id,e={4:"f-packMaskBg-fade",5:"f-packMaskBg-slide"}[this.bgEffectType]||"",n="f-packMaskBg".concat(t);$("#".concat(n)).length>0&&$("#".concat(n)).remove(),$(".f-packContentBg".concat(t)).before($('<div id="'.concat(n,'" class="f-packMaskBg ').concat(n," ").concat(e,'"></div>')))}},{key:"initPackEffectInVistor",value:function(){Fai.top._manageMode||(this.handleSubModule((function(t,e){0===e.showType&&t.addClass("pack_module_transition")})),0!=this.packEffectType&&(this.$el.addClass("hove_pack_effect--transition"),1===this.packEffectType&&this.$el.addClass("hove_pack_effect--translateY"),2===this.packEffectType&&this.$el.addClass("hove_pack_effect--boxShadow"),3===this.packEffectType&&this.$el.addClass("hove_pack_effect--translateY hove_pack_effect--boxShadow")))}},{key:"initSubModuleAnimation",value:function(){var t=this;setTimeout((function(){t.handleSubModule((function(t,e){u.initAnimationModuleData(e,Number(t.attr("_modulestyle"))),u.setModuleAnimation(e)}))}),100)}},{key:"initHoverEvent",value:function(){var t=this;Fai.top._manageMode||this.$el.on("mouseenter.hoverPack",(function(){t.changeHoverStatus()})).on("mouseleave.hoverPack",(function(){t.changeNormalStatus()}))}},{key:"changeNormalStatus",value:function(){var t=this;0!==this._module.hoverStatus&&(this._module.hoverStatus=0,this.$el.removeClass("pack_hover_status"),this.handleSubModule((function(e,n){var i=n.i,o=bizShared.AnimationApis.getAnimationManage(i);f.forEach((function(i){var r=i.hoverToNormal;jzUtils.isFunction(r)&&r.call(t,e,n,o)}))})),d.forEach((function(e){var n=e.hoverToNormal;jzUtils.isFunction(n)&&n.call(t)})))}},{key:"changeHoverStatus",value:function(){var t=this;1!==this._module.hoverStatus&&(this._module.hoverStatus=1,this.$el.addClass("pack_hover_status"),this.handleSubModule((function(e,n){var i=n.i,o=bizShared.AnimationApis.getAnimationManage(i);f.forEach((function(i){var r=i.normalToHover;jzUtils.isFunction(r)&&r.call(t,e,n,o)}))})),d.forEach((function(e){var n=e.normalToHover;jzUtils.isFunction(n)&&n.call(t)})))}},{key:"handleSubModule",value:function(t){var e=this,n=this.$el.find(".form");Array.from(n).filter((function(t){return jzModule.Module.getPerformAttr(Site.getElemId($(t)),"_inpack")>0})).forEach((function(n){var i=$(n),o=Number((i.attr("id")||"").replace("module",""))||-1,r=e.subModuleList.find((function(t){return t.i===o}));t(i,r)}))}},{key:"getSubModuleShowType",value:function(t){return this.getSubModuleAnimationData(t).showType||0}},{key:"getSubModuleAnimationData",value:function(t){var e=this._module.prop1.find((function(e){return e.i==t}));if(e)return e;console.error("getSubModuleAnimationData error")}},{key:"getMutationObserverOptions",value:function(){return{callback:this.mutationCallBack.bind(this),filterSelector:""}}},{key:"mutationCallBack",value:function(t){this.isAutoHeight()&&(Fai.top._mutationObLog&&console.log("".concat(this.moduleId,": 自由容器"),t),Site.autoPackModuleHeight(this.$el))}}])&&r(e.prototype,n),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),u}(c)},function(t,e,n){function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}var c=n(0);t.exports=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(u,t);var e,n,i,l=s(u);function u(){return o(this,u),l.apply(this,arguments)}return e=u,n=[{key:"init",value:function(){this.bindAccordionEvent(),this.fixOpacityInIE8()}},{key:"bindAccordionEvent",value:function(){if(!Fai.top._manageMode){var t=this;this.$el.find(".accordion_item").off("mouseenter.active").on("mouseenter.active",(function(){var e=$(this);e.hasClass("accordion_item_active")||(e.siblings(":not(.empty_padding)").each((function(t,e){var n=$(e);n.hasClass("accordion_item_active")&&(n.removeClass("accordion_item_active"),n.find(".accordion_item_collapse").show(),n.find(".accordion_item_collapse").removeClass("accordion_item_bg_pull"))})),e.find(".accordion_item_expand").show().end().addClass("accordion_item_active"),"none"!==e.find(".accordion_item_collapse").css("background-image")&&e.find(".accordion_item_collapse").addClass("accordion_item_bg_pull"),u.triggerModuleAnimation(t,e),u.triggerFlvModuleLazyLoad(e),t.fixModuleHeightInVisitMode())}))}}},{key:"getMutationObserverOptions",value:function(){return{callback:this.mutationCallBack.bind(this),filterSelector:""}}},{key:"isAutoHeight",value:function(){return!(1!==parseInt(this.getPerformAttr("_autoHeight")))&&(Fai.top._manageMode?0===this.module.pattern.acp.ih.y:("undefined"!=typeof this.visitModeAutoHeight||(this.visitModeAutoHeight="1"===this.$el.find(".accordion_pack_container").attr("_autoheight")),this.visitModeAutoHeight))}},{key:"mutationCallBack",value:function(t){this.isAutoHeight()&&(Fai.top._mutationObLog&&console.log("".concat(this.moduleId,": 手风琴容器"),t),this.fixAutoHeight())}},{key:"fixAutoHeight",value:function(){var t=this,e=null;Fai.top._manageMode&&(e=this.$el.find(".J_accordionPackContent:not(:visible)")).show().css("visibility","hidden");var n=this.$el.find(".accordion_item_collapse .form"),i=this.$el.find(".accordion_item_expand .form"),o=this.getModuleMaxHeight(n,340),r=this.getModuleMaxHeight(i,420);Fai.top._manageMode&&(e.hide().css("visibility",""),jzManage._store.dispatch("pauseDataWatch")),this.module.expandHeight=r,this.module.collapseHeight=o,this.getPerformAttr("_infullmeasurepack")>0&&setTimeout((function(){t.$el.find(".accordion_pack_container").toggleClass("js_triggerMutationOb")}),300),this.fixModuleHeightInVisitMode()}},{key:"fixModuleHeightInVisitMode",value:function(){Fai.top._manageMode||("number"==typeof this.module.collapseHeight&&this.$el.find(".accordion_item").height(this.module.collapseHeight),"number"==typeof this.module.expandHeight&&this.$el.find(".accordion_item_active").height(this.module.expandHeight))}},{key:"getModuleMaxHeight",value:function(t){for(var e=Array.from(t),n=e.reduce((function(t,e){var n=$(e),i=parseInt(n.css("top"))||0,o=n.outerHeight(!0);return i+o>t?i+o:t}),0),i=arguments.length,o=new Array(i>1?i-1:0),r=1;r<i;r++)o[r-1]=arguments[r];return Math.max.apply(Math,[n].concat(o))}},{key:"fixOpacityInIE8",value:function(){Fai.isIE8()&&0===$("#accordionFixOpacity").length&&$("head").append('\n\t\t\t\t<style id="accordionFixOpacity">\n\t\t\t\t\t.accordion_item_expand{\n\t\t\t\t\t\tfilter: alpha(opacity=0);\n\t\t\t\t\t}\n\t\t\t\t\t.accordion_item_collapse {\n\t\t\t\t\t\tfilter: alpha(opacity=100);\n\t\t\t\t\t}\n\t\t\t\t\t.accordion_item_active .accordion_item_expand {\n\t\t\t\t\t\tfilter: alpha(opacity=100);\n\t\t\t\t\t}\n\t\t\t\t\t.accordion_item_active .accordion_item_collapse {\n\t\t\t\t\t\tfilter: alpha(opacity=0);\n\t\t\t\t\t}\n\t\t\t\t</style>\n\t\t\t')}}],i=[{key:"triggerModuleAnimation",value:function(t,e){var n=e&&e.find(".form[data-animationsid]")||[];n.length&&n.each((function(){var t=parseInt($(this).attr("data-animationsid"));bizShared.AnimationApis.getAnimationManage(t).isLoopRun(bizShared.ANIMATION_TYPE.CONTENT)&&jzModule.Module.refreshOneSiteAnimationElPlay(t,!1)}))}},{key:"triggerFlvModuleLazyLoad",value:function(t){t.find("video").trigger("appear")}}],n&&r(e.prototype,n),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),u}(c)},function(t,e,n){function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}var c=n(0);t.exports=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(u,t);var e,n,i,l=s(u);function u(){return o(this,u),l.apply(this,arguments)}return e=u,n=[{key:"init",value:function(){this.listDataChange=!1,this.isGenerate=!1,this.showList=!1,this.bindEvent(),this.hideSeoNav()}},{key:"hideSeoNav",value:function(){this.module._manageMode||$(".m_friendlink__seonav").remove()}},{key:"bindEvent",value:function(){var t=this,e=this;this.$el.find(".m_friendlink__wrapper").click((function(t){e.toggleFoucs(),e.toggleList()})),document.addEventListener("scroll",(function(){t.cancelActive()})),window.addEventListener("resize",(function(){t.cancelActive()}))}},{key:"cancelActive",value:function(){this.showList&&(this.removeFoucs(),this.hideListLayer({noAnimate:!0}))}},{key:"setListDataChange",value:function(t){this.listDataChange=t}},{key:"setIsGenerate",value:function(t){this.isGenerate=t}},{key:"removeFoucs",value:function(){this.$el.find(".m_friendlink__wrapper").removeClass("m_friendlink__wrapper-active")}},{key:"toggleFoucs",value:function(){this.$el.find(".m_friendlink__wrapper").toggleClass("m_friendlink__wrapper-active")}},{key:"toggleList",value:function(){this.module.prop3.length&&(this.showList=!this.showList,!this.listDataChange&&this.isGenerate||!this.showList||this.generateListLayer(),this.showList?(this.setListLayerStyle(),this.showListLayer()):this.hideListLayer())}},{key:"showListLayer",value:function(){this.showList=!0;var t=$("#m_friendlink__list-".concat(this.moduleId)),e=$("#m_friendlink__layer-".concat(this.moduleId));0==this.module.prop1?t.show():t.slideDown(),e.show()}},{key:"hideListLayer",value:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.showList=!1;var e=$("#m_friendlink__list-".concat(this.moduleId)),n=$("#m_friendlink__layer-".concat(this.moduleId));t.noAnimate||0==this.module.prop1?e.hide():e.slideUp(),n.hide()}},{key:"setListLayerStyle",value:function(){this.setListStyle(),this.setLayerStyle()}},{key:"generateListLayer",value:function(){var t=$("#m_friendlink__list-".concat(this.moduleId)),e=$("#m_friendlink__layer-".concat(this.moduleId));t.length&&t.remove(),e.length&&e.remove(),this.setIsGenerate(!1),this.generateListDom(),this.generateLayerDom(),this.setIsGenerate(!0),this.setListDataChange(!1)}},{key:"generateLayerDom",value:function(){var t='\n                <div id="m_friendlink__layer-'.concat(this.moduleId,'" \n                    class="m_friendlink__layer" \n                ></div>\n            '),e=this;$("#web").append(t),$("#m_friendlink__layer-".concat(this.moduleId)).click((function(){e.toggleFoucs(),e.toggleList()}))}},{key:"generateListDom",value:function(){for(var t=[],e=this.module.prop3,n=0;n<e.length;n++){var i=e[n],o="\n                    <li class='m_friendlink__item'>\n                        <a class='m_friendlink__itemname' \n                           target=".concat(i.link.target||"_self","\n                           href='").concat(i.link.jumpUrl||"javascript:void(0);","'\n                           ").concat(i.link.jumpUrl?"onclick=jzModule.SiteModule.find("+this.moduleId+").hideListLayer({noAnimate:true})":'onclick="return false"',"   \n                        >\n                            ").concat(i.name,"\n                        </a>\n                    </li>\n                ");t.push(o)}var r='\n            <div id="m_friendlink__list-'.concat(this.moduleId,'" \n                 class="m_friendlink__list m_friendlink__list-').concat(this.module.prop1,'"\n            >\n                <ul class="m_friendlink__ul"> \n                    ').concat(t.join(""),"\n                </ul>\n            </div>\n        ");$("#web").append(r),setTimeout((function(){}))}},{key:"setLayerStyle",value:function(){$("#m_friendlink__layer-".concat(this.moduleId)).css({width:$("html").width()+"px",height:$("html").height()+"px"})}},{key:"setListStyle",value:function(){var t=$("#m_friendlink__list-".concat(this.moduleId)),e=$(this.$el).find(".m_friendlink__wrapper")[0].getBoundingClientRect(),n=e.left,i=e.top,o=e.width,r=e.bottom,a=this.module._manageMode?0==this.module.pattern.fl.dir:0==this.module.dir;position={left:n+"px",width:o+"px"},position=a?Object.assign(position,{top:r+5+"px",bottom:""}):Object.assign(position,{bottom:$("html").height()-i+5+"px",top:""}),t.css(position)}}],i=[{key:"resizeModule",value:function(t,e){var n=Site.getElemId(t.element),i=jzModule.SiteModule.find(n);friendLinkPattern=i.module.pattern.fl,e&&(friendLinkPattern.rect.t=1),friendLinkPattern.rect.w=t.size.width,friendLinkPattern.rect.h=t.size.height}}],n&&r(e.prototype,n),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),u}(c)},function(t,e,n){function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}var c=n(0),f=n(30),d=f.getBackgroundStyle,p=f.getFontWeight;t.exports=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(u,t);var e,n,i,l=s(u);function u(){return o(this,u),l.apply(this,arguments)}return e=u,(n=[{key:"init",value:function(){var t=this;setTimeout((function(){t.initEvent(),t.initHoverBgEvent(),t.initHoverTextEvent(),t.initHoverShowPanelEvent()}))}},{key:"panelHoming",value:function(){$(".J_newsgroup__hoveritem").hide(),$(".J_newsgroup__hoveritem").each((function(t,e){var n=$(e),i=n.attr("data-id");n.parent(".m_newsgroup__item-1[data-id=".concat(i,"]")).length||$(".m_newsgroup__item-1[data-id=".concat(i,"]")).append(e)}))}},{key:"initHoverShowPanelEvent",value:function(){if(!this.module.vdir&&0==this.module.groupType){var t=this;this.$el.find(".m_newsgroup__wrap-h .m_newsgroup__itemwrap-1 .m_newsgroup__item-1").off("mouseenter.showPanel").off("mouseleave.showPanel").on("mouseenter.showPanel",(function(e){t.panelHoming();var n=$(this).attr("data-id"),i=$(this).find(".J_newsgroup__hoveritem-".concat(n));if(0!=i.length){i.appendTo("body");var o=$(this).offset(),r=o.left,a=o.top,s=$(this).position().left;i.css({left:r-s,top:a+$(this).outerHeight(),width:t.$el.width()-30,"z-index":9029}),i.show()}})).on("mouseleave.showPanel",(function(e){var n=$(this).attr("data-id"),i=$(".J_newsgroup__hoveritem-".concat(n));if(i.length){var o=e.pageX,r=e.pageY,a=i.offset(),s=a.left,l=a.top;i.parent(".m_newsgroup__item-1[data-id=".concat(n,"]")).length||(o>=s&&o<=s+i.outerWidth()&&r>=l-$(this).height()&&r<=l+i.outerHeight()?i.off("mouseleave.showPanel").on("mouseleave.showPanel",(function(e){setTimeout((function(){var n=Array.from(t.$el.find(".m_newsgroup__item-1")).some((function(t){var n=$(t),i=e.pageX,o=e.pageY,r=n.offset(),a=r.left,s=r.top;return i>=a&&i<=a+n.outerWidth()&&o>=s&&o<=s+n.outerHeight()}));n||t.panelHoming()}),20)})):t.panelHoming())}}))}}},{key:"initEvent",value:function(){var t=this.$el,e=t.find(".m_newsgroup__controlor");e.off("click.slidepanel"),t.find(".m_newsgroup__item-1").off("mouseover.fix").off("mouseover.fix"),(0==this.module.groupType||this.module.clickExpand)&&e.off("click.slidepanel").on("click.slidepanel",(function(){$(this).find(".m_newsgroup__switchicon").toggleClass("m_newsgroup__switchicon-rotate"),$(this).siblings(".m_newsgroup__itemwrap").slideToggle()}))}},{key:"initHoverBgEvent",value:function(){var t=this,e="";this.$el.find(".m_newsgroup__controlor").off("mouseover.hoverbg"),this.$el.find(".m_newsgroup__controlor").not(".m_newsgroup__controlor-nothover").off("mouseover.hoverbg").on("mouseover.hoverbg",(function(){var n=(t.module.pattern||{}).chb||{},i="undefined"==typeof n.r?-1:n.r,o=n.c||"#000",r=n.p||"",a="",s="";4==i?a="background-size:100% 100%;background-position:top;":5==i&&(a="background-size:100%;background-position:top;"),s+="background: "+d(i,o,r)+"; "+a+"\n",2==n.y&&(e=$(this).attr("style")||"",$(this).attr("style",s))})),this.$el.find(".m_newsgroup__controlor").off("mouseout.hoverbg").on("mouseout.hoverbg",(function(){2==((t.module.pattern||{}).chb||{}).y&&$(this).attr("style",e)}))}},{key:"initHoverTextEvent",value:function(){var t=this,e="";this.$el.find(".m_newsgroup__controlor").off("mouseover.hovertext"),this.$el.find(".m_newsgroup__controlor").not(".m_newsgroup__controlor-nothover").off("mouseover.hovertext").on("mouseover.hovertext",(function(){var n=(t.module.pattern||{}).chf||{},i=n.s||12,o=n.w||0,r=n.u||0,a=n.i||0,s=n.f||"SimSun",l=n.c||"#000000",u={"font-size":i+"px","font-family":s,"font-style":1==a?"italic":"normal","font-weight":p(o),"text-decoration":1==r?"underline":"blink",color:l},c=$(this).find(".m_newsgroup__href");e=c.attr("style")||"",n.y?c.css(u):t.module._manageMode?c.css("color",Fai.top._majorColorData):c.css("color",t.module._majorColorData)})),this.$el.find(".m_newsgroup__controlor").off("mouseout.hovertext").on("mouseout.hovertext",(function(){$(this).find(".m_newsgroup__href").attr("style",e)}))}}])&&r(e.prototype,n),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),u}(c)},function(t,e,n){"use strict";function i(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=r(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(l)throw a}}}}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var i,o,r=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(i=n.next()).done)&&(r.push(i.value),!e||r.length!==e);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}return r}(t,e)||r(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.r(e),n.d(e,"FontPattern",(function(){return l})),n.d(e,"setBitMemory",(function(){return u})),n.d(e,"getBitMemory",(function(){return c})),n.d(e,"mapFlag",(function(){return f})),n.d(e,"bindFlag",(function(){return d})),n.d(e,"operMultiLevelObjectAttr",(function(){return p})),n.d(e,"getBorderStyle",(function(){return h})),n.d(e,"getFontWeight",(function(){return m})),n.d(e,"getFontIcnBase",(function(){return v})),n.d(e,"getBackgroundStyle",(function(){return g})),n.d(e,"getCompatibleColorStyle",(function(){return y})),n.d(e,"getRepeatStyle",(function(){return b})),n.d(e,"getPositionStyle",(function(){return _})),n.d(e,"normalizedBackgroundStyle",(function(){return w})),n.d(e,"rgba2hexOrTransparent",(function(){return S})),n.d(e,"hexComponent",(function(){return k})),n.d(e,"getSizeStyleSingle",(function(){return C})),n.d(e,"getSizeStyle",(function(){return M})),n.d(e,"getSplitLineSize",(function(){return F})),n.d(e,"getCompatibleTextColorStyle",(function(){return T})),n.d(e,"rgba2hex",(function(){return P})),n.d(e,"normalizedTextStyle",(function(){return x})),n.d(e,"getHoverFontStyle",(function(){return I})),n.d(e,"getFontStyle",(function(){return O})),n.d(e,"getHoverBgStyle",(function(){return L})),n.d(e,"getSelectBgStyle",(function(){return $})),n.d(e,"getSelectFontStyle",(function(){return j})),n.d(e,"canShowHoverStyle",(function(){return A})),n.d(e,"canShowSelectStyle",(function(){return E})),n.d(e,"initBgRepeat",(function(){return D})),n.d(e,"colortoRgba",(function(){return B})),n.d(e,"createBackgroundStr",(function(){return H})),n.d(e,"getRGBAData",(function(){return z})),n.d(e,"isPictureTabModule",(function(){return N})),n.d(e,"isVueStyleGrayTest",(function(){return R})),n.d(e,"burnColor",(function(){return J})),n.d(e,"hexToRgba",(function(){return U})),n.d(e,"colorToRgba",(function(){return q})),n.d(e,"createFontCss",(function(){return V})),n.d(e,"getGradientColor",(function(){return W}));var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.font=e,this._parseFont()}var e,n,i;return e=t,(n=[{key:"_parseFont",value:function(){var t=this.font,e=t.s,n=t.w,i=t.u,o=t.i,r=t.f,a=t.c;this.fontSize=e,this.fontWeight=n,this.underline=i,this.italic=o,this.fontFamily=r,this.color=a}},{key:"_getFontWeight",value:function(){return this.fontWeight>0?"bold":"normal"}},{key:"toStyle",value:function(){return"\n            {\n                font-family: ".concat(this.fontFamily,";\n                font-size: ").concat(this.fontSize,"px;\n                font-weight: ").concat(this._getFontWeight(),";\n                font-style: ").concat(1===this.italic?"italic":"normal",";\n                text-decoration: ").concat(1===this.underline?"underline":"none",";\n                color: ").concat(this.color,";\n            }\n        ")}}])&&s(e.prototype,n),i&&s(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function u(t,e,n){return n?t|=e:t&=~e,t}function c(t,e){return(t&e)==e}function f(t,e){for(var n={},i=0,r=Object.entries(t);i<r.length;i++){var a=o(r[i],2),s=a[0],l=a[1];n[s]=d(l,e)}return n}function d(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"module.flag";return p(e,(function(e){return c(this[e],t)}),(function(e,n){this[e]=u(this[e],t,n)}))}function p(t,e,n){function o(e){return function(){var n="",o=this,r=t.split(".");n=r.pop();var a,s=i(r);try{for(s.s();!(a=s.n()).done;){var l=a.value;o=o[l]}}catch(u){s.e(u)}finally{s.f()}return e.call.apply(e,[o,n].concat(Array.prototype.slice.call(arguments),[this]))}}return{get:o(e),set:o(n)}}function h(t){return 1==t?"dotted":2==t?"dashed":"solid"}function m(t){return t>0?"bold":"normal"}function v(){return['font-family:"icomoon",微软雅黑,"microsoft yahei",宋体,新宋体;',"speak:none;","font-style:normal;","font-weight:normal;","font-variant:normal;","text-transform:none;","line-height:1;","-webkit-font-smoothing:antialiased;","-moz-osx-font-smoothing:grayscale;"].join("")}function g(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:-1,e=arguments.length>1?arguments[1]:undefined,n=arguments.length>2?arguments[2]:undefined;return y(n&&-1!=t?"url("+n+") "+b(t)+" "+_(t)+","+e:e)}function y(t){if(null==t)return"";var e=";\n";e+="background:"+S(t=w(t))+";\n";var n=t.indexOf("linear-gradient(");return n>-1&&(e+="background:"+t.substring(0,n)+"-webkit-"+t.substring(n)+";\n",e+="background:"+t.substring(0,n)+"-moz-"+t.substring(n)+";\n",e+="background:"+t.substring(0,n)+"-ms-"+t.substring(n)+";\n",e+="background:"+t.substring(0,n)+"-o-"+t.substring(n)+";\n"),e+="background:"+t+";\n"}function b(t){var e="";return 0!=t&&6!=t&&7!=t&&8!=t&&9!=t&&13!=t&&14!=t&&15!=t&&16!=t&&17!=t&&40!=t||(e="no-repeat"),1!=t&&11!=t&&12!=t||(e="repeat-x"),2!=t&&21!=t&&22!=t||(e="repeat-y"),3!=t&&4!=t&&5!=t&&30!=t||(e="repeat"),e}function _(t){var e="center";return 9!=t&&12!=t||(e="bottom"),6!=t&&21!=t||(e="left"),7!=t&&22!=t||(e="right"),4!=t&&5!=t&&8!=t&&11!=t&&30!=t||(e="top"),13==t&&(e="left top"),14==t&&(e="right top"),15==t&&(e="left bottom"),16==t&&(e="right bottom"),e}function w(t){if(null==t)return"";if((t=(t=t.trim()).match("(?:.*?:)?([\\s\\S]*)")[1]||"").length<2)return t;","==t.substring(0,1)&&(t=t.substring(1)),","==t.substring(t.length-1)&&(t=t.substring(0,t.length-1));var e=t.indexOf("linear-gradient("),n=t.indexOf("url(");return e>-1&&n>-1&&e<n?t.substring(n)+","+t.substring(0,n):t}function S(t){if(null==t)return"";if(0!==t.indexOf("rgb"))return t;var e=t.indexOf("rgb"),n=(t=t.substring(e,t.indexOf(")",e))).split(/[()]/)[1].split(",");if(n.length<3)return"#000000";var i=n[0],o=n[1],r=n[2];if(n.length<4)return"#"+k(i)+k(o)+k(r);var a=n[3]||"";return"0"==(a=a.replace(/\s/g,""))?"transparent":"#"+k(i)+k(o)+k(r)}function k(t){if(null==t)return"00";t=t.replace(/\s/g,"");var e=parseInt(t).toString(16);return 1==e.length?"0"+e:e}function C(t){var e=M(t);return null==e&&(e=""),""!=e&&(e="background-size:"+e+";"),e}function M(t){var e="";return 4==t?e="100% 100%":5==t?e="100%":30==t?e="cover":40==t&&(e="contain"),e}function F(t,e){var n={height:2,lineHeihgt:0};if(t<3||t>8||e<0||e>10)return n;switch(t){case 3:switch(e){case 10:n.height=5;break;case 9:case 8:case 7:case 6:n.height=4;break;case 5:n.height=3;break;case 4:case 3:case 2:n.height=2;break;case 1:n.height=1}break;case 4:case 5:switch(e){case 10:n.height=7,n.lineHeight=1;break;case 9:n.height=7,n.lineHeight=2;break;case 8:n.height=6;break;case 7:n.height=6,n.lineHeight=1;break;case 6:n.height=5,n.lineHeight=1;break;case 5:n.height=4;break;case 4:case 3:case 2:n.height=3;break;case 1:n.height=1}break;case 6:switch(e){case 10:n.height=6;break;case 9:case 8:n.height=5;break;case 7:case 6:n.height=4;break;case 5:case 4:case 3:n.height=3;break;case 2:case 1:n.height=2}break;default:n.height=2,n.lineHeight=0}return n}function T(t,e){arguments.length>2&&undefined;if(null==t)return"";var n=x(t),i="",o=t.indexOf("linear-gradient(");return o>-1?(i+="background-image:"+t.substring(0,o)+"-webkit-"+t.substring(o)+(e?" !important":"")+";\n",i+="background-image:"+t+(e?" !important":"")+";\n",i+="-webkit-background-clip:text;",i+="-webkit-text-fill-color:transparent;",i+="color:"+P(n)+";\n",i+="color:"+n+(e?" !important":"")+";\n"):(i+="color:"+P(t)+";\n",i+="color:"+t+(e?" !important":"")+";\n"),i}function P(t){if(null==t)return"";if(-1==t.indexOf("rgb"))return t;var e=t.indexOf("rgb"),n=(t=t.substring(e,t.indexOf(")",e))).split(/[()]/)[1].split(",");if(n.length<3)return"#000000";var i=n[0],o=n[1],r=n[2];return"#"+k(i)+k(o)+k(r)}function x(t){if(null==t)return"";if((t=t.trim()).indexOf("linear-gradient(")>-1){var e=t.indexOf("rgb");e>-1&&(t=(t=t.substring(e)).substring(0,t.indexOf(")")+1))}return t}function I(t,e,n,i,o,r,a,s,l){return O(e,a,"g_hover",n,i,o,r,s,l)}function O(t,e,n,i,o,r,a,s,l){var u="";return"g_hover"==n?(u+=e+" .formMiddle.formMiddle"+t+" ."+n+" a span, ",u+=e+" .formMiddle.formMiddle"+t+" ."+n+" a, ",u+=e+" .formMiddle.formMiddle"+t+" ."+n+" span, ",u+=e+" .formMiddle.formMiddle"+t+" ."+n,u+="{",u+="font-size: "+i+"px;",u+="font-family: "+s+";",u+="font-weight: "+m(o)+";",u+="font-style: "+(1==a?"italic":"normal")+";",u+="text-decoration: "+(1==r?"underline":"blink")+";",u+="color: "+l+";",u+="}\n"):(u+=e+" .formMiddle"+t+" ."+n+" a span, ",u+=e+" .formMiddle"+t+" ."+n+" a, ",u+=e+" .formMiddle"+t+" ."+n,u+="{",u+="font-size: "+i+"px;",u+="font-family: "+s+";",u+="font-style: "+(1==a?"italic":"normal")+";",u+="font-weight: "+m(o)+";",u+="text-decoration: "+(1==r?"underline":"blink")+";",u+="color: "+l+";",u+="}\n"),u}function L(t,e,n,i,o,r,a,s){var l="",u="";(4==n?l="background-size:100% 100%;background-position:top;":5==n&&(l="background-size:100%;background-position:top;"),A(t))&&(u+=s?o+" .formMiddle.formMiddle"+i+" .g_hover { background: none; }\n":o+" .formMiddle.formMiddle"+i+" .g_hover { background: "+g(n,r,a)+"; "+l+"}\n");return u}function $(t,e,n,i,o,r,a,s){var l="",u="";(4==n?l="background-size:100% 100%;background-position:top;":5==n&&(l="background-size:100%;background-position:top;"),E(t))&&(u+=s?o+" .formMiddle"+i+" .g_selected { background: none; }\n":o+" .formMiddle"+i+" .g_selected { background: "+g(n,r,a)+";"+l+" }\n");return u}function j(t,e,n,i,o,r,a,s,l){return O(e,a,"g_selected",n,i,o,r,s,l)}function A(t){var e=[13,21,26,38,9].includes(t),n=[6,7,24,47].includes(t),i=[10,11,27].includes(t);return e||n||i}function E(t){var e=[21,26,38,9].includes(t),n=[24].includes(t),i=[11,27].includes(t);return e||n||i}function D(t){return void 0===t?-1:t}function B(t,e){var n=.01*e,i=[];if(t.indexOf("rgb")>=0)return"rgba("+(i=t.split(","))[0].split("(")[1]+","+i[1]+","+i[2].replace(")","")+","+n+")";if(t.indexOf("#")>=0){if(7==t.length){var o=parseInt(t.substring(1),16);return"rgba("+(o>>16)+","+((65280&o)>>8)+","+(255&o)+","+n+")"}if(4==t.length){var r=String.valueOf(t.charAt(1)),a=String.valueOf(t.charAt(2)),s=String.valueOf(t.charAt(3));return"rgba("+parseInt(r+r,16)+","+parseInt(a+a,16)+","+parseInt(s+s,16)+","+n+")"}}return t}function H(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=t;switch(e.y){case 1:return"background: none;";case 2:var n="",i="",o=e.c||"",r=e.r,a=e.f;return a&&-1!==r&&(i="url(".concat(e.p,") ").concat(b(r)," ").concat(_(r))),""===o?o=i:n=""===i?o:i+","+o,"background: ".concat(n,";");default:return""}}function z(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"",e=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+)\s*)?\)/g,n=e.exec(t);if(!n)return{};var i=o(n,5),r=i[1],a=i[2],s=i[3],l=i[4];return{r:r,g:a,b:s,a:l}}function N(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return 110===t.style&&2===t.prop2}function R(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=arguments.length>1?arguments[1]:undefined,n=arguments.length>2?arguments[2]:undefined,i=t.style,o=void 0===i?0:i;return!n&&(!!N(t)||(!![18,116].includes(o)||e))}function J(t,e){var n=function(t){if(3==(t=t.replace("#","").toLowerCase()).length){for(var e=new Array,n=3;n--;)e[n]=t.charAt(n)+""+t.charAt(n);t=e.join("")}if(6==t.length){var i=t.match(/[0-9a-f]{2}/g);if(i&&3==i.length){for(n=3;n--;)i[n]=parseInt(i[n],16);return i}return!1}}(function(t){if(/#/g.test(t))return t;t=t.replace(/[rgba\(\)]/g,"").split(",");for(var e,n=["#"],i=0;i<3;i++)1===(e=parseInt(t[i]).toString(16)).length&&(e="0"+e),n.push(e);return n.join("")}(t));if(!n||!e||isNaN(e))return"";e=Math.max(e,0),e=Math.min(e,100);for(var i=0;i<n.length;i++)n[i]=Math.floor(n[i]-n[i]*(e/100)).toString(16),1==n[i].length&&(n[i]="0"+n[i]);return"#"+n.join("")}function U(t,e){return 0!==t.indexOf("#")?t:"rgba("+parseInt("0x"+t.slice(1,3))+","+parseInt("0x"+t.slice(3,5))+","+parseInt("0x"+t.slice(5,7))+","+e+")"}function q(t,e){if(0===t.indexOf("#"))return U(t,e);if(0===t.indexOf("rgb")){var n=/rgb\((\d+),(\d+),(\d+)\)/;return 0===t.indexOf("rgba")&&(n=/rgba\((\d+),(\d+),(\d+),(0?\.?\d+)\)/),t.replace(n,(function(t,n,i,o){return"rgba(".concat(n,",").concat(i,",").concat(o,", ").concat(e,")")}))}return t}function V(t){var e="";return t&&t instanceof Array&&t.forEach((function(t){var n=t.fontFamily,i=t.resUrl;null!=i&&(e+='@font-face {\n                    font-family: "'.concat(n,'";\n                    src: url("').concat(i,'") format("truetype");\n                    font-weight: normal;\n                    font-style: normal;\n                }'))})),e}function W(t,e){if(!t)return"";-1!==t.indexOf("#")&&(t=U(t,1));var n=t.split(","),i=[];i.push(n[0].substr(5)),i.push(n[1].substr(0)),i.push(n[2].substr(0)),i.push(n[3].substr(0,n[3].length-1));for(var o=0;o<3;o++)i[o]=Math.floor((255-parseInt(i[o]))*e+parseInt(i[o]));return"rgba("+i[0]+","+i[1]+","+i[2]+","+i[3]+")"}},function(t,e,n){var i=[n(32)];t.exports={install:function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};i.forEach((function(e){"function"==typeof e?e(t):e&&"function"==typeof e.install&&e.install(t)}))}}},function(t,e){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}t.exports=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};t._moduleLoadedCallbacks={},t.onModuleLoaded=function(t,e){if("number"!=typeof t)throw new Error("moduleId类型不为Number: "+n(t));if("function"!=typeof e)throw new Error("callback类型不为Function: "+n(e));this._moduleLoadedCallbacks[t]=e},t._executeModuleLoadedCallback=function(e){var n=this._moduleLoadedCallbacks[e];if("function"==typeof n&&"number"==typeof e){var i=t.SiteModule.find(e),o=t.ManageModule.find(e);n.call(t,i,o),delete this._moduleLoadedCallbacks[e]}}}},function(t,e,n){var i=n(34),o=n(8),r=o.isSupportWebp,a=o.imgToWebp,s=".J_img_lazyLoad, img[data-original]",l=null;function u(t){null!==l&&l.observeImages(t)}t.exports={init:function(){var t={selector:s,useWebp:Fai.top.webpOptOpen};l=new i(t)},addImgLazyLoad:u,checkLazyLoad:function(t){null!==l&&t.find(s).each((function(t,e){u(e)}))},isSupportWebp:r,imgToWebp:a,forceLoadImages:function(t){null!==l&&l.forceLoadImages(t)}}},function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var r=n(8),a=r.isSupportWebp,s=r.imgToWebp,l=n(4),u=l.supportsIntersectionObserver,c=l.isIntersecting,f={selector:"img[data-original]",originalSrcAttr:"data-original",loadedAttr:"data-imgloaded",placeholderClass:"loadingPlaceholderBackground",isTransparentClass:"lazyload_transparent",useWebp:!0,root:null,rootMargin:"100px 0px",threshold:0},d=function y(){return"undefined"!=typeof y._value?y._value:y._value="undefined"!=typeof window},p=function(t,e){return t.getAttribute(e)},h=function(t,e,n){null!==n?t.setAttribute(e,n):t.removeAttribute(e)},m=function(t,e){if(e){var n=t.classList;n?n.add(e):$(t).addClass(e)}},v=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";if(e){var n=t.classList;n?n.remove(e):$(t).removeClass(e)}},g=function(){function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;i(this,t),d&&(this.settings=Object.assign({},f,e),this.supportsIntersectionObserver=u(),this.supportsIntersectionObserver?(this.images=n||document.querySelectorAll(this.settings.selector),this._observer=null,this._init()):this._showAllImage(n))}var e,n,r;return e=t,n=[{key:"observeImages",value:function(t){var e=this;if(void 0!==t&&!(t instanceof NodeList||t instanceof Node))throw new Error("请传入node或者nodeList");if(this.supportsIntersectionObserver){var n=t||this.images,i=n instanceof NodeList?n:[t];Array.from(i).filter(this._filterImages.bind(this)).forEach((function(t){(function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";if(e){var n=t.classList;return n?n.contains(e):$(t).hasClass(e)}})(t,e.settings.isTransparentClass)||m(t,e.settings.placeholderClass),e._observer.observe(t)}))}else this._showAllImage(t)}},{key:"_init",value:function(){var t=this.settings,e={root:t.root,rootMargin:t.rootMargin,threshold:t.threshold};this._observer=new IntersectionObserver(this._onIntersection.bind(this),e),this.observeImages()}},{key:"_onIntersection",value:function(t){var e=this;t.forEach((function(t){c(t)&&e._handleImageChange(t.target)}))}},{key:"_handleImageChange",value:function(t){var e=this,n=this.settings,i=n.originalSrcAttr,o=n.useWebp,r=p(t,i),l=o&&a()?s(r):r;(function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return new Promise((function(e,n){var i=document.createElement("img");i.src=t,i.onload=function(t){e(t)},i.onerror=function(t){n(t)}}))})(l).then((function(){e._changeImage(t,l)}))["catch"]((function(){e._changeImage(t,r)}))}},{key:"_changeImage",value:function(t,e){var n=this.settings,i=n.loadedAttr,o=n.animationClass,r=n.placeholderClass,a=n.animationDuration;"img"===t.tagName.toLowerCase()?h(t,"src",e):t.style.backgroundImage="url(".concat(e,")"),i&&h(t,i,"true"),r&&v(t,r),o&&(m(t,o),setTimeout((function(){v(t,o)}),a)),this._observer&&this._observer.unobserve(t)}},{key:"_showAllImage",value:function(t){var e=this.settings,n=e.originalSrcAttr,i=e.selector,o=e.loadedAttr;$(t||i).each((function(t,e){var i=$(e),r=i.attr(n);i.is("img")?i.attr("src",r):i.css("background-image","url(".concat(r,")")),o&&i.attr(o,"true")}))}},{key:"_filterImages",value:function(t){var e=this.settings,n=e.originalSrcAttr,i=e.loadedAttr,o=p(t,n),r="true"!==p(t,i);return o&&r}},{key:"forceLoadImages",value:function(t){var e=this;t.find(this.settings.selector).each((function(t,n){e._handleImageChange(n)}))}}],n&&o(e.prototype,n),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=g},function(t,e,n){var i=n(36),o=(0,n(3).memorize)((function(){return new i}));t.exports={initHiddenModuleList:o}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._hiddenModuleList=[],this.getHiddenModuleList()}var e,i,o;return e=t,i=[{key:"getHiddenModuleList",value:function(){var t=this;try{$.ajax({type:"post",url:Site.addRequestPrefix({newPath:"/ajax/module_h.jsp",oldPath:Site.genAjaxUrl("module_h.jsp")}),data:{cmd:"getWafNotCk_getHiddenModuleList",_colId:Fai.top._colId,_extId:Fai.top._extId,_manageMode:""+Fai.top._manageMode},error:function(){console.log("系统异常，请稍后重试")},success:function(e){var n=jQuery.parseJSON(e);n.success?t._hiddenModuleList=n.msg:Fai.ing(n.msg)}})}catch(e){console.log(e)}}},{key:"_checkNumber",value:function(t){if("number"!=typeof t&&"string"!=typeof t||"string"==typeof t&&"number"!=typeof parseInt(t))throw new Error("id is not number")}},{key:"isHiddenModule",value:function(t){this._checkNumber(t),this._checkArray();var e=this._hiddenModuleList;return Fai.top._manageMode?!!e.filter((function(e){return t==e.id})).length:this._hiddenModuleList.includes(t)}},{key:"hiddenModuleIndex",value:function(t){this._checkNumber(t),this._checkArray();var e=-1,n=this._hiddenModuleList;return Fai.top._manageMode?n.forEach((function(n,i){t==n.id&&(e=i)})):e=n.indexOf(t),e}},{key:"_checkArray",value:function(){if(!Array.isArray(this._hiddenModuleList))throw new Error("_hiddenModuleList is not array")}},{key:"getHiddenModuleIds",value:function(){return this._checkArray(),Fai.top._manageMode?this._hiddenModuleList.map((function(t){return t.id})):this._hiddenModuleList}},{key:"spliceHiddenModule",value:function(t){var e,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;this._checkArray();var i=this.hiddenModuleIndex(t);if(-1!==i){for(var o=arguments.length,r=new Array(o>2?o-2:0),a=2;a<o;a++)r[a-2]=arguments[a];(e=this._hiddenModuleList).splice.apply(e,[i,n].concat(r))}}},{key:"pushHiddenModule",value:function(t){this._checkArray(),this._hiddenModuleList.push(t)}},{key:"unshiftHiddenModule",value:function(t){this._checkArray(),this._hiddenModuleList.unshift(t)}}],i&&n(e.prototype,i),o&&n(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=i},function(t,e,n){"use strict";n.r(e);var i={};n.r(i),n.d(i,"contextMenu",(function(){return v})),n.d(i,"parallax",(function(){return g})),n.d(i,"guidePanel",(function(){return b})),n.d(i,"navPackPanel",(function(){return w})),n.d(i,"loadJqUpload",(function(){return S})),n.d(i,"loadIEUploadify",(function(){return k})),n.d(i,"loadThree",(function(){return M})),n.d(i,"loadBooking",(function(){return T}));var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{"class":"s_suspendserv_wrap s_suspendserv_wrap-"+t.styleType,style:t.bottomStyle},[t.manageMode?n("div",{staticClass:"s_suspendserv_border-dashed"}):t._e(),t._v(" "),n("div",{staticClass:"s_suspendserv_list"},t._l(t.computedServList,(function(e){return n("div",{key:t.getSymbol(e.id),"class":"s_suspendserv_servitem "+(e.type==t.CONTACT_WE_ID?"s_suspendserv_servitem-contact":""),style:t.getBgThemeStyle,on:{transitionend:function(e){return t.showHoverArea(e)},mouseenter:function(e){return t.hoverServItem(e,!0)},mouseleave:function(e){return t.hoverServItem(e,!1)},click:function(n){return t.servEvent(e)}}},[1==e.iconType&&1==e.isPic?n("div",{staticClass:"s_suspendserv_servicon s_suspendserv_servicon-image",style:t.getPicStyle(e)}):n("div",{staticClass:"s_suspendserv_servicon icon-",style:t.iconStyle(e),domProps:{innerHTML:t._s(t.getFontPicHtml(e))}}),t._v(" "),1!=t.styleType||e.type==t.CONTACT_WE_ID?n("div",{staticClass:"s_suspendserv_servname"},[t._v("\n                "+t._s(e.name)+"\n            ")]):t._e(),t._v(" "),1==e.type||t.getContentDetail(e).length?n("div",{"class":["s_suspendserv_hoverarea",t.getHoverClassByServType(e)]},t._l(t.getHoverServList(e),(function(i){return n("div",{key:i.id,staticClass:"s_suspendserv_hoveritem",on:{click:function(e){return e.stopPropagation(),t.servEvent(i)}}},[1!=t.styleType||0!=i.type&&2!=i.type?1==i.type?n("div",{"class":["s_suspendserv_wximgwrap",t.hoverWxImgModify(i)]},[n("img",{staticClass:"s_suspendserv_hoverwximg",attrs:{src:i.hoverPicPath}})]):t._e():[1==i.iconType&&1==i.isPic?n("div",{staticClass:"s_suspendserv_servicon s_suspendserv_servicon-image",style:t.getPicStyle(i)}):n("div",{staticClass:"s_suspendserv_servicon icon-",domProps:{innerHTML:t._s(t.getFontPicHtml(i))}})],t._v(" "),1==t.styleType?n("span",{staticClass:"s_suspendserv_hovername",on:{mouseenter:function(n){return t.hoverFormServItem(n,!0,e)},mouseleave:function(n){return t.hoverFormServItem(n,!1,e)}}},[t._v("\n                        "+t._s(i.name)+"\n                    ")]):t._e(),t._v(" "),n("span",{staticClass:"s_suspendserv_hovercontent"},[e.content&&e.content.length?[n("span",[t._v(t._s(e.content))]),t._v(" "),n("br")]:t._e(),t._v(" "),(0==e.type?e.qq&&e.qq.length:e.phone&&e.phone.length)?n("span",{staticStyle:{color:"#666"}},[t._v(t._s(0==e.type?e.qq:e.phone))]):t._e()],2)],2)})),0):t._e()])})),0)])};o._withStripped=!0;var r=-2;var a=function(t,e,n,i,o,r,a,s){var l,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),i&&(u.functional=!0),r&&(u._scopeId="data-v-"+r),a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=l):o&&(l=s?function(){o.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:o),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(t,e){return l.call(e),c(t,e)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,l):[l]}return{exports:t,options:u}}({name:"suspendServ",props:["data"],data:function(){var t=new Map;return t.set(0,"qqFontPic"),t.set(1,"wxFontPic"),t.set(2,"phoneFontPic"),t.set(3,"formFontPic"),{fontPicDefMap:t,phoneFontPic:"a1094",wxFontPic:"a1092",formFontPic:"a0572",qqFontPic:"a1090",manageMode:Fai.top._manageMode,CONTACT_WE_ID:-1,FORM_STORE_ID:r,globalObj:Fai.top._Global}},computed:{servList:function(){return this.data.servlist||[]},styleType:function(){return this.data.styleType||0},getBgThemeStyle:function(){var t=Fai.top._majorColorData;return Fai.top._manageMode&&(t=jzManage._store.state.majorColor),2==this.styleType?"background-color:".concat(t):""},computedServList:function(){if(0==this.styleType||2==this.styleType)return this.servList;var t=[{id:-1,type:-1,name:"联系我们",iconType:1,isPic:0,fontPic:"a1088"}],e=!1,n=this.servList.filter((function(t){return 3==t.type&&(e=!0),1==t.type}));return e&&t.push({id:r,type:r,name:"提交表单",iconType:1,isPic:0,fontPic:this.formFontPic}),t=t.concat(n)},hoverServList:function(){this.styleType},bottomStyle:function(){return 0==this.styleType&&this.globalObj._backToTop?{bottom:"120px"}:{}}},methods:{hoverWxImgModify:function(t){return(this.getContentDetail(t)||"").length?"":"s_suspendserv_wximgwrap-nomargin"},getHoverServList:function(t){return 1!=this.styleType||1==t.type?[t]:1==this.styleType&&t.type==r?this.servList.filter((function(t){return 3==t.type})):this.servList.filter((function(t){return 0==t.type||2==t.type}))},getFontPicHtml:function(t){return 0==t.iconType?"&#x".concat(this[this.fontPicDefMap.get(t.type)]):"&#x".concat(t.fontPic)},iconStyle:function(t){return 0==t.iconType&&3==t.type||t.type==r?{"font-weight":700}:{}},getPicStyle:function(t){return 1==t.isPic&&t.picId.length&&t.picPath.length?{"background-image":"url(".concat(t.picPath,")")}:{}},getContentDetail:function(t){return 0==t.type||2==t.type?"\n                    ".concat(t.content).concat(0==t.type?t.qq:t.phone):"".concat(t.content)},getHoverClassByServType:function(t){var e="";return 1==t.type?e="-wx":3==t.type&&(e="-form"),"s_suspendserv_hoverarea".concat(e)},hoverFormServItem:function(t,e,n){if(n.id==r){var i={};i.color=e?Fai.top._majorColorData:"",$(t.target).css(i)}},hoverServItem:function(t,e){var n={};e?2!=this.styleType?n.color=Fai.top._majorColorData:(n.color=Fai.top._majorColorData,n["background-color"]="#fff",n.border="1px solid ".concat(Fai.top._majorColorData),$(t.currentTarget).addClass("J_mouseover")):2!=this.styleType?n.color="":(n["background-color"]=Fai.top._majorColorData,n.color="#fff",n.border="",this.hideHoverArea(t),$(t.currentTarget).removeClass("J_mouseover")),$(t.target).css(n)},showHoverArea:function(t){2==this.styleType&&$(t.currentTarget).hasClass("J_mouseover")&&$(t.currentTarget).find(".s_suspendserv_hoverarea").addClass("s_suspendserv_hoverarea-active")},hideHoverArea:function(t){$(t.currentTarget).find(".s_suspendserv_hoverarea-active").removeClass("s_suspendserv_hoverarea-active")},servEvent:function(t){1!=t.type&&2!=t.type&&(0==t.type&&window.open(t.qqHref),3==t.type&&JZ.transformForLinkFunc("linkForm",t.formId))},getSymbol:function(t){return Symbol(t)}}},o,[],!1,null,null,null),s=a.exports;function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */u=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",r=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(P){s=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var o=e&&e.prototype instanceof p?e:p,r=Object.create(o.prototype),a=new M(i||[]);return r._invoke=function(t,e,n){var i="suspendedStart";return function(o,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===o)throw r;return T()}for(n.method=o,n.arg=r;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=f(t,e,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),r}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(P){return{type:"throw",arg:P}}}t.wrap=c;var d={};function p(){}function h(){}function m(){}var v={};s(v,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(F([])));y&&y!==e&&n.call(y,o)&&(v=y);var b=m.prototype=p.prototype=Object.create(v);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(o,r,a,s){var u=f(t[o],t,r);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==l(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(d).then((function(t){c.value=t,a(c)}),(function(t){return i("throw",t,a,s)}))}s(u.arg)}var o;this._invoke=function(t,n){function r(){return new e((function(e,o){i(t,n,e,o)}))}return o=o?o.then(r,r):r()}}function S(t,e){var n=t.iterator[e.method];if(undefined===n){if(e.delegate=null,"throw"===e.method){if(t.iterator["return"]&&(e.method="return",e.arg=undefined,S(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=f(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=undefined),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function F(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=undefined,e.done=!0,e};return r.next=r}}return{next:T}}function T(){return{value:undefined,done:!0}}return h.prototype=m,s(b,"constructor",m),s(m,"constructor",h),h.displayName=s(m,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s(t,a,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},_(w.prototype),s(w.prototype,r,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,i,o,r){void 0===r&&(r=Promise);var a=new w(c(e,n,i,o),r);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(b),s(b,a,"Generator"),s(b,o,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function i(){for(;e.length;){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},t.values=F,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=undefined)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=undefined),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],a=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var s=n.call(r,"catchLoc"),l=n.call(r,"finallyLoc");if(s&&l){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),d}},"catch":function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:F(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=undefined),d}},t}function c(t,e,n,i,o,r,a){try{var s=t[r](a),l=s.value}catch(u){return void n(u)}s.done?e(l):Promise.resolve(l).then(i,o)}var f={isRender:!1,instance:null,render:function(){var t,e=this;return(t=u().mark((function n(){var t,i;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!e.isRender){n.next=4;break}return e.instance.toggle(!0),n.abrupt("return");case 4:if(Fai.top._Global.openSuspendServ){n.next=6;break}return n.abrupt("return");case 6:return n.next=8,e.getData();case 8:t=n.sent,i=t.pageData,e.isRender=!0,e.instance=new Vue({data:{vueData:i,show:!0},components:{suspendServComponent:s},methods:{toggle:function(t){this.show=t}},mounted:function(){setTimeout((function(){Fai.top._manageMode&&jzManage.siteToolbar.bind({target:".s_suspendserv_wrap",name:"suspendServ",type:"system"})}))},template:'\n                    <suspend-serv-component v-show="show" :data="vueData"/>\n                '}).$mount(),$("body").append(e.instance.$el),n.next=19;break;case 15:n.prev=15,n.t0=n["catch"](0),console.log("悬浮客服加载失败"),console.error(n.t0);case 19:case"end":return n.stop()}}),n,null,[[0,15]])})),function(){var e=this,n=arguments;return new Promise((function(i,o){var r=t.apply(e,n);function a(t){c(r,i,o,a,s,"next",t)}function s(t){c(r,i,o,a,s,"throw",t)}a(undefined)}))})()},setting:function(){Fai.top.bizManageShared.jzPopups.initPopups({title:"悬浮客服",width:663,contentHeight:507,microApps:{id:"suspendServEdit",ajaxUrl:"/api/manage/suspendServices/getSuspendServListPopupData"},saveName:"save",okButtonProps:{loading:!1},handleOk:function(t){var e=t.servlist,n=t.styleType;return new Promise((function(t){var i,o,r,a=(null===(i=jzSite)||void 0===i||null===(o=i.systemComponents)||void 0===o||null===(r=o.suspendServ)||void 0===r?void 0:r.instance)||{};a.vueData.servlist=e,a.vueData.styleType=n,t()}))}})},getData:function(){var t=Fai.top._manageMode?"/api/manage/suspendServices/getSuspendServListPopupData":"/api/guest/suspendServices/getSuspendServListPopupData";return new Promise((function(e){jzRequest.post(t).then((function(t){var n=t.data;n.success?e(n):Fai.ing(n.msg||"系统错误")}))}))},hidden:function(){this.instance.toggle(!1)}},d={suspendServ:f},p=n(3),h=n(1),m=!1,v=function D(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return new Promise((function(e){if(!$.contextMenu){if(D.Dep.push(t),m)return;return m=!0,void $LAB.script(Fai.top.resMap.js.contextMenu).wait((function(){D.Dep.forEach((function(t){return $.contextMenu(t)})),e()}))}$.contextMenu(t),e()}))};v.Dep=[];var g=function(){return new Promise((function(t){$.fn.parallax?t():$LAB.script(Fai.top.resMap.js.parallax).wait((function(){t()}))}))},y=!1,b=function(t){return new Promise((function(t){y?t(Site.newGuidePanel):Site.loadCss(Fai.top.resMap.css.guidePanel,(function(){$LAB.script(Fai.top.resMap.js.guidePanel).wait((function(){y=!0,t(Site.newGuidePanel)}))}))}))},_=!1,w=function(t){return new Promise((function(t){_?t():Site.loadCss(Fai.top.resMap.css.navPackPanel,(function(){$LAB.script(Fai.top.resMap.js.navPackPanel).wait((function(){_=!0,t()}))}))}))},S=function(){return new Promise((function(t){"undefined"!=typeof $.fn.uploadify?t():$LAB.script(Fai.top.resMap.js.jqUpload).wait((function(){t()}))}))},k=function(){return new Promise((function(t){"undefined"!=typeof window.SWFUploadCreator?t():$LAB.script(Fai.top.resMap.js.swfUpload).wait((function(){t()}))}))},C=!1,M=function(){return new Promise((function(t){C?t():$LAB.script(Fai.top.resMap.js.three,Fai.top.resMap.js.sphereviewer).wait((function(){C=!0,t()}))}))},F=!1,T=function(){return new Promise((function(t){F?t():$LAB.script(Fai.top.resMap.js.booking).wait((function(){F=!0,t()}))}))},P=n(5),x=n(0),I=n(10),O=n(31),L=n(33),j=n(35),A=n(6);if("undefined"!=typeof window){window.jzSite={lazyLoad:L,hiddenModules:j,mutationObserver:A,digGet:p.digGet,libs:i,getSiteAnimationConfig:h.getSiteAnimationConfig,initSiteAnimation:h.initSiteAnimation,getModuleStructureTypeForAnimation:h.getModuleStructureTypeForAnimation,getModuleTypeForAnimation:h.getModuleTypeForAnimation,getContentDomSeqList:h.getContentDomSeqList,getAnimationDirectionConf:h.getAnimationDirectionConf,siteConfigHandler:h.siteConfigHandler,refreshOneResAnimation:h.refreshOneResAnimation,readyForContentAnimation:h.readyForContentAnimation,refreshOneSiteAnimationEl:h.refreshOneSiteAnimationEl,systemComponents:d};var E=window.jzModule||(window.jzModule={});E.Module=P,E.SiteModule=x,O.install(E),window.onlineMapCallBack=function(){try{E.OnlineMapModule.onlineMapCallBackStack.length&&E.OnlineMapModule.onlineMapCallBackStack.forEach((function(t){"function"==typeof t&&t()})),E.OnlineMapModule.finishCallBack=!0}catch(t){console.log(t)}},Object.assign(E,I)}}])}));
//# sourceMappingURL=site.min.js.map